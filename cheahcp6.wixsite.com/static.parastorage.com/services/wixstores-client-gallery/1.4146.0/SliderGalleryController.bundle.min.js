! function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.SliderGalleryController = e() : t.SliderGalleryController = e()
}(self, (() => (() => {
    var t = {
            4050: (t, e, n) => {
                "use strict";
                var r = n(4111),
                    i = n(4516),
                    o = n(1133);

                function a(t, e) {
                    return e.encode ? e.strict ? r(t) : encodeURIComponent(t) : t
                }

                function s(t) {
                    return Array.isArray(t) ? t.sort() : "object" == typeof t ? s(Object.keys(t)).sort((function(t, e) {
                        return Number(t) - Number(e)
                    })).map((function(e) {
                        return t[e]
                    })) : t
                }

                function l(t) {
                    var e = t.indexOf("?");
                    return -1 === e ? "" : t.slice(e + 1)
                }

                function u(t, e) {
                    var n = function(t) {
                            var e;
                            switch (t.arrayFormat) {
                                case "index":
                                    return function(t, n, r) {
                                        e = /\[(\d*)\]$/.exec(t), t = t.replace(/\[\d*\]$/, ""), e ? (void 0 === r[t] && (r[t] = {}), r[t][e[1]] = n) : r[t] = n
                                    };
                                case "bracket":
                                    return function(t, n, r) {
                                        e = /(\[\])$/.exec(t), t = t.replace(/\[\]$/, ""), e ? void 0 !== r[t] ? r[t] = [].concat(r[t], n) : r[t] = [n] : r[t] = n
                                    };
                                default:
                                    return function(t, e, n) {
                                        void 0 !== n[t] ? n[t] = [].concat(n[t], e) : n[t] = e
                                    }
                            }
                        }(e = i({
                            arrayFormat: "none"
                        }, e)),
                        r = Object.create(null);
                    return "string" != typeof t ? r : (t = t.trim().replace(/^[?#&]/, "")) ? (t.split("&").forEach((function(t) {
                        var e = t.replace(/\+/g, " ").split("="),
                            i = e.shift(),
                            a = e.length > 0 ? e.join("=") : void 0;
                        a = void 0 === a ? null : o(a), n(o(i), a, r)
                    })), Object.keys(r).sort().reduce((function(t, e) {
                        var n = r[e];
                        return Boolean(n) && "object" == typeof n && !Array.isArray(n) ? t[e] = s(n) : t[e] = n, t
                    }), Object.create(null))) : r
                }
                e.Qc = u
            },
            472: t => {
                for (var e = [], n = 0; n < 256; ++n) e[n] = (n + 256).toString(16).substr(1);
                t.exports = function(t, n) {
                    var r = n || 0,
                        i = e;
                    return [i[t[r++]], i[t[r++]], i[t[r++]], i[t[r++]], "-", i[t[r++]], i[t[r++]], "-", i[t[r++]], i[t[r++]], "-", i[t[r++]], i[t[r++]], "-", i[t[r++]], i[t[r++]], i[t[r++]], i[t[r++]], i[t[r++]], i[t[r++]]].join("")
                }
            },
            4035: t => {
                var e = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto);
                if (e) {
                    var n = new Uint8Array(16);
                    t.exports = function() {
                        return e(n), n
                    }
                } else {
                    var r = new Array(16);
                    t.exports = function() {
                        for (var t, e = 0; e < 16; e++) 0 == (3 & e) && (t = 4294967296 * Math.random()), r[e] = t >>> ((3 & e) << 3) & 255;
                        return r
                    }
                }
            },
            9119: (t, e, n) => {
                var r = n(4035),
                    i = n(472);
                t.exports = function(t, e, n) {
                    var o = e && n || 0;
                    "string" == typeof t && (e = "binary" === t ? new Array(16) : null, t = null);
                    var a = (t = t || {}).random || (t.rng || r)();
                    if (a[6] = 15 & a[6] | 64, a[8] = 63 & a[8] | 128, e)
                        for (var s = 0; s < 16; ++s) e[o + s] = a[s];
                    return e || i(a)
                }
            },
            551: (t, e, n) => {
                "use strict";
                e.q = void 0;
                var r = n(2565),
                    i = n(813);
                e.q = function(t) {
                    var e = function(t) {
                        n.g.console && "function" == typeof n.g.console.error && console.error(t)
                    };
                    if (!t) return e(new Error("Wix Sdk is missing")), null;
                    var o = i.createSafeCall((function(t) {
                            e(t)
                        })),
                        a = {
                            valid: !1,
                            config: {
                                setErrorLogger: function(t) {
                                    e = t
                                }
                            },
                            Activities: {
                                Type: t.Activities.Type,
                                Error: t.Activities.Error,
                                postActivity: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Activities.postActivity(e, n, r)
                                    })))
                                },
                                getActivities: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Activities.getActivities(n, r, e)
                                    })))
                                },
                                getActivityById: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Activities.getActivityById(e, n, r)
                                    })))
                                },
                                getUserSessionToken: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Activities.getUserSessionToken(e)
                                    })))
                                }
                            },
                            Analytics: {
                                PixelType: t.Analytics.PixelType,
                                PixelEventType: t.Analytics.PixelEventType,
                                registerCampaignPixel: t.Analytics.registerCampaignPixel,
                                reportCampaignEvent: t.Analytics.reportCampaignEvent
                            },
                            Billing: {
                                Cycle: t.Billing.Cycle,
                                openBillingPageForProduct: function(e, n) {
                                    return i.addTimeout(new Promise((function(r, i) {
                                        t.Billing.openBillingPageForProduct(e, n, i)
                                    })))
                                },
                                getBillingPageForProduct: function(e, n) {
                                    return i.addTimeout(new Promise((function(r, i) {
                                        t.Billing.getBillingPageForProduct(e, n, r, i)
                                    })))
                                },
                                getBillingPackages: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Billing.getBillingPackages(e, n, r)
                                    })))
                                },
                                getProducts: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Billing.getProducts(e, n, r)
                                    })))
                                }
                            },
                            Contacts: {
                                getContacts: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Contacts.getContacts(e, n, r)
                                    })))
                                },
                                getContactById: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Contacts.getContactById(e, n, r)
                                    })))
                                },
                                reconcileContact: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Contacts.reconcileContact(e, n, r)
                                    })))
                                }
                            },
                            Dashboard: {
                                PremiumIntent: t.Dashboard.PremiumIntent,
                                setHeight: t.Dashboard.setHeight,
                                openMediaDialog: function(e, n, r) {
                                    return new Promise((function(i) {
                                        t.Dashboard.openMediaDialog(e, n, i, r)
                                    }))
                                },
                                openBillingPage: t.Dashboard.openBillingPage,
                                openModal: function(e, n, r) {
                                    return new Promise((function(i) {
                                        t.Dashboard.openModal(e, n, r, i)
                                    }))
                                },
                                closeWindow: t.Dashboard.closeWindow,
                                scrollTo: t.Dashboard.scrollTo,
                                getEditorUrl: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Dashboard.getEditorUrl(e)
                                    })))
                                },
                                pushState: t.Dashboard.pushState,
                                resizeWindow: t.Dashboard.resizeWindow,
                                revalidateSession: function() {
                                    return i.addTimeout(new Promise((function(e, n) {
                                        t.Dashboard.revalidateSession(e, n)
                                    })))
                                },
                                getProducts: function() {
                                    return i.addTimeout(new Promise((function(e, n) {
                                        t.Dashboard.getProducts(e, n)
                                    })))
                                },
                                getSiteViewUrl: function(e) {
                                    return i.addTimeout(new Promise((function(n) {
                                        t.Dashboard.getSiteViewUrl(e, n)
                                    })))
                                },
                                appEngaged: t.Dashboard.appEngaged
                            },
                            Error: t.Error,
                            Events: t.Events,
                            Features: {
                                Types: t.Features.Types,
                                isSupported: function(e) {
                                    return i.addTimeout(new Promise((function(n) {
                                        t.Features.isSupported(e, n)
                                    })))
                                }
                            },
                            Media: {
                                AudioType: t.Media.AudioType,
                                getImageUrl: t.Media.getImageUrl,
                                getResizedImageUrl: t.Media.getResizedImageUrl,
                                getAudioUrl: t.Media.getAudioUrl,
                                getDocumentUrl: t.Media.getDocumentUrl,
                                getSwfUrl: t.Media.getSwfUrl,
                                getPreviewSecureMusicUrl: t.Media.getPreviewSecureMusicUrl
                            },
                            PubSub: {
                                unsubscribe: t.PubSub.unsubscribe,
                                subscribe: t.PubSub.subscribe,
                                publish: t.PubSub.publish
                            },
                            Preview: {
                                openSettingsDialog: t.Preview.openSettingsDialog
                            },
                            Settings: {
                                MediaType: t.Settings.MediaType,
                                PremiumIntent: t.Settings.PremiumIntent,
                                getColorByreference: t.Settings.getColorByreference,
                                setBooleanParam: t.Settings.setBooleanParam,
                                setColorParam: t.Settings.setColorParam,
                                setNumberParam: t.Settings.setNumberParam,
                                getSiteColors: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Settings.getSiteColors(e)
                                    })))
                                },
                                getStyleColorByKey: t.Settings.getStyleColorByKey,
                                getWindowPlacement: function(e) {
                                    return i.addTimeout(new Promise((function(n) {
                                        t.Settings.getWindowPlacement(e, n)
                                    })))
                                },
                                getDashboardAppUrl: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Settings.getDashboardAppUrl(e)
                                    })))
                                },
                                getSiteInfo: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Settings.getSiteInfo(e)
                                    })))
                                },
                                getSitePages: function(e) {
                                    return i.addTimeout(new Promise((function(n) {
                                        t.Settings.getSitePages(e, n)
                                    })))
                                },
                                getSiteMap: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Settings.getSiteMap(e)
                                    })))
                                },
                                getStyleParams: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Settings.getStyleParams(e)
                                    })))
                                },
                                openBillingPage: t.Settings.openBillingPage,
                                appEngaged: t.Settings.appEngaged,
                                openMediaDialog: function(e, n, r) {
                                    return new Promise((function(i) {
                                        t.Settings.openMediaDialog(e, n, i, r)
                                    }))
                                },
                                openSiteMembersSettingsDialog: t.Settings.openSiteMembersSettingsDialog,
                                refreshApp: t.Settings.refreshApp,
                                refreshAppByCompIds: t.Settings.refreshAppByCompIds,
                                setWindowPlacement: t.Settings.setWindowPlacement,
                                triggerSettingsUpdatedEvent: t.Settings.triggerSettingsUpdatedEvent,
                                openModal: function(e, n, r, i, o) {
                                    return new Promise((function(a) {
                                        t.Settings.openModal(e, n, r, i, a, o)
                                    }))
                                },
                                closeWindow: t.Settings.closeWindow,
                                addComponent: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Settings.addComponent(e, n, r)
                                    })))
                                },
                                resizeComponent: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Settings.resizeComponent(e, n, r)
                                    })))
                                },
                                setExternalId: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Settings.setExternalId(e, n, r)
                                    })))
                                },
                                revalidateSession: function() {
                                    return i.addTimeout(new Promise((function(e, n) {
                                        t.Settings.revalidateSession(e, n)
                                    })))
                                },
                                getCurrentPageAnchors: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Settings.getCurrentPageAnchors(e)
                                    })))
                                },
                                setFullWidth: function(e, n) {
                                    return i.addTimeout(new Promise((function(r, i) {
                                        t.Settings.setFullWidth(e, n, r, i)
                                    })))
                                },
                                isFullWidth: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Settings.isFullWidth(e)
                                    })))
                                },
                                openReviewInfo: t.Settings.openReviewInfo,
                                getStateUrl: function(e, n) {
                                    return i.addTimeout(new Promise((function(r) {
                                        t.Settings.getStateUrl(e, n, r)
                                    })))
                                },
                                isComponentInstalled: function(e) {
                                    return i.addTimeout(new Promise((function(n) {
                                        t.Settings.isComponentInstalled(e, n)
                                    })))
                                },
                                openLinkPanel: function(e, n) {
                                    return new Promise((function(r) {
                                        t.Settings.openLinkPanel(e, r, n)
                                    }))
                                }
                            },
                            Styles: {
                                getStyleParams: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Styles.getStyleParams(e)
                                    })))
                                },
                                setStyleParams: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Styles.setStyleParams(e, n, r)
                                    })))
                                },
                                setFontParam: function(e, n) {
                                    return i.addTimeout(new Promise((function(r, i) {
                                        t.Styles.setFontParam(e, n, r, i)
                                    })))
                                },
                                getEditorFonts: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Styles.getEditorFonts(e)
                                    })))
                                },
                                getSiteTextPresets: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Styles.getSiteTextPresets(e)
                                    })))
                                },
                                getFontsSpriteUrl: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Styles.getFontsSpriteUrl(e)
                                    })))
                                },
                                getStyleFontByKey: t.Styles.getStyleFontByKey,
                                getStyleFontByReference: t.Styles.getStyleFontByReference,
                                getSiteColors: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Styles.getSiteColors(e)
                                    })))
                                },
                                getStyleColorByKey: t.Styles.getStyleColorByKey,
                                getColorByreference: t.Styles.getColorByreference,
                                setColorParam: function(e, n) {
                                    return i.addTimeout(new Promise((function(r, i) {
                                        t.Styles.setColorParam(e, n, r, i)
                                    })))
                                },
                                setNumberParam: function(e, n) {
                                    return i.addTimeout(new Promise((function(r, i) {
                                        t.Styles.setNumberParam(e, n, r, i)
                                    })))
                                },
                                setBooleanParam: function(e, n) {
                                    return i.addTimeout(new Promise((function(r, i) {
                                        t.Styles.setBooleanParam(e, n, r, i)
                                    })))
                                },
                                openColorPicker: function(e) {
                                    return new Promise((function(n) {
                                        t.Styles.openColorPicker(e, n)
                                    }))
                                },
                                openFontPicker: function(e) {
                                    return new Promise((function(n) {
                                        t.Styles.openFontPicker(e, n)
                                    }))
                                },
                                setUILIBParamValue: t.Styles.setUILIBParamValue,
                                getStyleId: function() {
                                    return i.addTimeout(new Promise((function(e) {
                                        t.Styles.getStyleId(e)
                                    })))
                                },
                                getStyleParamsByStyleId: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.Styles.getStyleParamsByStyleId(e, n, r)
                                    })))
                                }
                            },
                            Theme: t.Theme,
                            Utils: {
                                getViewMode: o(t.Utils.getViewMode),
                                toWixDate: o(t.Utils.toWixDate),
                                getCompId: o(t.Utils.getCompId),
                                getOrigCompId: o(t.Utils.getOrigCompId),
                                getWidth: o(t.Utils.getWidth),
                                getLocale: o(t.Utils.getLocale),
                                getCacheKiller: o(t.Utils.getCacheKiller),
                                getTarget: o(t.Utils.getTarget),
                                getSectionUrl: function(e) {
                                    return i.addTimeout(new Promise((function(n) {
                                        t.Utils.getSectionUrl(e, n)
                                    })))
                                },
                                getInstanceId: o(t.Utils.getInstanceId),
                                getSignDate: o(t.Utils.getSignDate),
                                getUid: o(t.Utils.getUid),
                                getPermissions: o(t.Utils.getPermissions),
                                getIpAndPort: o(t.Utils.getIpAndPort),
                                getDemoMode: o(t.Utils.getDemoMode),
                                getDeviceType: o(t.Utils.getDeviceType),
                                getInstanceValue: o(t.Utils.getInstanceValue),
                                navigateToSection: o(t.Utils.navigateToSection),
                                getSiteOwnerId: o(t.Utils.getSiteOwnerId),
                                Media: {
                                    AudioType: t.Utils.Media.AudioType,
                                    getImageUrl: t.Utils.Media.getImageUrl,
                                    getResizedImageUrl: t.Utils.Media.getResizedImageUrl,
                                    getAudioUrl: t.Utils.Media.getAudioUrl,
                                    getDocumentUrl: t.Utils.Media.getDocumentUrl,
                                    getSwfUrl: t.Utils.Media.getSwfUrl,
                                    getPreviewSecureMusicUrl: t.Utils.Media.getPreviewSecureMusicUrl
                                }
                            },
                            Data: {
                                SCOPE: t.Data.SCOPE,
                                Public: {
                                    set: function(e, n, r) {
                                        return i.addTimeout(new Promise((function(i, o) {
                                            t.Data.Public.set(e, n, r, i, o)
                                        })))
                                    },
                                    get: function(e, n, r) {
                                        return i.addTimeout(new Promise((function(n, i) {
                                            t.Data.Public.get(e, r, n, i)
                                        })))
                                    },
                                    remove: function(e, n, r) {
                                        return i.addTimeout(new Promise((function(n, i) {
                                            t.Data.Public.remove(e, r, n, i)
                                        })))
                                    }
                                }
                            },
                            Performance: {
                                applicationLoaded: t.Performance.applicationLoaded,
                                applicationLoadingStep: t.Performance.applicationLoadingStep
                            },
                            WindowOrigin: t.WindowOrigin,
                            WindowPlacement: t.WindowPlacement,
                            openModal: function(e, n, r, i) {
                                return new Promise((function(o) {
                                    t.openModal(e, n, r, o, i)
                                }))
                            },
                            openPopup: function(e, n, r, i, o) {
                                return new Promise((function(a) {
                                    t.openPopup(e, n, r, i, a, o)
                                }))
                            },
                            setHeight: t.setHeight,
                            closeWindow: t.closeWindow,
                            scrollTo: t.scrollTo,
                            scrollBy: t.scrollBy,
                            getSiteInfo: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.getSiteInfo(e)
                                })))
                            },
                            getSitePages: function(e) {
                                return i.addTimeout(new Promise((function(n) {
                                    t.getSitePages(e, n)
                                })))
                            },
                            getSiteMap: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.getSiteMap(e)
                                })))
                            },
                            getBoundingRectAndOffsets: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.getBoundingRectAndOffsets(e)
                                })))
                            },
                            removeEventListener: t.removeEventListener,
                            addEventListener: t.addEventListener,
                            resizeWindow: t.resizeWindow,
                            requestLogin: function(e, n) {
                                return new Promise((function(r) {
                                    t.requestLogin(e, r, n)
                                }))
                            },
                            logOutCurrentMember: function(e) {
                                return i.addTimeout(new Promise((function(n, r) {
                                    t.logOutCurrentMember(e, r)
                                })))
                            },
                            currentMember: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.currentMember(e)
                                })))
                            },
                            navigateTo: function(e) {
                                return i.addTimeout(new Promise((function(n, r) {
                                    t.navigateTo(e, r)
                                })))
                            },
                            navigateToPage: function(e, n) {
                                return i.addTimeout(new Promise((function(r, i) {
                                    t.navigateToPage(e, n, i)
                                })))
                            },
                            getCurrentPageId: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.getCurrentPageId(e)
                                })))
                            },
                            pushState: t.pushState,
                            reportHeightChange: t.reportHeightChange,
                            getStyleParams: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.getStyleParams(e)
                                })))
                            },
                            getExternalId: function() {
                                return i.addTimeout(new Promise((function(e, n) {
                                    t.getExternalId(e, n)
                                })))
                            },
                            navigateToComponent: function(e, n) {
                                return i.addTimeout(new Promise((function(r, i) {
                                    t.navigateToComponent(e, n, i)
                                })))
                            },
                            resizeComponent: function(e) {
                                return i.addTimeout(new Promise((function(n, r) {
                                    t.resizeComponent(e, n, r)
                                })))
                            },
                            revalidateSession: function() {
                                return i.addTimeout(new Promise((function(e, n) {
                                    t.revalidateSession(e, n)
                                })))
                            },
                            getCurrentPageAnchors: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.getCurrentPageAnchors(e)
                                })))
                            },
                            navigateToAnchor: function(e) {
                                return i.addTimeout(new Promise((function(n, r) {
                                    t.navigateToAnchor(e, r)
                                })))
                            },
                            getComponentInfo: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.getComponentInfo(e)
                                })))
                            },
                            replaceSectionState: t.replaceSectionState,
                            setPageMetadata: t.setPageMetadata,
                            getStateUrl: function(e, n) {
                                return i.addTimeout(new Promise((function(r) {
                                    t.getStateUrl(e, n, r)
                                })))
                            },
                            getAdsOnPage: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.getAdsOnPage(e)
                                })))
                            }
                        };
                    return t.SuperApps ? r.__assign(r.__assign({}, a), {
                        SuperApps: {
                            Settings: {
                                MediaType: t.SuperApps.Settings.MediaType,
                                openBillingPage: t.SuperApps.Settings.openBillingPage,
                                getInstalledInstance: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.SuperApps.Settings.getInstalledInstance(e, n, r)
                                    })))
                                },
                                openMediaDialog: function(e, n, r) {
                                    return new Promise((function(i) {
                                        t.SuperApps.Settings.openMediaDialog(e, n, i, r)
                                    }))
                                },
                                openModal: function(e, n, r, i, o, a) {
                                    return new Promise((function(s) {
                                        t.SuperApps.Settings.openModal(e, n, r, i, s, o, a)
                                    }))
                                },
                                setHelpArticle: t.SuperApps.Settings.setHelpArticle
                            },
                            Dashboard: {
                                showHeader: t.SuperApps.Dashboard.showHeader,
                                hideHeader: t.SuperApps.Dashboard.hideHeader,
                                setHelpArticle: t.SuperApps.Dashboard.setHelpArticle,
                                getProducts: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.SuperApps.Dashboard.getProducts(e, n, r)
                                    })))
                                },
                                openMediaDialog: function(e, n, r) {
                                    return new Promise((function(i) {
                                        t.SuperApps.Dashboard.openMediaDialog(e, n, i, r)
                                    }))
                                }
                            },
                            getInstalledInstance: function(e) {
                                return i.addTimeout(new Promise((function(n, r) {
                                    t.SuperApps.getInstalledInstance(e, n, r)
                                })))
                            },
                            OnBoarding: {
                                Settings: {
                                    getStyleByCompId: function(e) {
                                        return i.addTimeout(new Promise((function(n) {
                                            t.SuperApps.OnBoarding.Settings.getStyleByCompId(e, n)
                                        })))
                                    }
                                }
                            },
                            Billing: {
                                getProducts: function(e) {
                                    return i.addTimeout(new Promise((function(n, r) {
                                        t.SuperApps.Billing.getProducts(e, n, r)
                                    })))
                                }
                            },
                            getCtToken: function() {
                                return i.addTimeout(new Promise((function(e) {
                                    t.SuperApps.getCtToken(e)
                                })))
                            }
                        },
                        getInstalledInstance: function(e) {
                            return i.addTimeout(new Promise((function(n, r) {
                                t.getInstalledInstance(e, n, r)
                            })))
                        },
                        OnBoarding: {
                            Settings: {
                                getStyleByCompId: function(e) {
                                    return i.addTimeout(new Promise((function(n) {
                                        t.OnBoarding.Settings.getStyleByCompId(e, n)
                                    })))
                                }
                            }
                        },
                        getCtToken: function() {
                            return i.addTimeout(new Promise((function(e) {
                                t.getCtToken(e)
                            })))
                        }
                    }) : a
                }
            },
            813: (t, e) => {
                "use strict";
                Object.defineProperty(e, "__esModule", {
                    value: !0
                }), e.createSafeCall = e.addTimeout = void 0, e.addTimeout = function(t, e) {
                    var n, r, i = void 0 === e ? {} : e,
                        o = i.timeout,
                        a = void 0 === o ? 12e4 : o,
                        s = i.message,
                        l = void 0 === s ? "Timeout: Wix Js Sdk" : s;
                    try {
                        throw new Error(l)
                    } catch (t) {
                        n = t
                    }
                    var u = new Promise((function(t, e) {
                            r = setTimeout(e, a, n)
                        })),
                        c = function() {
                            return clearTimeout(r)
                        };
                    return t.then(c, c), Promise.race([t, u])
                }, e.createSafeCall = function(t) {
                    return function(e) {
                        return function() {
                            try {
                                return e.apply(this, arguments)
                            } catch (e) {
                                return t(e), null
                            }
                        }
                    }
                }
            },
            2565: (t, e, n) => {
                "use strict";
                n.r(e), n.d(e, {
                    __assign: () => o,
                    __asyncDelegator: () => b,
                    __asyncGenerator: () => S,
                    __asyncValues: () => I,
                    __await: () => v,
                    __awaiter: () => c,
                    __classPrivateFieldGet: () => T,
                    __classPrivateFieldSet: () => w,
                    __createBinding: () => p,
                    __decorate: () => s,
                    __exportStar: () => g,
                    __extends: () => i,
                    __generator: () => d,
                    __importDefault: () => _,
                    __importStar: () => C,
                    __makeTemplateObject: () => P,
                    __metadata: () => u,
                    __param: () => l,
                    __read: () => h,
                    __rest: () => a,
                    __spread: () => y,
                    __spreadArrays: () => m,
                    __values: () => f
                });
                /*! *****************************************************************************
                Copyright (c) Microsoft Corporation.

                Permission to use, copy, modify, and/or distribute this software for any
                purpose with or without fee is hereby granted.

                THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
                REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
                AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
                INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
                LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
                OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
                PERFORMANCE OF THIS SOFTWARE.
                ***************************************************************************** */
                var r = function(t, e) {
                    return r = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    }, r(t, e)
                };

                function i(t, e) {
                    function n() {
                        this.constructor = t
                    }
                    r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
                }
                var o = function() {
                    return o = Object.assign || function(t) {
                        for (var e, n = 1, r = arguments.length; n < r; n++)
                            for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                        return t
                    }, o.apply(this, arguments)
                };

                function a(t, e) {
                    var n = {};
                    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
                    if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                        var i = 0;
                        for (r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]])
                    }
                    return n
                }

                function s(t, e, n, r) {
                    var i, o = arguments.length,
                        a = o < 3 ? e : null === r ? r = Object.getOwnPropertyDescriptor(e, n) : r;
                    if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, n, r);
                    else
                        for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(e, n, a) : i(e, n)) || a);
                    return o > 3 && a && Object.defineProperty(e, n, a), a
                }

                function l(t, e) {
                    return function(n, r) {
                        e(n, r, t)
                    }
                }

                function u(t, e) {
                    if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
                }

                function c(t, e, n, r) {
                    return new(n || (n = Promise))((function(i, o) {
                        function a(t) {
                            try {
                                l(r.next(t))
                            } catch (t) {
                                o(t)
                            }
                        }

                        function s(t) {
                            try {
                                l(r.throw(t))
                            } catch (t) {
                                o(t)
                            }
                        }

                        function l(t) {
                            var e;
                            t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                                t(e)
                            }))).then(a, s)
                        }
                        l((r = r.apply(t, e || [])).next())
                    }))
                }

                function d(t, e) {
                    var n, r, i, o, a = {
                        label: 0,
                        sent: function() {
                            if (1 & i[0]) throw i[1];
                            return i[1]
                        },
                        trys: [],
                        ops: []
                    };
                    return o = {
                        next: s(0),
                        throw: s(1),
                        return: s(2)
                    }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                        return this
                    }), o;

                    function s(o) {
                        return function(s) {
                            return function(o) {
                                if (n) throw new TypeError("Generator is already executing.");
                                for (; a;) try {
                                    if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;
                                    switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {
                                        case 0:
                                        case 1:
                                            i = o;
                                            break;
                                        case 4:
                                            return a.label++, {
                                                value: o[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++, r = o[1], o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(), a.trys.pop();
                                            continue;
                                        default:
                                            if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < i[1]) {
                                                a.label = i[1], i = o;
                                                break
                                            }
                                            if (i && a.label < i[2]) {
                                                a.label = i[2], a.ops.push(o);
                                                break
                                            }
                                            i[2] && a.ops.pop(), a.trys.pop();
                                            continue
                                    }
                                    o = e.call(t, a)
                                } catch (t) {
                                    o = [6, t], r = 0
                                } finally {
                                    n = i = 0
                                }
                                if (5 & o[0]) throw o[1];
                                return {
                                    value: o[0] ? o[1] : void 0,
                                    done: !0
                                }
                            }([o, s])
                        }
                    }
                }

                function p(t, e, n, r) {
                    void 0 === r && (r = n), t[r] = e[n]
                }

                function g(t, e) {
                    for (var n in t) "default" === n || e.hasOwnProperty(n) || (e[n] = t[n])
                }

                function f(t) {
                    var e = "function" == typeof Symbol && Symbol.iterator,
                        n = e && t[e],
                        r = 0;
                    if (n) return n.call(t);
                    if (t && "number" == typeof t.length) return {
                        next: function() {
                            return t && r >= t.length && (t = void 0), {
                                value: t && t[r++],
                                done: !t
                            }
                        }
                    };
                    throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
                }

                function h(t, e) {
                    var n = "function" == typeof Symbol && t[Symbol.iterator];
                    if (!n) return t;
                    var r, i, o = n.call(t),
                        a = [];
                    try {
                        for (;
                            (void 0 === e || e-- > 0) && !(r = o.next()).done;) a.push(r.value)
                    } catch (t) {
                        i = {
                            error: t
                        }
                    } finally {
                        try {
                            r && !r.done && (n = o.return) && n.call(o)
                        } finally {
                            if (i) throw i.error
                        }
                    }
                    return a
                }

                function y() {
                    for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(h(arguments[e]));
                    return t
                }

                function m() {
                    for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                    var r = Array(t),
                        i = 0;
                    for (e = 0; e < n; e++)
                        for (var o = arguments[e], a = 0, s = o.length; a < s; a++, i++) r[i] = o[a];
                    return r
                }

                function v(t) {
                    return this instanceof v ? (this.v = t, this) : new v(t)
                }

                function S(t, e, n) {
                    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                    var r, i = n.apply(t, e || []),
                        o = [];
                    return r = {}, a("next"), a("throw"), a("return"), r[Symbol.asyncIterator] = function() {
                        return this
                    }, r;

                    function a(t) {
                        i[t] && (r[t] = function(e) {
                            return new Promise((function(n, r) {
                                o.push([t, e, n, r]) > 1 || s(t, e)
                            }))
                        })
                    }

                    function s(t, e) {
                        try {
                            (n = i[t](e)).value instanceof v ? Promise.resolve(n.value.v).then(l, u) : c(o[0][2], n)
                        } catch (t) {
                            c(o[0][3], t)
                        }
                        var n
                    }

                    function l(t) {
                        s("next", t)
                    }

                    function u(t) {
                        s("throw", t)
                    }

                    function c(t, e) {
                        t(e), o.shift(), o.length && s(o[0][0], o[0][1])
                    }
                }

                function b(t) {
                    var e, n;
                    return e = {}, r("next"), r("throw", (function(t) {
                        throw t
                    })), r("return"), e[Symbol.iterator] = function() {
                        return this
                    }, e;

                    function r(r, i) {
                        e[r] = t[r] ? function(e) {
                            return (n = !n) ? {
                                value: v(t[r](e)),
                                done: "return" === r
                            } : i ? i(e) : e
                        } : i
                    }
                }

                function I(t) {
                    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                    var e, n = t[Symbol.asyncIterator];
                    return n ? n.call(t) : (t = f(t), e = {}, r("next"), r("throw"), r("return"), e[Symbol.asyncIterator] = function() {
                        return this
                    }, e);

                    function r(n) {
                        e[n] = t[n] && function(e) {
                            return new Promise((function(r, i) {
                                (function(t, e, n, r) {
                                    Promise.resolve(r).then((function(e) {
                                        t({
                                            value: e,
                                            done: n
                                        })
                                    }), e)
                                })(r, i, (e = t[n](e)).done, e.value)
                            }))
                        }
                    }
                }

                function P(t, e) {
                    return Object.defineProperty ? Object.defineProperty(t, "raw", {
                        value: e
                    }) : t.raw = e, t
                }

                function C(t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var n in t) Object.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                    return e.default = t, e
                }

                function _(t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }

                function T(t, e) {
                    if (!e.has(t)) throw new TypeError("attempted to get private field on non-instance");
                    return e.get(t)
                }

                function w(t, e, n) {
                    if (!e.has(t)) throw new TypeError("attempted to set private field on non-instance");
                    return e.set(t, n), n
                }
            },
            2792: (t, e, n) => {
                "use strict";
                e.t = void 0;
                var r = n(1209);
                e.t = r.createSlotVeloAPIFactory
            },
            1209: (t, e) => {
                "use strict";

                function n() {
                    return r()
                }

                function r(t = {}) {
                    return new Proxy(t, {
                        set: (t, e, n) => (e in t && (t[e] = n), !0),
                        get: (t, e) => "isMethodSupported" === e ? e => e in t : e in t ? t[e] : n
                    })
                }
                e.__esModule = !0, e.createSlotVeloAPIFactory = function(t) {
                    return {
                        getSlotAPI: e => r(t.getSlot(e))
                    }
                }
            },
            7832: (t, e, n) => {
                "use strict";
                e.P = void 0;
                var r = n(2712);
                e.P = function(t) {
                    for (var e, n, i = [], o = 1; o < arguments.length; o++) i[o - 1] = arguments[o];
                    var a = "";
                    try {
                        for (var s = r.__values(t.entries()), l = s.next(); !l.done; l = s.next()) {
                            var u = r.__read(l.value, 2),
                                c = u[0];
                            a += u[1], c in i && (a += i[c])
                        }
                    } catch (t) {
                        e = {
                            error: t
                        }
                    } finally {
                        try {
                            l && !l.done && (n = s.return) && n.call(s)
                        } finally {
                            if (e) throw e.error
                        }
                    }
                    return a
                }
            },
            2319: t => {
                "use strict";
                t.exports = {
                    aliceblue: [240, 248, 255],
                    antiquewhite: [250, 235, 215],
                    aqua: [0, 255, 255],
                    aquamarine: [127, 255, 212],
                    azure: [240, 255, 255],
                    beige: [245, 245, 220],
                    bisque: [255, 228, 196],
                    black: [0, 0, 0],
                    blanchedalmond: [255, 235, 205],
                    blue: [0, 0, 255],
                    blueviolet: [138, 43, 226],
                    brown: [165, 42, 42],
                    burlywood: [222, 184, 135],
                    cadetblue: [95, 158, 160],
                    chartreuse: [127, 255, 0],
                    chocolate: [210, 105, 30],
                    coral: [255, 127, 80],
                    cornflowerblue: [100, 149, 237],
                    cornsilk: [255, 248, 220],
                    crimson: [220, 20, 60],
                    cyan: [0, 255, 255],
                    darkblue: [0, 0, 139],
                    darkcyan: [0, 139, 139],
                    darkgoldenrod: [184, 134, 11],
                    darkgray: [169, 169, 169],
                    darkgreen: [0, 100, 0],
                    darkgrey: [169, 169, 169],
                    darkkhaki: [189, 183, 107],
                    darkmagenta: [139, 0, 139],
                    darkolivegreen: [85, 107, 47],
                    darkorange: [255, 140, 0],
                    darkorchid: [153, 50, 204],
                    darkred: [139, 0, 0],
                    darksalmon: [233, 150, 122],
                    darkseagreen: [143, 188, 143],
                    darkslateblue: [72, 61, 139],
                    darkslategray: [47, 79, 79],
                    darkslategrey: [47, 79, 79],
                    darkturquoise: [0, 206, 209],
                    darkviolet: [148, 0, 211],
                    deeppink: [255, 20, 147],
                    deepskyblue: [0, 191, 255],
                    dimgray: [105, 105, 105],
                    dimgrey: [105, 105, 105],
                    dodgerblue: [30, 144, 255],
                    firebrick: [178, 34, 34],
                    floralwhite: [255, 250, 240],
                    forestgreen: [34, 139, 34],
                    fuchsia: [255, 0, 255],
                    gainsboro: [220, 220, 220],
                    ghostwhite: [248, 248, 255],
                    gold: [255, 215, 0],
                    goldenrod: [218, 165, 32],
                    gray: [128, 128, 128],
                    green: [0, 128, 0],
                    greenyellow: [173, 255, 47],
                    grey: [128, 128, 128],
                    honeydew: [240, 255, 240],
                    hotpink: [255, 105, 180],
                    indianred: [205, 92, 92],
                    indigo: [75, 0, 130],
                    ivory: [255, 255, 240],
                    khaki: [240, 230, 140],
                    lavender: [230, 230, 250],
                    lavenderblush: [255, 240, 245],
                    lawngreen: [124, 252, 0],
                    lemonchiffon: [255, 250, 205],
                    lightblue: [173, 216, 230],
                    lightcoral: [240, 128, 128],
                    lightcyan: [224, 255, 255],
                    lightgoldenrodyellow: [250, 250, 210],
                    lightgray: [211, 211, 211],
                    lightgreen: [144, 238, 144],
                    lightgrey: [211, 211, 211],
                    lightpink: [255, 182, 193],
                    lightsalmon: [255, 160, 122],
                    lightseagreen: [32, 178, 170],
                    lightskyblue: [135, 206, 250],
                    lightslategray: [119, 136, 153],
                    lightslategrey: [119, 136, 153],
                    lightsteelblue: [176, 196, 222],
                    lightyellow: [255, 255, 224],
                    lime: [0, 255, 0],
                    limegreen: [50, 205, 50],
                    linen: [250, 240, 230],
                    magenta: [255, 0, 255],
                    maroon: [128, 0, 0],
                    mediumaquamarine: [102, 205, 170],
                    mediumblue: [0, 0, 205],
                    mediumorchid: [186, 85, 211],
                    mediumpurple: [147, 112, 219],
                    mediumseagreen: [60, 179, 113],
                    mediumslateblue: [123, 104, 238],
                    mediumspringgreen: [0, 250, 154],
                    mediumturquoise: [72, 209, 204],
                    mediumvioletred: [199, 21, 133],
                    midnightblue: [25, 25, 112],
                    mintcream: [245, 255, 250],
                    mistyrose: [255, 228, 225],
                    moccasin: [255, 228, 181],
                    navajowhite: [255, 222, 173],
                    navy: [0, 0, 128],
                    oldlace: [253, 245, 230],
                    olive: [128, 128, 0],
                    olivedrab: [107, 142, 35],
                    orange: [255, 165, 0],
                    orangered: [255, 69, 0],
                    orchid: [218, 112, 214],
                    palegoldenrod: [238, 232, 170],
                    palegreen: [152, 251, 152],
                    paleturquoise: [175, 238, 238],
                    palevioletred: [219, 112, 147],
                    papayawhip: [255, 239, 213],
                    peachpuff: [255, 218, 185],
                    peru: [205, 133, 63],
                    pink: [255, 192, 203],
                    plum: [221, 160, 221],
                    powderblue: [176, 224, 230],
                    purple: [128, 0, 128],
                    rebeccapurple: [102, 51, 153],
                    red: [255, 0, 0],
                    rosybrown: [188, 143, 143],
                    royalblue: [65, 105, 225],
                    saddlebrown: [139, 69, 19],
                    salmon: [250, 128, 114],
                    sandybrown: [244, 164, 96],
                    seagreen: [46, 139, 87],
                    seashell: [255, 245, 238],
                    sienna: [160, 82, 45],
                    silver: [192, 192, 192],
                    skyblue: [135, 206, 235],
                    slateblue: [106, 90, 205],
                    slategray: [112, 128, 144],
                    slategrey: [112, 128, 144],
                    snow: [255, 250, 250],
                    springgreen: [0, 255, 127],
                    steelblue: [70, 130, 180],
                    tan: [210, 180, 140],
                    teal: [0, 128, 128],
                    thistle: [216, 191, 216],
                    tomato: [255, 99, 71],
                    turquoise: [64, 224, 208],
                    violet: [238, 130, 238],
                    wheat: [245, 222, 179],
                    white: [255, 255, 255],
                    whitesmoke: [245, 245, 245],
                    yellow: [255, 255, 0],
                    yellowgreen: [154, 205, 50]
                }
            },
            3203: (t, e, n) => {
                var r = n(2319),
                    i = n(9429),
                    o = Object.hasOwnProperty,
                    a = Object.create(null);
                for (var s in r) o.call(r, s) && (a[r[s]] = s);
                var l = t.exports = {
                    to: {},
                    get: {}
                };

                function u(t, e, n) {
                    return Math.min(Math.max(e, t), n)
                }

                function c(t) {
                    var e = Math.round(t).toString(16).toUpperCase();
                    return e.length < 2 ? "0" + e : e
                }
                l.get = function(t) {
                    var e, n;
                    switch (t.substring(0, 3).toLowerCase()) {
                        case "hsl":
                            e = l.get.hsl(t), n = "hsl";
                            break;
                        case "hwb":
                            e = l.get.hwb(t), n = "hwb";
                            break;
                        default:
                            e = l.get.rgb(t), n = "rgb"
                    }
                    return e ? {
                        model: n,
                        value: e
                    } : null
                }, l.get.rgb = function(t) {
                    if (!t) return null;
                    var e, n, i, a = [0, 0, 0, 1];
                    if (e = t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)) {
                        for (i = e[2], e = e[1], n = 0; n < 3; n++) {
                            var s = 2 * n;
                            a[n] = parseInt(e.slice(s, s + 2), 16)
                        }
                        i && (a[3] = parseInt(i, 16) / 255)
                    } else if (e = t.match(/^#([a-f0-9]{3,4})$/i)) {
                        for (i = (e = e[1])[3], n = 0; n < 3; n++) a[n] = parseInt(e[n] + e[n], 16);
                        i && (a[3] = parseInt(i + i, 16) / 255)
                    } else if (e = t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)) {
                        for (n = 0; n < 3; n++) a[n] = parseInt(e[n + 1], 0);
                        e[4] && (e[5] ? a[3] = .01 * parseFloat(e[4]) : a[3] = parseFloat(e[4]))
                    } else {
                        if (!(e = t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))) return (e = t.match(/^(\w+)$/)) ? "transparent" === e[1] ? [0, 0, 0, 0] : o.call(r, e[1]) ? ((a = r[e[1]])[3] = 1, a) : null : null;
                        for (n = 0; n < 3; n++) a[n] = Math.round(2.55 * parseFloat(e[n + 1]));
                        e[4] && (e[5] ? a[3] = .01 * parseFloat(e[4]) : a[3] = parseFloat(e[4]))
                    }
                    for (n = 0; n < 3; n++) a[n] = u(a[n], 0, 255);
                    return a[3] = u(a[3], 0, 1), a
                }, l.get.hsl = function(t) {
                    if (!t) return null;
                    var e = t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);
                    if (e) {
                        var n = parseFloat(e[4]);
                        return [(parseFloat(e[1]) % 360 + 360) % 360, u(parseFloat(e[2]), 0, 100), u(parseFloat(e[3]), 0, 100), u(isNaN(n) ? 1 : n, 0, 1)]
                    }
                    return null
                }, l.get.hwb = function(t) {
                    if (!t) return null;
                    var e = t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);
                    if (e) {
                        var n = parseFloat(e[4]);
                        return [(parseFloat(e[1]) % 360 + 360) % 360, u(parseFloat(e[2]), 0, 100), u(parseFloat(e[3]), 0, 100), u(isNaN(n) ? 1 : n, 0, 1)]
                    }
                    return null
                }, l.to.hex = function() {
                    var t = i(arguments);
                    return "#" + c(t[0]) + c(t[1]) + c(t[2]) + (t[3] < 1 ? c(Math.round(255 * t[3])) : "")
                }, l.to.rgb = function() {
                    var t = i(arguments);
                    return t.length < 4 || 1 === t[3] ? "rgb(" + Math.round(t[0]) + ", " + Math.round(t[1]) + ", " + Math.round(t[2]) + ")" : "rgba(" + Math.round(t[0]) + ", " + Math.round(t[1]) + ", " + Math.round(t[2]) + ", " + t[3] + ")"
                }, l.to.rgb.percent = function() {
                    var t = i(arguments),
                        e = Math.round(t[0] / 255 * 100),
                        n = Math.round(t[1] / 255 * 100),
                        r = Math.round(t[2] / 255 * 100);
                    return t.length < 4 || 1 === t[3] ? "rgb(" + e + "%, " + n + "%, " + r + "%)" : "rgba(" + e + "%, " + n + "%, " + r + "%, " + t[3] + ")"
                }, l.to.hsl = function() {
                    var t = i(arguments);
                    return t.length < 4 || 1 === t[3] ? "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)" : "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + t[3] + ")"
                }, l.to.hwb = function() {
                    var t = i(arguments),
                        e = "";
                    return t.length >= 4 && 1 !== t[3] && (e = ", " + t[3]), "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + e + ")"
                }, l.to.keyword = function(t) {
                    return a[t.slice(0, 3)]
                }
            },
            1133: t => {
                "use strict";
                var e = "%[a-f0-9]{2}",
                    n = new RegExp("(" + e + ")|([^%]+?)", "gi"),
                    r = new RegExp("(" + e + ")+", "gi");

                function i(t, e) {
                    try {
                        return [decodeURIComponent(t.join(""))]
                    } catch (t) {}
                    if (1 === t.length) return t;
                    e = e || 1;
                    var n = t.slice(0, e),
                        r = t.slice(e);
                    return Array.prototype.concat.call([], i(n), i(r))
                }

                function o(t) {
                    try {
                        return decodeURIComponent(t)
                    } catch (o) {
                        for (var e = t.match(n) || [], r = 1; r < e.length; r++) e = (t = i(e, r).join("")).match(n) || [];
                        return t
                    }
                }
                t.exports = function(t) {
                    if ("string" != typeof t) throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof t + "`");
                    try {
                        return t = t.replace(/\+/g, " "), decodeURIComponent(t)
                    } catch (e) {
                        return function(t) {
                            for (var e = {
                                    "%FE%FF": "\ufffd\ufffd",
                                    "%FF%FE": "\ufffd\ufffd"
                                }, n = r.exec(t); n;) {
                                try {
                                    e[n[0]] = decodeURIComponent(n[0])
                                } catch (t) {
                                    var i = o(n[0]);
                                    i !== n[0] && (e[n[0]] = i)
                                }
                                n = r.exec(t)
                            }
                            e["%C2"] = "\ufffd";
                            for (var a = Object.keys(e), s = 0; s < a.length; s++) {
                                var l = a[s];
                                t = t.replace(new RegExp(l, "g"), e[l])
                            }
                            return t
                        }(t)
                    }
                }
            },
            4516: t => {
                "use strict";
                /*
                object-assign
                (c) Sindre Sorhus
                @license MIT
                */
                var e = Object.getOwnPropertySymbols,
                    n = Object.prototype.hasOwnProperty,
                    r = Object.prototype.propertyIsEnumerable;
                t.exports = function() {
                    try {
                        if (!Object.assign) return !1;
                        var t = new String("abc");
                        if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
                        for (var e = {}, n = 0; n < 10; n++) e["_" + String.fromCharCode(n)] = n;
                        if ("0123456789" !== Object.getOwnPropertyNames(e).map((function(t) {
                                return e[t]
                            })).join("")) return !1;
                        var r = {};
                        return "abcdefghijklmnopqrst".split("").forEach((function(t) {
                            r[t] = t
                        })), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("")
                    } catch (t) {
                        return !1
                    }
                }() ? Object.assign : function(t, i) {
                    for (var o, a, s = function(t) {
                            if (null == t) throw new TypeError("Object.assign cannot be called with null or undefined");
                            return Object(t)
                        }(t), l = 1; l < arguments.length; l++) {
                        for (var u in o = Object(arguments[l])) n.call(o, u) && (s[u] = o[u]);
                        if (e) {
                            a = e(o);
                            for (var c = 0; c < a.length; c++) r.call(o, a[c]) && (s[a[c]] = o[a[c]])
                        }
                    }
                    return s
                }
            },
            9429: (t, e, n) => {
                "use strict";
                var r = n(5631),
                    i = Array.prototype.concat,
                    o = Array.prototype.slice,
                    a = t.exports = function(t) {
                        for (var e = [], n = 0, a = t.length; n < a; n++) {
                            var s = t[n];
                            r(s) ? e = i.call(e, o.call(s)) : e.push(s)
                        }
                        return e
                    };
                a.wrap = function(t) {
                    return function() {
                        return t(a(arguments))
                    }
                }
            },
            5631: t => {
                t.exports = function(t) {
                    return !(!t || "string" == typeof t) && (t instanceof Array || Array.isArray(t) || t.length >= 0 && (t.splice instanceof Function || Object.getOwnPropertyDescriptor(t, t.length - 1) && "String" !== t.constructor.name))
                }
            },
            4111: t => {
                "use strict";
                t.exports = function(t) {
                    return encodeURIComponent(t).replace(/[!'()*]/g, (function(t) {
                        return "%" + t.charCodeAt(0).toString(16).toUpperCase()
                    }))
                }
            },
            3213: (t, e, n) => {
                var r = n(6174);
                t.exports = function(t, e, n) {
                    return (e = r(e)) in t ? Object.defineProperty(t, e, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : t[e] = n, t
                }, t.exports.__esModule = !0, t.exports.default = t.exports
            },
            7662: (t, e, n) => {
                var r = n(8114).default;
                t.exports = function(t, e) {
                    if ("object" != r(t) || !t) return t;
                    var n = t[Symbol.toPrimitive];
                    if (void 0 !== n) {
                        var i = n.call(t, e || "default");
                        if ("object" != r(i)) return i;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }
                    return ("string" === e ? String : Number)(t)
                }, t.exports.__esModule = !0, t.exports.default = t.exports
            },
            6174: (t, e, n) => {
                var r = n(8114).default,
                    i = n(7662);
                t.exports = function(t) {
                    var e = i(t, "string");
                    return "symbol" == r(e) ? e : String(e)
                }, t.exports.__esModule = !0, t.exports.default = t.exports
            },
            8114: t => {
                function e(n) {
                    return t.exports = e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                        return typeof t
                    } : function(t) {
                        return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                    }, t.exports.__esModule = !0, t.exports.default = t.exports, e(n)
                }
                t.exports = e, t.exports.__esModule = !0, t.exports.default = t.exports
            },
            2712: (t, e, n) => {
                "use strict";
                n.r(e), n.d(e, {
                    __addDisposableResource: () => M,
                    __assign: () => o,
                    __asyncDelegator: () => T,
                    __asyncGenerator: () => _,
                    __asyncValues: () => w,
                    __await: () => C,
                    __awaiter: () => f,
                    __classPrivateFieldGet: () => R,
                    __classPrivateFieldIn: () => x,
                    __classPrivateFieldSet: () => N,
                    __createBinding: () => y,
                    __decorate: () => s,
                    __disposeResources: () => F,
                    __esDecorate: () => u,
                    __exportStar: () => m,
                    __extends: () => i,
                    __generator: () => h,
                    __importDefault: () => D,
                    __importStar: () => E,
                    __makeTemplateObject: () => O,
                    __metadata: () => g,
                    __param: () => l,
                    __propKey: () => d,
                    __read: () => S,
                    __rest: () => a,
                    __runInitializers: () => c,
                    __setFunctionName: () => p,
                    __spread: () => b,
                    __spreadArray: () => P,
                    __spreadArrays: () => I,
                    __values: () => v,
                    default: () => U
                });
                var r = function(t, e) {
                    return r = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    }, r(t, e)
                };

                function i(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");

                    function n() {
                        this.constructor = t
                    }
                    r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
                }
                var o = function() {
                    return o = Object.assign || function(t) {
                        for (var e, n = 1, r = arguments.length; n < r; n++)
                            for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                        return t
                    }, o.apply(this, arguments)
                };

                function a(t, e) {
                    var n = {};
                    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
                    if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                        var i = 0;
                        for (r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]])
                    }
                    return n
                }

                function s(t, e, n, r) {
                    var i, o = arguments.length,
                        a = o < 3 ? e : null === r ? r = Object.getOwnPropertyDescriptor(e, n) : r;
                    if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(t, e, n, r);
                    else
                        for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(e, n, a) : i(e, n)) || a);
                    return o > 3 && a && Object.defineProperty(e, n, a), a
                }

                function l(t, e) {
                    return function(n, r) {
                        e(n, r, t)
                    }
                }

                function u(t, e, n, r, i, o) {
                    function a(t) {
                        if (void 0 !== t && "function" != typeof t) throw new TypeError("Function expected");
                        return t
                    }
                    for (var s, l = r.kind, u = "getter" === l ? "get" : "setter" === l ? "set" : "value", c = !e && t ? r.static ? t : t.prototype : null, d = e || (c ? Object.getOwnPropertyDescriptor(c, r.name) : {}), p = !1, g = n.length - 1; g >= 0; g--) {
                        var f = {};
                        for (var h in r) f[h] = "access" === h ? {} : r[h];
                        for (var h in r.access) f.access[h] = r.access[h];
                        f.addInitializer = function(t) {
                            if (p) throw new TypeError("Cannot add initializers after decoration has completed");
                            o.push(a(t || null))
                        };
                        var y = (0, n[g])("accessor" === l ? {
                            get: d.get,
                            set: d.set
                        } : d[u], f);
                        if ("accessor" === l) {
                            if (void 0 === y) continue;
                            if (null === y || "object" != typeof y) throw new TypeError("Object expected");
                            (s = a(y.get)) && (d.get = s), (s = a(y.set)) && (d.set = s), (s = a(y.init)) && i.unshift(s)
                        } else(s = a(y)) && ("field" === l ? i.unshift(s) : d[u] = s)
                    }
                    c && Object.defineProperty(c, r.name, d), p = !0
                }

                function c(t, e, n) {
                    for (var r = arguments.length > 2, i = 0; i < e.length; i++) n = r ? e[i].call(t, n) : e[i].call(t);
                    return r ? n : void 0
                }

                function d(t) {
                    return "symbol" == typeof t ? t : "".concat(t)
                }

                function p(t, e, n) {
                    return "symbol" == typeof e && (e = e.description ? "[".concat(e.description, "]") : ""), Object.defineProperty(t, "name", {
                        configurable: !0,
                        value: n ? "".concat(n, " ", e) : e
                    })
                }

                function g(t, e) {
                    if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(t, e)
                }

                function f(t, e, n, r) {
                    return new(n || (n = Promise))((function(i, o) {
                        function a(t) {
                            try {
                                l(r.next(t))
                            } catch (t) {
                                o(t)
                            }
                        }

                        function s(t) {
                            try {
                                l(r.throw(t))
                            } catch (t) {
                                o(t)
                            }
                        }

                        function l(t) {
                            var e;
                            t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                                t(e)
                            }))).then(a, s)
                        }
                        l((r = r.apply(t, e || [])).next())
                    }))
                }

                function h(t, e) {
                    var n, r, i, o, a = {
                        label: 0,
                        sent: function() {
                            if (1 & i[0]) throw i[1];
                            return i[1]
                        },
                        trys: [],
                        ops: []
                    };
                    return o = {
                        next: s(0),
                        throw: s(1),
                        return: s(2)
                    }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                        return this
                    }), o;

                    function s(s) {
                        return function(l) {
                            return function(s) {
                                if (n) throw new TypeError("Generator is already executing.");
                                for (; o && (o = 0, s[0] && (a = 0)), a;) try {
                                    if (n = 1, r && (i = 2 & s[0] ? r.return : s[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, s[1])).done) return i;
                                    switch (r = 0, i && (s = [2 & s[0], i.value]), s[0]) {
                                        case 0:
                                        case 1:
                                            i = s;
                                            break;
                                        case 4:
                                            return a.label++, {
                                                value: s[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++, r = s[1], s = [0];
                                            continue;
                                        case 7:
                                            s = a.ops.pop(), a.trys.pop();
                                            continue;
                                        default:
                                            if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== s[0] && 2 !== s[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === s[0] && (!i || s[1] > i[0] && s[1] < i[3])) {
                                                a.label = s[1];
                                                break
                                            }
                                            if (6 === s[0] && a.label < i[1]) {
                                                a.label = i[1], i = s;
                                                break
                                            }
                                            if (i && a.label < i[2]) {
                                                a.label = i[2], a.ops.push(s);
                                                break
                                            }
                                            i[2] && a.ops.pop(), a.trys.pop();
                                            continue
                                    }
                                    s = e.call(t, a)
                                } catch (t) {
                                    s = [6, t], r = 0
                                } finally {
                                    n = i = 0
                                }
                                if (5 & s[0]) throw s[1];
                                return {
                                    value: s[0] ? s[1] : void 0,
                                    done: !0
                                }
                            }([s, l])
                        }
                    }
                }
                var y = Object.create ? function(t, e, n, r) {
                    void 0 === r && (r = n);
                    var i = Object.getOwnPropertyDescriptor(e, n);
                    i && !("get" in i ? !e.__esModule : i.writable || i.configurable) || (i = {
                        enumerable: !0,
                        get: function() {
                            return e[n]
                        }
                    }), Object.defineProperty(t, r, i)
                } : function(t, e, n, r) {
                    void 0 === r && (r = n), t[r] = e[n]
                };

                function m(t, e) {
                    for (var n in t) "default" === n || Object.prototype.hasOwnProperty.call(e, n) || y(e, t, n)
                }

                function v(t) {
                    var e = "function" == typeof Symbol && Symbol.iterator,
                        n = e && t[e],
                        r = 0;
                    if (n) return n.call(t);
                    if (t && "number" == typeof t.length) return {
                        next: function() {
                            return t && r >= t.length && (t = void 0), {
                                value: t && t[r++],
                                done: !t
                            }
                        }
                    };
                    throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
                }

                function S(t, e) {
                    var n = "function" == typeof Symbol && t[Symbol.iterator];
                    if (!n) return t;
                    var r, i, o = n.call(t),
                        a = [];
                    try {
                        for (;
                            (void 0 === e || e-- > 0) && !(r = o.next()).done;) a.push(r.value)
                    } catch (t) {
                        i = {
                            error: t
                        }
                    } finally {
                        try {
                            r && !r.done && (n = o.return) && n.call(o)
                        } finally {
                            if (i) throw i.error
                        }
                    }
                    return a
                }

                function b() {
                    for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(S(arguments[e]));
                    return t
                }

                function I() {
                    for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
                    var r = Array(t),
                        i = 0;
                    for (e = 0; e < n; e++)
                        for (var o = arguments[e], a = 0, s = o.length; a < s; a++, i++) r[i] = o[a];
                    return r
                }

                function P(t, e, n) {
                    if (n || 2 === arguments.length)
                        for (var r, i = 0, o = e.length; i < o; i++) !r && i in e || (r || (r = Array.prototype.slice.call(e, 0, i)), r[i] = e[i]);
                    return t.concat(r || Array.prototype.slice.call(e))
                }

                function C(t) {
                    return this instanceof C ? (this.v = t, this) : new C(t)
                }

                function _(t, e, n) {
                    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                    var r, i = n.apply(t, e || []),
                        o = [];
                    return r = {}, a("next"), a("throw"), a("return"), r[Symbol.asyncIterator] = function() {
                        return this
                    }, r;

                    function a(t) {
                        i[t] && (r[t] = function(e) {
                            return new Promise((function(n, r) {
                                o.push([t, e, n, r]) > 1 || s(t, e)
                            }))
                        })
                    }

                    function s(t, e) {
                        try {
                            (n = i[t](e)).value instanceof C ? Promise.resolve(n.value.v).then(l, u) : c(o[0][2], n)
                        } catch (t) {
                            c(o[0][3], t)
                        }
                        var n
                    }

                    function l(t) {
                        s("next", t)
                    }

                    function u(t) {
                        s("throw", t)
                    }

                    function c(t, e) {
                        t(e), o.shift(), o.length && s(o[0][0], o[0][1])
                    }
                }

                function T(t) {
                    var e, n;
                    return e = {}, r("next"), r("throw", (function(t) {
                        throw t
                    })), r("return"), e[Symbol.iterator] = function() {
                        return this
                    }, e;

                    function r(r, i) {
                        e[r] = t[r] ? function(e) {
                            return (n = !n) ? {
                                value: C(t[r](e)),
                                done: !1
                            } : i ? i(e) : e
                        } : i
                    }
                }

                function w(t) {
                    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
                    var e, n = t[Symbol.asyncIterator];
                    return n ? n.call(t) : (t = v(t), e = {}, r("next"), r("throw"), r("return"), e[Symbol.asyncIterator] = function() {
                        return this
                    }, e);

                    function r(n) {
                        e[n] = t[n] && function(e) {
                            return new Promise((function(r, i) {
                                (function(t, e, n, r) {
                                    Promise.resolve(r).then((function(e) {
                                        t({
                                            value: e,
                                            done: n
                                        })
                                    }), e)
                                })(r, i, (e = t[n](e)).done, e.value)
                            }))
                        }
                    }
                }

                function O(t, e) {
                    return Object.defineProperty ? Object.defineProperty(t, "raw", {
                        value: e
                    }) : t.raw = e, t
                }
                var A = Object.create ? function(t, e) {
                    Object.defineProperty(t, "default", {
                        enumerable: !0,
                        value: e
                    })
                } : function(t, e) {
                    t.default = e
                };

                function E(t) {
                    if (t && t.__esModule) return t;
                    var e = {};
                    if (null != t)
                        for (var n in t) "default" !== n && Object.prototype.hasOwnProperty.call(t, n) && y(e, t, n);
                    return A(e, t), e
                }

                function D(t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }

                function R(t, e, n, r) {
                    if ("a" === n && !r) throw new TypeError("Private accessor was defined without a getter");
                    if ("function" == typeof e ? t !== e || !r : !e.has(t)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
                    return "m" === n ? r : "a" === n ? r.call(t) : r ? r.value : e.get(t)
                }

                function N(t, e, n, r, i) {
                    if ("m" === r) throw new TypeError("Private method is not writable");
                    if ("a" === r && !i) throw new TypeError("Private accessor was defined without a setter");
                    if ("function" == typeof e ? t !== e || !i : !e.has(t)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
                    return "a" === r ? i.call(t, n) : i ? i.value = n : e.set(t, n), n
                }

                function x(t, e) {
                    if (null === e || "object" != typeof e && "function" != typeof e) throw new TypeError("Cannot use 'in' operator on non-object");
                    return "function" == typeof t ? e === t : t.has(e)
                }

                function M(t, e, n) {
                    if (null != e) {
                        if ("object" != typeof e && "function" != typeof e) throw new TypeError("Object expected.");
                        var r;
                        if (n) {
                            if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined.");
                            r = e[Symbol.asyncDispose]
                        }
                        if (void 0 === r) {
                            if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined.");
                            r = e[Symbol.dispose]
                        }
                        if ("function" != typeof r) throw new TypeError("Object not disposable.");
                        t.stack.push({
                            value: e,
                            dispose: r,
                            async: n
                        })
                    } else n && t.stack.push({
                        async: !0
                    });
                    return e
                }
                var L = "function" == typeof SuppressedError ? SuppressedError : function(t, e, n) {
                    var r = new Error(n);
                    return r.name = "SuppressedError", r.error = t, r.suppressed = e, r
                };

                function F(t) {
                    function e(e) {
                        t.error = t.hasError ? new L(e, t.error, "An error was suppressed during disposal.") : e, t.hasError = !0
                    }
                    return function n() {
                        for (; t.stack.length;) {
                            var r = t.stack.pop();
                            try {
                                var i = r.dispose && r.dispose.call(r.value);
                                if (r.async) return Promise.resolve(i).then(n, (function(t) {
                                    return e(t), n()
                                }))
                            } catch (t) {
                                e(t)
                            }
                        }
                        if (t.hasError) throw t.error
                    }()
                }
                const U = {
                    __extends: i,
                    __assign: o,
                    __rest: a,
                    __decorate: s,
                    __param: l,
                    __metadata: g,
                    __awaiter: f,
                    __generator: h,
                    __createBinding: y,
                    __exportStar: m,
                    __values: v,
                    __read: S,
                    __spread: b,
                    __spreadArrays: I,
                    __spreadArray: P,
                    __await: C,
                    __asyncGenerator: _,
                    __asyncDelegator: T,
                    __asyncValues: w,
                    __makeTemplateObject: O,
                    __importStar: E,
                    __importDefault: D,
                    __classPrivateFieldGet: R,
                    __classPrivateFieldSet: N,
                    __classPrivateFieldIn: x,
                    __addDisposableResource: M,
                    __disposeResources: F
                }
            }
        },
        e = {};

    function n(r) {
        var i = e[r];
        if (void 0 !== i) return i.exports;
        var o = e[r] = {
            exports: {}
        };
        return t[r](o, o.exports, n), o.exports
    }
    n.n = t => {
        var e = t && t.__esModule ? () => t.default : () => t;
        return n.d(e, {
            a: e
        }), e
    }, n.d = (t, e) => {
        for (var r in e) n.o(e, r) && !n.o(t, r) && Object.defineProperty(t, r, {
            enumerable: !0,
            get: e[r]
        })
    }, n.g = function() {
        if ("object" == typeof globalThis) return globalThis;
        try {
            return this || new Function("return this")()
        } catch (t) {
            if ("object" == typeof window) return window
        }
    }(), n.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e), n.r = t => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }, n.p = "https://static.parastorage.com/services/wixstores-client-gallery/74b07f2e21c3b37e4531c39103bdb7a1eb1c92254d3c49653e9cb103/";
    var r = {};
    return (() => {
        "use strict";
        n.r(r), n.d(r, {
            controller: () => uo,
            default: () => co,
            descriptor: () => lo,
            wrap: () => so
        });
        var t, e, i, o, a, s, l, u, c, d, p = n(2712),
            g = function(t) {
                return function(e) {
                    console.error(e), t.controllerConfig.setProps({
                        generalError: !0
                    }), t.appData.reportError(e)
                }
            },
            f = "1380b703-ce81-ff05-f115-39571d94dfcd";
        ! function(t) {
            t.CART_ICON = "1380bbc4-1485-9d44-4616-92e36b1ead6b", t.PRODUCT_PAGE = "13a94f09-2766-3c40-4a32-8edb5acdd8bc", t.PRODUCT_WIDGET = "13ec3e79-e668-cc0c-2d48-e99d53a213dd", t.GALLERY_PAGE = "1380bba0-253e-a800-a235-88821cf3f8a4", t.CATEGORY_PAGE = "bda15dc1-816d-4ff3-8dcb-1172d5343cce", t.GRID_GALLERY = "13afb094-84f9-739f-44fd-78d036adb028", t.SLIDER_GALLERY = "139a41fd-0b1d-975f-6f67-e8cbdf8ccc82", t.THANK_YOU_PAGE = "1380bbb4-8df0-fd38-a235-88821cf3f8a4", t.ADD_TO_CART = "14666402-0bc7-b763-e875-e99840d131bd", t.WISHLIST_PAGE = "a63a5215-8aa6-42af-96b1-583bfd74cff5", t.CART = "1380bbab-4da3-36b0-efb4-2e0599971d14", t.CHECKOUT = "14fd5970-8072-c276-1246-058b79e70c1a", t.MY_ORDERS = "14e121c8-00a3-f7cc-6156-2c82a2ba8fcb", t.ECOM_PLATFORM_CHECKOUT = "14fd5970-8072-c276-1246-058b79e70c1a", t.MY_ADDRESSES = "151290e1-62a2-0775-6fbc-02182fad5dec"
        }(t || (t = {})),
        function(t) {
            t.CART_COMMANDS_URL = "/_api/wix-ecommerce-renderer-web/store-front/cart/{commandName}", t.NODE_GRAPHQL_URL = "_api/wixstores-graphql-server/graphql", t.READ_WRITE_GRAPHQL_URL = "_api/wix-ecommerce-graphql-web/api", t.STOREFRONT_GRAPHQL_URL = "_api/wix-ecommerce-storefront-web/api", t.WISHLIST_BASE_URL = "/_api/wishlist-server"
        }(e || (e = {})),
        function(t) {
            t[t.TINY_CART = 0] = "TINY_CART", t[t.MINI_CART = 1] = "MINI_CART", t[t.CART = 2] = "CART", t[t.NONE = 3] = "NONE"
        }(i || (i = {})),
        function(t) {
            t.ABOVE_AND_BELOW_CART = "0", t.ONLY_BELOW_CART = "1"
        }(o || (o = {})),
        function(t) {
            t[t.IDLE = 0] = "IDLE", t[t.SUCCESSFUL = 1] = "SUCCESSFUL", t[t.FAILED = 2] = "FAILED", t[t.IN_PROGRESS = 3] = "IN_PROGRESS"
        }(a || (a = {})),
        function(t) {
            t.CART = "shopping_cart", t.CHECKOUT = "checkout", t.GALLERY = "product_gallery", t.CATEGORY = "Category Page", t.THANKYOU = "thank_you_page", t.PRODUCT = "product_page", t.ORDER_HISTORY = "order_history", t.WISHLIST = "wishlist"
        }(s || (s = {})),
        function(t) {
            t.GET_CONFIG = "getConfig", t.MULTI_LANG = "multiLang", t.MINICART_OPEN = "miniCartOpen"
        }(l || (l = {})),
        function(t) {
            t.RELATED_PRODUCTS = "relatedProductIds"
        }(u || (u = {})),
        function(t) {
            t.AddToCart = "add to cart", t.BuyNow = "buy now", t.Subscribe = "subscribe", t.PreOrder = "pre order", t.PreOrderNow = "pre order now"
        }(c || (c = {})),
        function(t) {
            t.USE_LIGHTBOXES = "specs.stores.UseLightboxes", t.USE_LATEST_SUBDIVISIONS = "specs.stores.UseLatestSubdivisionsClient"
        }(d || (d = {}));
        var h, y, m, v, S = "https://settings.parastorage.com";
        ! function(t) {
            t.PRODUCT_PAGE = "wix.stores.sub_pages.product"
        }(h || (h = {})),
        function(t) {
            t.Undefined = "UNDEFINED", t.Dispute = "DISPUTE", t.CompletedFundsHeld = "COMPLETED_FUNDS_HELD", t.Initialization = "INITIALIZATION", t.Initialized = "INITIALIZED", t.Pending = "PENDING", t.InProcess = "IN_PROCESS", t.PartialRefund = "PARTIAL_REFUND", t.Approved = "APPROVED", t.PendingMerchant = "PENDING_MERCHANT", t.PendingBuyer = "PENDING_BUYER", t.ChargeBack = "CHARGE_BACK", t.Declined = "DECLINED", t.Expired = "EXPIRED", t.Failed = "FAILED", t.BuyerCanceled = "BUYER_CANCELED", t.TpaCanceled = "TPA_CANCELED", t.Void = "VOID", t.Timeout = "TIMEOUT", t.Refund = "REFUND", t.Offline = "OFFLINE"
        }(y || (y = {})),
        function(t) {
            t.CATEGORY = "category"
        }(m || (m = {})),
        function(t) {
            t.CheckoutSumary = "summary-checkout-slot", t.CheckoutAboveSummary = "above-summary-checkout-slot", t.CheckoutBelowSummary = "below-summary-checkout-slot", t.ProductPageDetails = "product-page-details-slot-1", t.ProductPageBottom = "product-page-bottom-slot", t.ProductGalleryDetails = "product-gallery-details-slot-1"
        }(v || (v = {}));
        var b, I, P, C;
        ! function(t) {
            t.CartDelete = "DeleteCartCommand", t.CartRemoveItem = "RemoveCartItemCommand", t.CartUpdateItem = "UpdateCartItemCommand", t.CartUpdateBuyerNote = "UpdateBuyerNoteToCartCommand", t.CartApplyCoupon = "SetCartCouponCommand2", t.CartRemoveCoupon = "RemoveCouponFromCartCommand"
        }(b || (b = {})),
        function(t) {
            t.GetAppSettings = "getAppSettings", t.GetCartService = "getCartService", t.GetCart = "getCart", t.GetCartOld = "getCartOld", t.GetLegacyCart = "getLegacyCart", t.GetLegacyCartOrCheckout = "getLegacyCartOrCheckout", t.GetCashierCheckoutData = "getCashierCheckoutData", t.GetCheckout = "getCheckout", t.GetDepositData = "getDepositData", t.GetLocaleData = "getLocaleData", t.GetAtlasAddressByZipCode = "getAtlasAddressByZipCode", t.GetOrder = "getOrder", t.GetOrderForTYP = "getOrderForTYP", t.GetPayments = "getPayments", t.GetSubscription = "getSubscription", t.GetStoreMetaData = "getStoreMetaData", t.GetProduct = "getProduct", t.GetExtendedProductBySlug = "getExtendedProductBySlug", t.GetExtendedProductById = "getExtendedProductById", t.GetExtendedProductsList = "getExtendedProductsList", t.GetBackInStockSettings = "getBackInStockSettings", t.GetCountryCodes = "getCountryCodes", t.SetAddress = "setAddress", t.SetCartShippingAddressAndDestination = "setCartShippingAddressAndDestination", t.SetCartBillingAddress = "setCartBillingAddress", t.SetCartShippingAddressesForFastFlowEstimation = "setCartShippingAddressesForFastFlowEstimation", t.SetDestinationForEstimation = "setDestinationForEstimation", t.SetCartAddressesAndDestinationFromSingleAddress = "setCartAddressesAndDestinationFromSingleAddress", t.SetCartShippingOption = "setShippingOption", t.SetCartShippingOptionNew = "setCartShippingOption", t.SubmitPayment = "submitPayment", t.CreateCheckout = "createCheckout", t.MarkCheckoutAsCompleted = "markCheckoutAsCompleted", t.AddToCart = "addToCart", t.AddCustomItemsToCart = "addCustomItemsToCart", t.AddToCartWixCode = "addToCartWixCode", t.SetCoupon = "setCoupon", t.RemoveCoupon = "removeCoupon", t.UpdateBuyerNote = "updateBuyerNote", t.RemoveItem = "removeItem", t.UpdateItemQuantity = "updateItemQuantity", t.CreateCart = "createCart", t.GetCheckoutSettings = "getCheckoutSettings"
        }(I || (I = {})),
        function(t) {
            t.Changed = "Cart.Changed", t.Cleared = "Cart.Cleared"
        }(P || (P = {})),
        function(t) {
            t.NodeReadWrite = "NodeReadWrite", t.NodeReadWriteForcePlatform = "NodeReadWriteForcePlatform", t.ScalaReadOnly = "ScalaReadOnly", t.ScalaReadWrite = "ScalaReadWrite"
        }(C || (C = {}));
        var T = function(t) {
                function e(e, n) {
                    var r = t.call(this, e) || this;
                    return r.data = n, r.name = "FetchError", r
                }
                return (0, p.__extends)(e, t), e
            }(Error),
            w = function() {
                function t(t) {
                    var e = t.siteStore;
                    this.siteStore = e
                }
                return t.prototype.executeOperation = function(t) {
                    var n = t.query,
                        r = t.variables,
                        i = t.operationName,
                        o = t.forcePost,
                        a = void 0 !== o && o,
                        s = t.endpoint,
                        l = t.selectErrorsFn,
                        u = void 0 === l ? function() {} : l,
                        c = t.source,
                        d = void 0 === c ? "WixStoresWebClient" : c;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t, o;
                        return (0, p.__generator)(this, (function(l) {
                            switch (l.label) {
                                case 0:
                                    return t = {
                                        query: n,
                                        variables: r,
                                        operationName: i,
                                        source: d
                                    }, a || !s.includes(e.NODE_GRAPHQL_URL) ? [3, 2] : [4, this.tryNodeGetGqlAndFallbackToPost(s, t)];
                                case 1:
                                    return o = l.sent(), [3, 6];
                                case 2:
                                    return a ? [4, this.siteStore.httpClient.post(s, t)] : [3, 4];
                                case 3:
                                    return o = l.sent(), [3, 6];
                                case 4:
                                    return [4, this.siteStore.tryGetGqlAndFallbackToPost(s, t)];
                                case 5:
                                    o = l.sent(), l.label = 6;
                                case 6:
                                    if (u(o)) throw new T(u(o));
                                    return [2, o]
                            }
                        }))
                    }))
                }, t.prototype.tryNodeGetGqlAndFallbackToPost = function(e, n, r) {
                    var i = this;
                    return this.siteStore.httpClient.get(e, {
                        queryParams: t.composeNodeGqlGetQueryParams(n)
                    }, !1).catch((function() {
                        return i.siteStore.httpClient.post(e, n, r)
                    }))
                }, t.minifyGraphqlQuery = function(t) {
                    return t.replace(/\s+/g, " ").replace(/\s?{\s?/g, "{").replace(/\s?}\s?/g, "}").trim()
                }, t.composeNodeGqlGetQueryParams = function(e) {
                    var n, r, i = t.minifyGraphqlQuery(e.query),
                        o = e.variables ? JSON.stringify(e.variables) : null,
                        a = e.operationName,
                        s = {};
                    try {
                        for (var l = (0, p.__values)(Object.entries({
                                query: i,
                                variables: o,
                                operationName: a
                            })), u = l.next(); !u.done; u = l.next()) {
                            var c = (0, p.__read)(u.value, 2),
                                d = c[0],
                                g = c[1];
                            g && (s[d] = g)
                        }
                    } catch (t) {
                        n = {
                            error: t
                        }
                    } finally {
                        try {
                            u && !u.done && (r = l.return) && r.call(l)
                        } finally {
                            if (n) throw n.error
                        }
                    }
                    return s
                }, t
            }(),
            O = function() {
                function t(t) {
                    var e = t.siteStore,
                        n = t.origin;
                    this.origin = n, this.siteStore = e, this.graphqlClient = new w({
                        siteStore: e
                    })
                }
                return t.prototype.absoluteUrl = function(t) {
                    return this.siteStore.resolveAbsoluteUrl(t)
                }, Object.defineProperty(t.prototype, "endpoints", {
                    get: function() {
                        var t, n = this;
                        return (t = {})[C.ScalaReadOnly] = this.absoluteUrl("/" + e.STOREFRONT_GRAPHQL_URL), t[C.ScalaReadWrite] = this.absoluteUrl("/" + e.READ_WRITE_GRAPHQL_URL), t[C.NodeReadWrite] = this.absoluteUrl("/" + e.NODE_GRAPHQL_URL), t[C.NodeReadWriteForcePlatform] = this.absoluteUrl("/" + e.NODE_GRAPHQL_URL + "?forceNodeOnlyResponse=true"), t.cartCommmands = function(t) {
                            return n.absoluteUrl("" + e.CART_COMMANDS_URL.replace("{commandName}", t))
                        }, t
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.post = function(t, e, n) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, this.siteStore.httpClient.post(t, e, {
                                        queryParams: n
                                    }).catch((function(t) {
                                        if (t.data && t.data.response && t.data.response.errors) throw {
                                            success: !1,
                                            errors: t.data.response.errors
                                        };
                                        throw t
                                    }))];
                                case 1:
                                    return [2, r.sent().data]
                            }
                        }))
                    }))
                }, t.prototype.fetch = function(t, e, n, r) {
                    var i = t.query,
                        o = t.variables,
                        a = t.operationName,
                        s = t.source;
                    void 0 === e && (e = C.ScalaReadWrite);
                    var l = this.endpoints[e];
                    return this.graphqlClient.executeOperation({
                        query: i,
                        variables: o,
                        operationName: a,
                        forcePost: n,
                        endpoint: l,
                        selectErrorsFn: r,
                        source: s
                    })
                }, t.prototype.mutate = function(t, e) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            return [2, this.fetch(t, C.NodeReadWrite, !0, e).then((function(t) {
                                return t.data
                            }))]
                        }))
                    }))
                }, t
            }(),
            A = function(t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return (0, p.__extends)(e, t), e.prototype.fetchWidgetSettings = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.fetch({
                                        variables: t,
                                        query: "query getAppSettings($externalId: String!) {\n  appSettings(externalId: $externalId) {\n    widgetSettings\n  }\n}",
                                        operationName: I.GetAppSettings
                                    }, C.ScalaReadOnly)];
                                case 1:
                                    return [2, e.sent().data.appSettings]
                            }
                        }))
                    }))
                }, e
            }(O);

        function E(t) {
            return "multilingual_" + t
        }
        const D = _;
        var R = n.n(D),
            N = function() {
                function t(t, e, n) {
                    var r;
                    void 0 === e && (e = {}), void 0 === n && (n = {}), this.siteStore = t, this.publicData = e, this.widgetSettings = n;
                    var i = null !== (r = this.siteStore.getMultiLangFields()) && void 0 !== r ? r : this.defaultMultiLangFields;
                    this.isPrimaryLanguage = i.isPrimaryLanguage, this.lang = i.lang, this.locale = i.locale
                }
                return Object.defineProperty(t.prototype, "defaultMultiLangFields", {
                    get: function() {
                        return {
                            isPrimaryLanguage: !0,
                            lang: this.siteStore.locale,
                            locale: this.siteStore.locale
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.get = function(t) {
                    if (this.isPrimaryLanguage) return this.publicData[t];
                    var e = this.widgetSettings[E(this.lang)];
                    return null == e ? void 0 : e[t]
                }, t.prototype.getAll = function() {
                    return this.isPrimaryLanguage ? this.publicData : this.widgetSettings[E(this.lang)]
                }, t.prototype.setWidgetSettings = function(t) {
                    this.widgetSettings = t
                }, t.prototype.setPublicData = function(t) {
                    this.publicData = t
                }, t.prototype.getMergedTranslationsAsPublicData = function(t) {
                    var e, n = D.omit(this.publicData, t);
                    return e = D.merge({}, n, this.getAll()), Object.entries(e).reduce((function(t, e) {
                        var n = (0, p.__read)(e, 2),
                            r = n[0],
                            i = n[1];
                        return i && (t[r] = i), t
                    }), {})
                }, t
            }(),
            x = n(4050),
            M = n(9119),
            L = n.n(M);
        const F = function() {
            return L()()
        };

        function U(t) {
            return new Promise((function(e) {
                setTimeout(e, t)
            }))
        }
        var k, V = function(t) {
                function e(n, r) {
                    var i = t.call(this, "request to ".concat(n, " failed, status code is ").concat(r)) || this;
                    return i.url = n, i.statusCode = r, Object.setPrototypeOf(i, e.prototype), i
                }
                return (0, p.__extends)(e, t), e
            }(Error),
            B = (function() {
                function t(t) {
                    var e = t.apiClient,
                        n = t.scope,
                        r = t.adapter,
                        i = t.data,
                        o = t.generateId,
                        a = void 0 === o ? F : o,
                        s = t.wait,
                        l = void 0 === s ? U : s;
                    this.firstTime = !0, this.apiClient = e, this.scope = n, this.adapter = r, this.data = i, this.generateId = a, this.instance = r.signedInstance, this.queue = [], this.wait = l
                }
                t.prototype.getAll = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.get()];
                                case 1:
                                    return [2, t.sent()]
                            }
                        }))
                    }))
                }, t.prototype.get = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.loadData()];
                                case 1:
                                    return e.sent(), [2, t ? this.data[t] : this.data]
                            }
                        }))
                    }))
                }, t.prototype.set = function(t, e) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, this.loadData()];
                                case 1:
                                    return n.sent(), [4, this.update(t, e)];
                                case 2:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.delete = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.loadData()];
                                case 1:
                                    if (e.sent(), !this.data.hasOwnProperty(t)) throw new Error("'".concat(t, "' doesn't exist in settings"));
                                    return [4, this.update(t, null)];
                                case 2:
                                    return e.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.loadData = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    this.getPromise || (this.getPromise = this.resolveData()), e.label = 1;
                                case 1:
                                    return e.trys.push([1, 3, , 4]), [4, this.getPromise];
                                case 2:
                                    return e.sent(), [3, 4];
                                case 3:
                                    throw t = e.sent(), this.getPromise = null, t;
                                case 4:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.resolveData = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t, e, n;
                        return (0, p.__generator)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, this.getExternalId()];
                                case 1:
                                    if (t = r.sent(), this.data || !t) return [3, 6];
                                    r.label = 2;
                                case 2:
                                    return r.trys.push([2, 4, , 5]), e = this, [4, this.apiClient.get(this.instance, t, this.scope)];
                                case 3:
                                    return e.data = r.sent(), [3, 5];
                                case 4:
                                    if ((n = r.sent()) instanceof V && 404 === n.statusCode) return this.firstTime = !0, this.data = {}, [2];
                                    throw n;
                                case 5:
                                    return this.firstTime = !1, [3, 7];
                                case 6:
                                    this.data || (this.data = {}), r.label = 7;
                                case 7:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.update = function(t, e) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return this.data[t] = e, this.adapter.triggerSettingsUpdated(this.data, this.scope), this.queue.push({
                                        key: t,
                                        value: e
                                    }), this.flushPromise || (this.flushPromise = this.flushQueue()), [4, this.flushPromise];
                                case 1:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.flushQueue = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.wait(100)];
                                case 1:
                                    return e.sent(), t = this.queue.slice(), this.queue = [], this.flushPromise = null, [4, this.saveChanges(t)];
                                case 2:
                                    return e.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.saveChanges = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var e, n;
                        return (0, p.__generator)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return e = t.reduce((function(t, e) {
                                        return t[e.key] = e.value, t
                                    }), {}), this.firstTime ? (n = this.generateId(), [4, this.apiClient.set(this.instance, n, this.scope, e)]) : [3, 3];
                                case 1:
                                    return r.sent(), [4, this.setExternalId(n)];
                                case 2:
                                    return r.sent(), this.firstTime = !1, [3, 6];
                                case 3:
                                    return [4, this.apiClient.update(this.instance, this.externalId, this.scope, e)];
                                case 4:
                                    return n = r.sent(), [4, this.setExternalId(n)];
                                case 5:
                                    r.sent(), r.label = 6;
                                case 6:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.setExternalId = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.adapter.setExternalId(t)];
                                case 1:
                                    return e.sent(), this.externalId = t, [2]
                            }
                        }))
                    }))
                }, t.prototype.getExternalId = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return this.externalId ? [3, 2] : (t = this, [4, this.adapter.getExternalId()]);
                                case 1:
                                    t.externalId = e.sent(), e.label = 2;
                                case 2:
                                    return [2, this.externalId]
                            }
                        }))
                    }))
                }
            }(), function() {
                function t(t) {
                    var e = t.adapter,
                        n = t.scope,
                        r = t.cdnClient,
                        i = t.data,
                        o = this;
                    this.adapter = e, this.scope = n, this.cdnClient = r, this.data = i, this.listeners = [], this.adapter.onSettingsUpdated(n, (function(t) {
                        o.data = t, o.listeners.forEach((function(t) {
                            return t(o.data)
                        }))
                    }))
                }
                return t.prototype.getAll = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.get()];
                                case 1:
                                    return [2, t.sent()]
                            }
                        }))
                    }))
                }, t.prototype.get = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.loadData()];
                                case 1:
                                    return e.sent(), [2, t ? this.data[t] : this.data]
                            }
                        }))
                    }))
                }, t.prototype.onChange = function(t) {
                    this.listeners.push(t)
                }, t.prototype.loadData = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return this.getPromise || (this.getPromise = this.resolveData()), [4, this.getPromise];
                                case 1:
                                    return t.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.resolveData = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t, e;
                        return (0, p.__generator)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return t = this, [4, this.getExternalId()];
                                case 1:
                                    return t.externalId = n.sent(), this.data || !this.externalId ? [3, 3] : (e = this, [4, this.cdnClient.get(this.adapter.getAppDefId(), this.adapter.getInstanceId(), this.externalId, this.scope)]);
                                case 2:
                                    return e.data = n.sent(), [3, 4];
                                case 3:
                                    this.data || (this.data = {}), n.label = 4;
                                case 4:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.getExternalId = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return (t = this.externalId) ? [3, 2] : [4, this.adapter.getExternalId()];
                                case 1:
                                    t = e.sent(), e.label = 2;
                                case 2:
                                    return [2, t]
                            }
                        }))
                    }))
                }, t
            }()),
            G = n(551),
            j = function() {
                function t(t) {
                    var e = t.jsSdkInstance,
                        n = t.signedInstance;
                    this.jsSdkWrapper = (0, G.q)(e), this.originalJsSdk = e, this.signedInstance = n
                }
                return t.prototype.getAppDefId = function() {
                    return this.jsSdkWrapper.Utils.getInstanceValue("appDefId")
                }, t.prototype.getInstanceId = function() {
                    var t = this.jsSdkWrapper.Utils.getInstanceValue("metaSiteId"),
                        e = this.jsSdkWrapper.Utils.getInstanceValue("originInstanceId");
                    return !t && e ? e : this.jsSdkWrapper.Utils.getInstanceId()
                }, t.prototype.getExternalId = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.jsSdkWrapper.getExternalId()];
                                case 1:
                                    return [2, t.sent()]
                            }
                        }))
                    }))
                }, t.prototype.setExternalId = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var e = this;
                        return (0, p.__generator)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, new Promise((function(n, r) {
                                        return e.originalJsSdk.Settings.setExternalId(t, n, r, !0)
                                    }))];
                                case 1:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, t.prototype.triggerSettingsUpdated = function(t, e) {
                    var n = {
                        scope: e,
                        payload: t,
                        source: "app-settings"
                    };
                    this.jsSdkWrapper.Settings.triggerSettingsUpdatedEvent(n, this.jsSdkWrapper.Utils.getOrigCompId())
                }, t.prototype.onSettingsUpdated = function(t, e) {
                    this.jsSdkWrapper.addEventListener("SETTINGS_UPDATED", (function(n) {
                        n && "app-settings" === n.source && n.scope === t && e(n.payload)
                    }))
                }, t
            }();
        ! function(t) {
            t.APP = "APP", t.COMPONENT = "COMPONENT"
        }(k || (k = {}));
        ! function() {
            function t(t) {
                this.apiUrl = t.replace(/\/$/, "")
            }
            t.prototype.get = function(t, e, n) {
                return (0, p.__awaiter)(this, void 0, void 0, (function() {
                    var r, i;
                    return (0, p.__generator)(this, (function(o) {
                        switch (o.label) {
                            case 0:
                                return r = "".concat(this.apiUrl, "/v1/settings?external_").concat(n.toLowerCase(), "_id=").concat(e), [4, this.requestJson({
                                    signedInstance: t,
                                    url: r,
                                    method: "GET"
                                })];
                            case 1:
                                return i = o.sent(), [2, n === k.APP ? i.appSettings : i.componentSettings]
                        }
                    }))
                }))
            }, t.prototype.set = function(t, e, n, r) {
                return (0, p.__awaiter)(this, void 0, void 0, (function() {
                    var i;
                    return (0, p.__generator)(this, (function(o) {
                        switch (o.label) {
                            case 0:
                                return i = "".concat(this.apiUrl, "/v1/settings/").concat(n, "/").concat(e), [4, this.requestJson({
                                    signedInstance: t,
                                    url: i,
                                    requestBody: {
                                        data: r
                                    },
                                    method: "PUT"
                                })];
                            case 1:
                                return [2, o.sent()]
                        }
                    }))
                }))
            }, t.prototype.update = function(t, e, n, r) {
                return (0, p.__awaiter)(this, void 0, void 0, (function() {
                    var i, o, a, s, l;
                    return (0, p.__generator)(this, (function(u) {
                        switch (u.label) {
                            case 0:
                                return i = "".concat(this.apiUrl, "/v1/settings/").concat(n, "/").concat(e), o = function(t) {
                                    var e = (0, p.__assign)({}, t),
                                        n = Object.keys(e);
                                    return Object.keys(e).forEach((function(t) {
                                        (null === e[t] || void 0 === e[t]) && delete e[t]
                                    })), {
                                        fields: n,
                                        sanitizedData: e
                                    }
                                }(r), a = o.fields, s = o.sanitizedData, l = {
                                    data: s,
                                    fields: a
                                }, [4, this.requestJson({
                                    signedInstance: t,
                                    url: i,
                                    requestBody: l,
                                    method: "PATCH"
                                })];
                            case 1:
                                return [2, u.sent().newExternalId]
                        }
                    }))
                }))
            }, t.prototype.requestJson = function(t) {
                var e = t.signedInstance,
                    n = t.method,
                    r = void 0 === n ? "GET" : n,
                    i = t.requestBody,
                    o = t.url;
                return (0, p.__awaiter)(this, void 0, void 0, (function() {
                    var t, n;
                    return (0, p.__generator)(this, (function(a) {
                        switch (a.label) {
                            case 0:
                                return t = e ? {
                                    Authorization: e
                                } : {}, [4, fetch(o, {
                                    method: r,
                                    body: JSON.stringify(i),
                                    headers: (0, p.__assign)({
                                        "Content-Type": "application/json"
                                    }, t)
                                })];
                            case 1:
                                if (!(n = a.sent()).ok) throw new V(o, n.status);
                                return [4, n.json()];
                            case 2:
                                return [2, a.sent()]
                        }
                    }))
                }))
            }
        }();

        function q(t, e) {
            if (!Boolean(t)) throw new Error(e)
        }

        function W(t, e, n) {
            var r = t || e();
            return q(void 0 !== r, n), r
        }
        var $ = function() {
            function t(t) {
                this.cdnUrl = (t.baseCdnUrl || "https://settings.parastorage.com/").replace(/\/$/, ""), this.fetch = t.fetch || function() {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    return fetch.apply(void 0, t)
                }
            }
            return t.prototype.get = function(t, e, n, r) {
                return (0, p.__awaiter)(this, void 0, void 0, (function() {
                    var i;
                    return (0, p.__generator)(this, (function(o) {
                        switch (o.label) {
                            case 0:
                                return i = "".concat(this.cdnUrl, "/v1/settings/").concat(t, "/").concat(e, "/").concat(r, "/").concat(n), [4, this.fetch(i, {
                                    method: "GET",
                                    headers: {
                                        "Content-Type": "application/json"
                                    }
                                })];
                            case 1:
                                return [4, o.sent().json()];
                            case 2:
                                return [2, o.sent()]
                        }
                    }))
                }))
            }, t
        }();

        function H(t) {
            Q(t);
            var e = t.scope,
                n = t.data,
                r = t.adapter || z.wixSdk(),
                i = t.cdnUrl;
            return new B({
                adapter: r,
                scope: e,
                data: n,
                cdnClient: new $({
                    baseCdnUrl: i
                })
            })
        }
        var z = {
            wixSdk: function(t) {
                var e = void 0 === t ? {} : t,
                    n = e.jsSdkInstance,
                    r = e.signedInstance;
                return new j({
                    jsSdkInstance: W(n, K, "window.Wix is undefined, please specify jsSdkInstance"),
                    signedInstance: W(r, Y, "no instance in query parameters, please specify signedInstance")
                })
            }
        };

        function Q(t) {
            q(void 0 !== t, "opts is mandatory"), q(void 0 !== t.scope, "scope is mandatory"), q(t.scope === k.COMPONENT || t.scope === k.APP, "scope must be APP or COMPONENT"), q(t.scope === k.COMPONENT, "APP scope is not supported")
        }

        function K() {
            return window.Wix
        }

        function Y() {
            return (0, x.Qc)(window.location.search).instance
        }

        function X(t, e) {
            var n;
            return (0, p.__awaiter)(this, void 0, void 0, (function() {
                var r, i, o, a, s, l;
                return (0, p.__generator)(this, (function(u) {
                    switch (u.label) {
                        case 0:
                            return r = t.dangerousPublicDataOverride, i = t.controllerConfig.setProps, o = t.appData.context.siteStore, [4, new A({
                                siteStore: o,
                                origin: ""
                            }).fetchWidgetSettings({
                                externalId: null !== (n = t.controllerConfig.config.externalId) && void 0 !== n ? n : ""
                            })];
                        case 1:
                            return a = u.sent().widgetSettings, s = new N(o, t.controllerConfig.config.publicData.APP, a), l = r({
                                APP: s.getMergedTranslationsAsPublicData(e),
                                COMPONENT: {}
                            }), "undefined" != typeof window && window.Wix && H({
                                scope: k.COMPONENT,
                                cdnUrl: S
                            }).onChange((function(t) {
                                s.setWidgetSettings(t), i((0, p.__assign)({}, r({
                                    APP: s.getMergedTranslationsAsPublicData(e),
                                    COMPONENT: {}
                                })))
                            })), i((0, p.__assign)({}, l)), [2]
                    }
                }))
            }))
        }
        var J = n(3213),
            Z = n.n(J),
            tt = function() {
                function t(t) {
                    var e = this;
                    this.reportFedopsInteraction = function(t, n) {
                        return (0, p.__awaiter)(e, void 0, void 0, (function() {
                            return (0, p.__generator)(this, (function(e) {
                                switch (e.label) {
                                    case 0:
                                        return this.flowAPI.fedopsLogger.interactionStarted(t), [4, n()];
                                    case 1:
                                        return e.sent(), this.flowAPI.fedopsLogger.interactionEnded(t), [2]
                                }
                            }))
                        }))
                    }, this.flowAPI = t.flowAPI, this.platformAPIs = t.controllerConfig.platformAPIs, this.publicData = t.controllerConfig.config.publicData, this.setProps = t.controllerConfig.setProps, this.siteStore = t.appData.context.siteStore
                }
                return Object.defineProperty(t.prototype, "t", {
                    get: function() {
                        return this.flowAPI.translations.t
                    },
                    enumerable: !1,
                    configurable: !0
                }), t
            }(),
            et = n(2792);
        let nt = function(t) {
                return t[t.REVEAL = 1] = "REVEAL", t[t.EXPOSED = 2] = "EXPOSED", t
            }({}),
            rt = function(t) {
                return t[t.BUTTON = 1] = "BUTTON", t[t.PAGINATION = 2] = "PAGINATION", t[t.INFINITE = 3] = "INFINITE", t
            }({}),
            it = function(t) {
                return t.TOP = "top", t.BOTTOM = "bottom", t.CENTER = "center", t.STRETCH = "stretch", t
            }({}),
            ot = function(t) {
                return t.START = "start", t.CENTER = "center", t.END = "end", t
            }({}),
            at = function(t) {
                return t.LEFT = "left", t.RIGHT = "right", t.CENTER = "center", t
            }({}),
            st = function(t) {
                return t.STRETCH = "stretch", t.FIT = "fit", t
            }({}),
            lt = function(t) {
                return t.VERTICAL = "vertical", t.HORIZONTAL = "horizontal", t
            }({}),
            ut = function(t) {
                return t[t.MANUAL = 1] = "MANUAL", t[t.AUTO = 2] = "AUTO", t
            }({}),
            ct = function(t) {
                return t[t.PAGES = 1] = "PAGES", t[t.COMPACT = 2] = "COMPACT", t
            }({}),
            dt = function(t) {
                return t.Ascending = "ASC", t.Descending = "DESC", t
            }({}),
            pt = function(t) {
                return t[t.Crop = 1] = "Crop", t[t.Fit = 2] = "Fit", t
            }({}),
            gt = function(t) {
                return t[t.OnImage = 1] = "OnImage", t[t.ProductInfo = 2] = "ProductInfo", t
            }({}),
            ft = function(t) {
                return t[t.RECTANGLE = 1] = "RECTANGLE", t[t.TEXT = 2] = "TEXT", t
            }({}),
            ht = function(t) {
                return t.None = "none", t.Zoom = "zoom", t.Border = "border", t.Alternate = "alternate", t.Carousel = "carousel", t
            }({}),
            yt = function(t) {
                return t.SMALL = "small", t.MEDIUM = "medium", t.LARGE = "large", t
            }({}),
            mt = function(t) {
                return t.LEFT = "left", t.RIGHT = "right", t
            }({}),
            vt = function(t) {
                return t[t._3x2 = 0] = "_3x2", t[t._4x3 = 1] = "_4x3", t[t._1x1 = 2] = "_1x1", t[t._3x4 = 3] = "_3x4", t[t._2x3 = 4] = "_2x3", t[t._16x9 = 5] = "_16x9", t[t._9x16 = 6] = "_9x16", t
            }({});
        const St = "00000000-000000-000000-000000000001",
            bt = "All Products",
            It = "gallery-page",
            Pt = "slider-gallery";
        let Ct = function(t) {
                return t.RELATED_PRODUCTS = "related products", t.COLLECTION = "collection", t.ALL_PRODUCTS = "All products", t.VELO = "velo products", t.ALGORITHMS = "algorithms", t
            }({}),
            _t = function(t) {
                return t.HOME = "home", t.CUSTOM_PAGE = "custom_page", t
            }({}),
            Tt = function(t) {
                return t.COLLECTION = "Wix_Store_Slider_Product_Gallery_1", t.RELATED_PRODUCTS = "Wix_Store_Related_Product_Gallery_1", t
            }({}),
            wt = function(t) {
                return t.Default = "default", t.Recommended = "recommended", t.Newest = "newest", t.PriceAscending = "price_ascending", t.PriceDescending = "price_descending", t.NameAscending = "name_ascending", t.NameDescending = "name_descending", t
            }({}),
            Ot = function(t) {
                return t[t.TEXT = 0] = "TEXT", t[t.BOX = 1] = "BOX", t
            }({});
        wt.Default, wt.Recommended, dt.Descending, wt.Newest, dt.Ascending, wt.PriceAscending, dt.Descending, wt.PriceDescending, dt.Ascending, wt.NameAscending, dt.Descending, wt.NameDescending;
        const At = 100;
        let Et = function(t) {
                return t.ClientGalleryArrowlessMobileSlider = "specs.stores.ClientGalleryArrowlessMobileSlider", t.GalleryProductOptionsVisibilitySettings = "specs.stores.GalleryProductOptionsVisibilitySettings", t.GalleryScrollToProductPositionWhenReturningFromProductPageFix = "specs.stores.GalleryScrollToProductPositionWhenReturningFromProductPageFix", t.AllowGalleryProductRoundCornersInViewer = "specs.stores.AllowGalleryProductRoundCornersInViewer", t.UseNewFiltersQueryParamEncoder = "specs.stores.UseNewFiltersQueryParamEncoder", t.UseNewFiltersQueryParamDecoder = "specs.stores.UseNewFiltersQueryParamDecoder", t.GalleryProductItemCarouselHover = "specs.stores.GalleryProductItemCarouselHover", t.SliderGalleryInEditorXViewer = "specs.stores.SliderGalleryInEditorXViewer", t.EditableGridTemplateRepeatOption = "specs.stores.GalleryEditableGridTemplateRepeatOption", t.AddRatingSummarySlotToGallery = "specs.stores.addRatingSummarySlotToGallery", t.EditorGalleryOOI = "specs.stores.EditorGalleryOOI", t.FixGalleryRenderingWhenUrlChanges = "specs.stores.FixGalleryRenderingWhenUrlChanges", t.FixGalleryNotToShowQueryPageFor1 = "specs.stores.FixGalleryNotToShowQueryPageFor1", t.ShouldUseCommonDiscountPricingMethods = "specs.stores.ShouldUseCommonDiscountPricingMethods", t.FixSliderGalleryTextSettingToChangeOnEditor = "specs.stores.FixSliderGalleryTextSettingToChangeOnEditor", t.ClearFiltersInASingleCall = "specs.stores.GalleryClearFiltersInASingleCall", t.DisableInfiniteScrollInEditor = "specs.stores.disableInfiniteScrollInEditorGridGallery", t.ShouldUseVariantLevelPreOrderAvailable = "specs.stores.ShouldUseVariantLevelPreOrderAvailable", t.ShouldResetQuantityUponSelectionChange = "specs.stores.GalleryProductItemResetQuantityUponSelectionChange", t.FixAnnounceNotDefinedBug = "specs.stores.FixAnnounceNotDefinedBug", t.ShouldUseNewDefaultProductImage = "specs.stores.UseNewDefaultProductImage", t.FixQuickViewForSubscriptionsInWishlist = "specs.stores.FixQuickViewForSubscriptionsInWishlist", t.RenderSlotsInGallery = "specs.stores.RenderSlotsInGallery", t.GalleryFixImageBorderRadiusOnHoverZoom = "specs.stores.GalleryFixImageBorderRadiusOnHoverZoom", t
            }({}),
            Dt = function(t) {
                return t.Filter = "gallery-filter", t.MobileFilter = "gallery-mobile-filter", t.Sort = "gallery-sort", t.AddToCart = "add-to-cart-from-gallery", t.LoadMore = "load-more", t.Pagination = "pagination", t.InfiniteScroll = "infinite", t
            }({}),
            Rt = function(t) {
                return t.AddToCart = "AddToCart", t.ViewContent = "ViewContent", t
            }({}),
            Nt = function(t) {
                return t[t.IDLE = 0] = "IDLE", t[t.SUCCESSFUL = 1] = "SUCCESSFUL", t[t.FAILED = 2] = "FAILED", t[t.IN_PROGRESS = 3] = "IN_PROGRESS", t
            }({});
        const xt = {
                appDefId: f,
                category: "All Products",
                origin: "Stores"
            },
            Mt = "68ebce04-b96a-4c52-9329-08fc9d8c1253",
            Lt = "215238eb-22a5-4c36-9e7b-e7c08025e04e";
        let Ft = function(t) {
            return t.ProductGalleryDetailsSlot1 = "product-gallery-details-slot-1", t
        }({});
        let Ut = function(t) {
                return t[t.COLLECTION = 1] = "COLLECTION", t[t.RELATED_PRODUCTS = 2] = "RELATED_PRODUCTS", t[t.VELO_PRODUCTS = 3] = "VELO_PRODUCTS", t[t.ALGORITHMS = 4] = "ALGORITHMS", t
            }({}),
            kt = function(t) {
                return t.AUTO_FIT = "auto-fit", t.AUTO_FILL = "auto-fill", t
            }({}),
            Vt = function(t) {
                return t[t.AUTOMATICALLY = 0] = "AUTOMATICALLY", t[t.MANUALLY = 1] = "MANUALLY", t
            }({}),
            Bt = function(t) {
                return t[t.MinimizedAboveGallery = 0] = "MinimizedAboveGallery", t[t.StretchedTop = 1] = "StretchedTop", t
            }({}),
            Gt = function(t) {
                return t[t.TextBelow = 0] = "TextBelow", t[t.TextInside = 1] = "TextInside", t[t.TextAbove = 2] = "TextAbove", t
            }({});
        const jt = "  id\n      options {\n        id\n        key\n        title @include(if: $withOptions)\n        optionType @include(if: $withOptions)\n        selections @include(if: $withOptions) {\n          id\n          value\n          description\n          key\n          linkedMediaItems {\n            url\n            fullUrl\n            thumbnailFullUrl: fullUrl(width: 50, height: 50)\n            mediaType\n            width\n            height\n            index\n            title\n            videoFiles {\n              url\n              width\n              height\n              format\n              quality\n            }\n          }\n        }\n      }\n      productItems @include(if: $withOptions) {\n        id\n        optionsSelections\n        price\n        formattedPrice\n        formattedComparePrice\n        availableForPreOrder\n        inventory {\n          status\n          quantity\n        }\n        isVisible\n        pricePerUnit\n        formattedPricePerUnit\n      }\n      customTextFields(limit: 1) {\n        title\n      }\n      productType\n      ribbon\n      price\n      comparePrice\n      sku\n      isInStock\n      urlPart\n      formattedComparePrice\n      formattedPrice\n      pricePerUnit\n      formattedPricePerUnit\n      pricePerUnitData {\n        baseQuantity\n        baseMeasurementUnit\n      }\n      itemDiscount {\n        discountRuleName\n        priceAfterDiscount\n      }\n      digitalProductFileItems {\n        fileType\n      }\n      name\n      media {\n        url\n        index\n        width\n        mediaType\n        altText\n        title\n        height\n      }\n      isManageProductItems\n      productItemsPreOrderAvailability\n      isTrackingInventory\n      inventory {\n        status\n        quantity\n        availableForPreOrder\n        preOrderInfoView {\n          limit\n        }\n      }\n      subscriptionPlans {\n        list {\n          id\n          visible\n        }\n      }\n      priceRange(withSubscriptionPriceRange: true) @include(if: $withPriceRange) {\n        fromPriceFormatted\n      }\n      discount {\n        mode\n        value\n      }",
            qt = "query getSliderGalleryData($externalId: String!, $compId: String!, $limit: Int!, $withOptions: Boolean = false, $withPriceRange: Boolean = false) {\n  appSettings(externalId: $externalId) {\n    widgetSettings\n  }\n  catalog {\n    category(compId: $compId) {\n      id\n      name\n      visible\n      productsWithMetaData(limit: $limit, onlyVisible: true) {\n        list {\n          " + jt + "\n        }\n        totalCount\n      }\n    }\n    allProductsCategoryId\n  }\n}\n",
            Wt = "query getData($externalId: String!, $compId: String, $mainCollectionId: String, $limit: Int!, $sort: ProductSort, $filters: ProductFilters, $offset: Int, $withOptions: Boolean = false, $withPriceRange: Boolean = false) {\n  appSettings(externalId: $externalId) {\n    widgetSettings\n  }\n  catalog {\n    category(compId: $compId, categoryId: $mainCollectionId) {\n      id\n      name\n      visible\n      productsWithMetaData(limit: $limit, onlyVisible: true, sort: $sort, filters: $filters, offset: $offset) {\n        list {\n          " + jt + "\n        }\n        totalCount\n      }\n    }\n    allProductsCategoryId\n  }\n}\n",
            $t = "query getCategoryProducts($compId: String!, $limit: Int!, $offset:Int = 0, $withOptions: Boolean = false, $withPriceRange: Boolean = false) {\n  catalog {\n    category(compId: $compId) {\n      id\n      name\n      productsWithMetaData(limit: $limit, offset: $offset, onlyVisible: true) {\n        list {\n          " + jt + "\n        }\n        totalCount\n      }\n    }\n  }\n}\n",
            Ht = "query getFilteredProducts($mainCollectionId: String!, $filters: ProductFilters, $sort: ProductSort, $offset: Int, $limit: Int, $withOptions: Boolean = false, $withPriceRange: Boolean = false) {\n  catalog {\n    category(categoryId: $mainCollectionId) {\n      numOfProducts\n      productsWithMetaData(filters: $filters, limit: $limit, sort: $sort, offset: $offset, onlyVisible: true) {\n        totalCount\n        list {\n           " + jt + "\n        }\n      }\n    }\n  }\n}\n",
            zt = "query getRelatedProductsByAlgorithm($productIds: [String!]!, $algorithm: Algorithm, $externalId: String!, $withOptions: Boolean = false, $withPriceRange: Boolean = false) {\n  appSettings(externalId: $externalId) {\n    widgetSettings\n  }\n  catalog {\n    relatedProducts(productIds: $productIds, algorithm: $algorithm) {\n      " + jt + "\n    }\n  }\n}\n";
        var Qt, Kt, Yt, Xt, Jt, Zt, te, ee, ne, re, ie, oe, ae, se, le, ue, ce, de, pe, ge, fe, he, ye, me, ve, Se, be, Ie, Pe, Ce, _e, Te, we, Oe, Ae, Ee, De, Re, Ne, xe, Me, Le, Fe, Ue, ke, Ve;
        ! function(t) {
            t.REFUNDABLE = "REFUNDABLE", t.MANUAL = "MANUAL", t.NOT_REFUNDABLE = "NOT_REFUNDABLE"
        }(Qt || (Qt = {})),
        function(t) {
            t.ALREADY_REFUNDED = "ALREADY_REFUNDED", t.PROVIDER_IS_DOWN = "PROVIDER_IS_DOWN", t.NOT_SUPPORTED = "NOT_SUPPORTED", t.EXPIRED = "EXPIRED", t.NOT_FOUND = "NOT_FOUND", t.INTERNAL_ERROR = "INTERNAL_ERROR", t.NOT_PAID = "NOT_PAID", t.ACCESS_DENIED = "ACCESS_DENIED", t.ZERO_PRICE = "ZERO_PRICE", t.OFFLINE = "OFFLINE", t.DISABLE_BY_VENDOR = "DISABLE_BY_VENDOR", t.PARTIALLY_PAID = "PARTIALLY_PAID", t.DEPOSIT_ONLINE_ITEM = "DEPOSIT_ONLINE_ITEM", t.PENDING_REFUND = "PENDING_REFUND", t.FORBIDDEN = "FORBIDDEN"
        }(Kt || (Kt = {})),
        function(t) {
            t.MONTH = "MONTH", t.DAY = "DAY", t.WEEK = "WEEK", t.YEAR = "YEAR", t.UNDEFINED = "UNDEFINED"
        }(Yt || (Yt = {})),
        function(t) {
            t.UNSUPPORTED_SOURCE = "UNSUPPORTED_SOURCE", t.WIX_FACEBOOK_ADS = "WIX_FACEBOOK_ADS"
        }(Xt || (Xt = {})),
        function(t) {
            t.Paid = "Paid", t.NotPaid = "NotPaid", t.Refunded = "Refunded", t.PartiallyPaid = "PartiallyPaid"
        }(Jt || (Jt = {})),
        function(t) {
            t.Fulfilled = "Fulfilled", t.NotFulfilled = "NotFulfilled", t.Canceled = "Canceled"
        }(Zt || (Zt = {})),
        function(t) {
            t.Fulfilled = "Fulfilled", t.NotFulfilled = "NotFulfilled", t.PartiallyFulfilled = "PartiallyFulfilled", t.Canceled = "Canceled"
        }(te || (te = {})),
        function(t) {
            t.Active = "Active", t.Archived = "Archived"
        }(ee || (ee = {})),
        function(t) {
            t.Read = "Read", t.NotRead = "NotRead"
        }(ne || (ne = {})),
        function(t) {
            t.Web = "Web", t.Pos = "Pos", t.Ebay = "Ebay", t.Amazon = "Amazon", t.OtherPlatform = "OtherPlatform", t.WixAppStore = "WixAppStore"
        }(re || (re = {})),
        function(t) {
            t.IncrementId = "IncrementId", t.Quantity = "Quantity", t.CreationDate = "CreationDate", t.CustomerName = "CustomerName", t.PaymentStatus = "PaymentStatus", t.ShippingStatus = "ShippingStatus", t.Total = "Total", t.FulfillmentStatus = "FulfillmentStatus", t.LastUpdated = "LastUpdated", t.DeliveryTimeSlotFromDate = "DeliveryTimeSlotFromDate", t.DeliveryTimeSlotToDate = "DeliveryTimeSlotToDate"
        }(ie || (ie = {})),
        function(t) {
            t.Ascending = "Ascending", t.Descending = "Descending"
        }(oe || (oe = {})),
        function(t) {
            t.Confirmed = "Confirmed", t.Shipped = "Shipped", t.Fulfilled = "Fulfilled", t.Tracking = "Tracking", t.Canceled = "Canceled"
        }(ae || (ae = {})),
        function(t) {
            t.FEATURE_KILLED = "FEATURE_KILLED", t.INELIGIBLE_STORE = "INELIGIBLE_STORE"
        }(se || (se = {})),
        function(t) {
            t.gift = "gift", t.merchandise = "merchandise", t.other = "other"
        }(le || (le = {})),
        function(t) {
            t.APPLY_RATE_TO_EACH_PRODUCT = "APPLY_RATE_TO_EACH_PRODUCT", t.APPLY_RATE_ONCE_PER_GROUP = "APPLY_RATE_ONCE_PER_GROUP", t.APPLY_HIGHEST_RATE_ONCE = "APPLY_HIGHEST_RATE_ONCE"
        }(ue || (ue = {})),
        function(t) {
            t.AMOUNT = "AMOUNT", t.PERCENT = "PERCENT"
        }(ce || (ce = {})),
        function(t) {
            t.GIFT_CARD_GENERAL_ERROR = "GIFT_CARD_GENERAL_ERROR", t.GIFT_CARD_INSUFFICIENT_BALANCE = "GIFT_CARD_INSUFFICIENT_BALANCE", t.GIFT_CARD_CODE_INVALID = "GIFT_CARD_CODE_INVALID", t.GIFT_CARD_CURRENCY_INVALID = "GIFT_CARD_CURRENCY_INVALID", t.GIFT_CARD_EXPIRED = "GIFT_CARD_EXPIRED", t.GIFT_CARD_DISABLED = "GIFT_CARD_DISABLED", t.GIFT_CARD_IS_EMPTY = "GIFT_CARD_IS_EMPTY", t.GIFT_CARD_SERVICE_UNAVAILABLE = "GIFT_CARD_SERVICE_UNAVAILABLE"
        }(de || (de = {})),
        function(t) {
            t.Equals = "Equals", t.Contains = "Contains"
        }(pe || (pe = {})),
        function(t) {
            t.IN_STOCK_STATUS = "IN_STOCK_STATUS", t.OUT_OF_STOCK_STATUS = "OUT_OF_STOCK_STATUS", t.NOT_OUT_OF_STOCK_STATUS = "NOT_OUT_OF_STOCK_STATUS", t.PARTIALLY_OUT_OF_STOCK_STATUS = "PARTIALLY_OUT_OF_STOCK_STATUS"
        }(ge || (ge = {})),
        function(t) {
            t.Physical = "Physical", t.Digital = "Digital"
        }(fe || (fe = {})),
        function(t) {
            t.name = "name", t.creationDate = "creationDate", t.createVersion = "createVersion", t.price = "price", t.comparePrice = "comparePrice", t.discountedPrice = "discountedPrice", t.description = "description", t.ribbon = "ribbon", t.sku = "sku", t.visible = "visible", t.deleted = "deleted", t.created = "created", t.categories = "categories", t.id = "id", t.productType = "productType", t.inventoryStatus = "inventoryStatus", t.optionChoices = "optionChoices", t.slug = "slug", t.taxGroupId = "taxGroupId", t.handleId = "handleId", t.lastUpdated = "lastUpdated", t.shippingProductGroupId = "shippingProductGroupId", t.planIds = "planIds", t.allowOneTimePurchase = "allowOneTimePurchase", t.fulfillerId = "fulfillerId", t.readyToSellExternalAppId = "readyToSellExternalAppId", t.hideFromPos = "hideFromPos", t.brand = "brand", t.preOrder = "preOrder"
        }(he || (he = {})),
        function(t) {
            t.EQUALS = "EQUALS", t.NEQUALS = "NEQUALS", t.GT = "GT", t.GTE = "GTE", t.LT = "LT", t.LTE = "LTE", t.BETWEEN = "BETWEEN", t.IN = "IN", t.IN_ALL = "IN_ALL", t.CONTAINS = "CONTAINS", t.START_WITH = "START_WITH", t.MATCH = "MATCH", t.CONTAINS_ALL = "CONTAINS_ALL", t.CONTAINS_ANY = "CONTAINS_ANY", t.EXISTS = "EXISTS"
        }(ye || (ye = {})),
        function(t) {
            t.Name = "Name", t.CreationDate = "CreationDate", t.CreateVersion = "CreateVersion", t.Price = "Price", t.ComparePrice = "ComparePrice", t.DiscountedPrice = "DiscountedPrice", t.Id = "Id", t.LastUpdated = "LastUpdated", t.name = "name", t.creationDate = "creationDate", t.createVersion = "createVersion", t.price = "price", t.comparePrice = "comparePrice", t.discountedPrice = "discountedPrice", t.id = "id", t.lastUpdated = "lastUpdated"
        }(me || (me = {})),
        function(t) {
            t.DROP_DOWN = "DROP_DOWN", t.COLOR = "COLOR"
        }(ve || (ve = {})),
        function(t) {
            t.ml = "ml", t.cl = "cl", t.l = "l", t.cbm = "cbm", t.mg = "mg", t.g = "g", t.kg = "kg", t.mm = "mm", t.cm = "cm", t.m = "m", t.sqm = "sqm", t.oz = "oz", t.lb = "lb", t.floz = "floz", t.pt = "pt", t.qt = "qt", t.gal = "gal", t.in = "in", t.ft = "ft", t.yd = "yd", t.sqft = "sqft"
        }(Se || (Se = {})),
        function(t) {
            t.Amount = "Amount", t.Percent = "Percent"
        }(be || (be = {})),
        function(t) {
            t.id = "id", t.name = "name", t.numOfProducts = "numOfProducts"
        }(Ie || (Ie = {})),
        function(t) {
            t.ProductNumericId = "ProductNumericId", t.VariantId = "VariantId", t.productNumericId = "productNumericId", t.variantId = "variantId"
        }(Pe || (Pe = {})),
        function(t) {
            t.brand = "brand"
        }(Ce || (Ce = {})),
        function(t) {
            t.OnOrderPaid = "OnOrderPaid", t.OnOrderCreated = "OnOrderCreated", t.Unknown = "Unknown"
        }(_e || (_e = {})),
        function(t) {
            t.SENT = "SENT", t.NOT_SENT = "NOT_SENT", t.SCHEDULED = "SCHEDULED"
        }(Te || (Te = {})),
        function(t) {
            t.RECOVERED = "RECOVERED", t.NOT_RECOVERED = "NOT_RECOVERED"
        }(we || (we = {})),
        function(t) {
            t.AbandonedDate = "AbandonedDate", t.AbandonTime = "AbandonTime"
        }(Oe || (Oe = {})),
        function(t) {
            t.LOCKED = "LOCKED", t.UNLOCKED = "UNLOCKED"
        }(Ae || (Ae = {})),
        function(t) {
            t.ALLOW = "ALLOW", t.WARN = "WARN"
        }(Ee || (Ee = {})),
        function(t) {
            t.ManageProductPricing = "ManageProductPricing", t.ManageProductVariants = "ManageProductVariants", t.ManageProductInventory = "ManageProductInventory", t.DuplicateProduct = "DuplicateProduct"
        }(De || (De = {})),
        function(t) {
            t.ON_ORDER_CREATED = "ON_ORDER_CREATED", t.ON_ORDER_PAID = "ON_ORDER_PAID", t.OFF = "OFF"
        }(Re || (Re = {})),
        function(t) {
            t.PHOTO = "PHOTO", t.UNSUPPORTED = "UNSUPPORTED"
        }(Ne || (Ne = {})),
        function(t) {
            t.UNSPECIFIED_LINE_ITEM_TYPE = "UNSPECIFIED_LINE_ITEM_TYPE", t.PHYSICAL = "PHYSICAL", t.DIGITAL = "DIGITAL", t.CUSTOM_AMOUNT_ITEM = "CUSTOM_AMOUNT_ITEM"
        }(xe || (xe = {})),
        function(t) {
            t.KG = "KG", t.LB = "LB"
        }(Me || (Me = {})),
        function(t) {
            t.MONTH = "MONTH", t.DAY = "DAY", t.WEEK = "WEEK", t.YEAR = "YEAR", t.UNDEFINED = "UNDEFINED"
        }(Le || (Le = {}));
        class Be {
            constructor(t) {
                this.siteStore = t
            }
            oldGetInitialData(t) {
                let {
                    externalId: e,
                    compId: n,
                    limit: r,
                    withPriceRange: i,
                    withOptions: o
                } = t;
                const a = {
                    query: qt,
                    source: "WixStoresWebClient",
                    operationName: "getSliderGalleryData",
                    variables: {
                        externalId: e || "",
                        compId: n,
                        limit: r,
                        withPriceRange: i,
                        withOptions: o
                    }
                };
                return this.sendRequest(a)
            }
            getInitialData(t) {
                let {
                    externalId: e,
                    compId: n,
                    limit: r,
                    sort: i,
                    filters: o,
                    offset: a,
                    withOptions: s,
                    withPriceRange: l,
                    mainCollectionId: u
                } = t;
                const c = Math.min(r, 1e4),
                    d = {
                        query: Wt,
                        source: "WixStoresWebClient",
                        operationName: "getData",
                        variables: {
                            externalId: e || "",
                            compId: u ? void 0 : n,
                            limit: c,
                            sort: i,
                            filters: o,
                            offset: a,
                            withOptions: s,
                            withPriceRange: l,
                            mainCollectionId: u
                        }
                    };
                return this.sendRequest(d)
            }
            getRelatedProductsByAlgorithm(t) {
                let {
                    externalId: e = "",
                    productIds: n,
                    algorithmId: r,
                    appId: i,
                    withOptions: o,
                    withPriceRange: a
                } = t;
                const s = {
                    query: zt,
                    source: "WixStoresWebClient",
                    operationName: "getRelatedProductsByAlgorithm",
                    variables: {
                        externalId: e,
                        productIds: n,
                        algorithm: {
                            id: r,
                            appId: i
                        },
                        withOptions: o,
                        withPriceRange: a
                    }
                };
                return this.sendRequest(s)
            }
            sendRequest(t) {
                return this.siteStore.tryGetGqlAndFallbackToPost(this.siteStore.resolveAbsoluteUrl("/" + e.STOREFRONT_GRAPHQL_URL), t)
            }
            async getCategoryProducts(t) {
                const e = {
                    query: $t,
                    source: "WixStoresWebClient",
                    operationName: "getCategoryProducts",
                    variables: t
                };
                return this.sendRequest(e)
            }
            async getProductsByOffset(t) {
                const {
                    collectionId: e,
                    offset: n,
                    limit: r,
                    filters: i,
                    withOptions: o,
                    withPriceRange: a,
                    sorting: s
                } = t, l = await this.getProductsByGraphQL(e, n, r, i, o, a, s), {
                    list: u,
                    totalCount: c
                } = l.data.catalog.category.productsWithMetaData;
                return {
                    list: R().compact(u),
                    totalCount: c
                }
            }
            async getProducts(t) {
                let {
                    collectionId: e,
                    filters: n,
                    fromIndex: r,
                    sorting: i,
                    toIndex: o,
                    withOptions: a,
                    withPriceRange: s
                } = t;
                const l = r,
                    u = o - r;
                return this.getProductsByOffset({
                    collectionId: e,
                    filters: n,
                    sorting: i,
                    withOptions: a,
                    withPriceRange: s,
                    offset: l,
                    limit: u
                })
            }
            async getProductsByGraphQL(t, e, n, r, i, o, a) {
                const s = {
                    variables: {
                        mainCollectionId: t,
                        offset: e,
                        limit: n,
                        sort: a && "" !== a.field ? {
                            direction: "ASC" === a.direction ? oe.Ascending : oe.Descending,
                            sortField: a.field
                        } : null,
                        filters: r,
                        withOptions: i,
                        withPriceRange: o
                    },
                    query: Ht,
                    source: "WixStoresWebClient",
                    operationName: "getFilteredProducts"
                };
                return this.sendRequest(s)
            }
            async getCategoryInitialData(t) {
                let {
                    externalId: e
                } = t;
                const n = {
                    variables: {
                        externalId: e || ""
                    },
                    query: 'query getCategoryInitialData($externalId: String!) {\n  appSettings(externalId: $externalId) {\n    widgetSettings\n  }\n  catalog {\n    filters(enabledFilters: "CATEGORY") {\n      filterType\n      name\n      field\n      values {\n        key\n        value\n      }\n    }\n    categories {\n      list {\n        id\n        name\n        slug\n        visible\n        numOfProducts\n        description\n        media {\n          url\n          fullUrl\n          mediaType\n          width\n          height\n        }\n        seoData\n      }\n    }\n    allProductsCategoryId\n  }\n}\n',
                    source: "WixStoresWebClient",
                    operationName: "getCategoryInitialData"
                };
                return this.sendRequest(n)
            }
        }

        function Ge(t, e) {
            if (!t && !e) return !1;
            if (e) return e.availableForPreOrder;
            if (t.isManageProductItems) {
                var n = t.productItemsPreOrderAvailability === ke.ALL_VARIANTS,
                    r = t.productItemsPreOrderAvailability === ke.SOME_VARIANTS;
                return n || r && !t.isInStock
            }
            return t.inventory.availableForPreOrder
        }

        function je(t) {
            var e;
            return (null === (e = t.subscriptionPlans) || void 0 === e ? void 0 : e.list.filter((function(t) {
                return !0 === t.visible
            })).length) > 0
        }

        function qe(t, e) {
            var n = function(t) {
                    var e;
                    return (null === (e = t.discount) || void 0 === e ? void 0 : e.value) > 0
                }(t),
                r = function(t) {
                    return (null == t ? void 0 : t.surcharge) < 0
                }(e),
                i = e || t;
            return r ? n ? e.comparePrice : e.price : n ? i.comparePrice : i.price
        }

        function We(t, e) {
            return (null == e ? void 0 : e.sku) || t.sku
        }! function(t) {
            t.DIGITAL = "digital", t.PHYSICAL = "physical", t.SERVICE = "service", t.GIFT_CARD = "gift_card", t.UNRECOGNISED = "unrecognised"
        }(Fe || (Fe = {})),
        function(t) {
            t.OUT_OF_STOCK = "out_of_stock", t.IN_STOCK = "in_stock"
        }(Ue || (Ue = {})),
        function(t) {
            t.ALL_VARIANTS = "all_variants", t.NO_VARIANTS = "no_variants", t.SOME_VARIANTS = "some_variants"
        }(ke || (ke = {})),
        function(t) {
            t.SECURE_PICTURE = "secure_picture", t.SECURE_VIDEO = "secure_video", t.SECURE_DOCUMENT = "secure_document", t.SECURE_MUSIC = "secure_music", t.SECURE_ARCHIVE = "secure_archive"
        }(Ve || (Ve = {}));
        var $e, He, ze, Qe, Ke = function() {
            function t(t) {
                this.product = t, this.variantSelectionIds = []
            }
            return t.prototype.setVariantSelectionIds = function(t) {
                this.variantSelectionIds = t
            }, t.prototype.getVariantSelectionIds = function() {
                var t = this,
                    e = this.product.options.map((function(t) {
                        return t.id
                    })),
                    n = Array(e.length).fill(null);
                return this.variantSelectionIds.forEach((function(r) {
                    var i = Xe({
                            selectionId: r,
                            product: t.product
                        }).id,
                        o = e.indexOf(i);
                    n[o] = r
                })), n.filter((function(t) {
                    return null !== t
                }))
            }, t.prototype.updateProduct = function(t) {
                this.product = t
            }, t.prototype.getSelectionsAvailability = function() {
                return t = {
                    product: this.product,
                    variantSelectionIds: this.variantSelectionIds
                }, r = t.product, null !== (n = null === (e = r.options) || void 0 === e ? void 0 : e.reduce((function(e, n) {
                    var r;
                    return (0, p.__assign)((0, p.__assign)({}, e), ((r = {})[n.id] = function(t) {
                        var e, n, r = t.product,
                            i = t.optionId,
                            o = r.options.find((function(t) {
                                return t.id === i
                            }));
                        return null !== (n = null === (e = o.selections) || void 0 === e ? void 0 : e.reduce((function(e, n) {
                            var i, o, a, s, l;
                            if (r.isManageProductItems ? 0 === r.productItems.length && (s = !0, l = !r.isTrackingInventory || !!(null === (a = r.inventory) || void 0 === a ? void 0 : a.availableForPreOrder)) : (s = !0, l = r.isInStock || !!(null === (o = r.inventory) || void 0 === o ? void 0 : o.availableForPreOrder)), void 0 === s || void 0 === l) {
                                var u = function(t) {
                                        var e = t.product,
                                            n = t.selectionId,
                                            r = t.variantSelectionIds;
                                        return (0, p.__spread)([n], function(t) {
                                            var e = t.product,
                                                n = t.selectionIds,
                                                r = t.optionId,
                                                i = e.options.find((function(t) {
                                                    return t.id === r
                                                })).selections.map((function(t) {
                                                    return t.id
                                                }));
                                            return n.filter((function(t) {
                                                return !i.includes(t)
                                            }))
                                        }({
                                            product: e,
                                            selectionIds: r,
                                            optionId: Xe({
                                                product: e,
                                                selectionId: n
                                            }).id
                                        }))
                                    }((0, p.__assign)((0, p.__assign)({}, t), {
                                        selectionId: n.id
                                    })),
                                    c = function(t) {
                                        return function(t) {
                                            var e = [],
                                                n = Array(t.options.length).fill(0);
                                            for (e.push(t.options.map((function(t, e) {
                                                    return t.selections[n[e]].id
                                                }))); !n.every((function(e, n) {
                                                    return e + 1 === t.options[n].selections.length
                                                }));) n.some((function(e, r) {
                                                var i = e + 1 < t.options[r].selections.length;
                                                if (i) {
                                                    for (var o = 0; o < r; o += 1) n[o] = 0;
                                                    n[r] += 1
                                                }
                                                return i
                                            })), e.push(t.options.map((function(t, e) {
                                                return t.selections[n[e]].id
                                            })));
                                            return e
                                        }(t).map((function(e) {
                                            var n, r = function(t) {
                                                var e = t.product,
                                                    n = t.selectionIds;
                                                return e.productItems.find((function(t) {
                                                    return t.optionsSelections.every((function(t) {
                                                        return n.includes(t)
                                                    }))
                                                }))
                                            }({
                                                product: t,
                                                selectionIds: e
                                            });
                                            return r ? {
                                                selectionIds: e,
                                                isSelectable: Ye({
                                                    product: t,
                                                    productItem: r
                                                }),
                                                isVisible: r.isVisible
                                            } : {
                                                selectionIds: e,
                                                isVisible: !0,
                                                isSelectable: !t.isTrackingInventory || (null === (n = t.inventory) || void 0 === n ? void 0 : n.availableForPreOrder)
                                            }
                                        }))
                                    }(r).filter((function(t) {
                                        return u.every((function(e) {
                                            return t.selectionIds.includes(e)
                                        }))
                                    }));
                                s = null != s ? s : c.some((function(t) {
                                    return t.isVisible
                                })), l = null != l ? l : c.some((function(t) {
                                    return t.isSelectable
                                }))
                            }
                            return (0, p.__assign)((0, p.__assign)({}, e), ((i = {})[n.id] = {
                                isVisible: s,
                                isSelectable: l
                            }, i))
                        }), {})) && void 0 !== n ? n : {}
                    }((0, p.__assign)((0, p.__assign)({}, t), {
                        optionId: n.id
                    })), r))
                }), {})) && void 0 !== n ? n : {};
                var t, e, n, r
            }, t.prototype.getMediaItems = function() {
                return function(t) {
                    var e = t.variantSelectionIds,
                        n = t.product;
                    if (!e.length) return n.media;
                    var r = e.reduce((function(t, e) {
                        var r, i, o = null !== (i = null === (r = function(t) {
                            var e, n, r = t.product,
                                i = t.selectionId;
                            try {
                                for (var o = (0, p.__values)(r.options), a = o.next(); !a.done; a = o.next()) {
                                    var s = a.value.selections.find((function(t) {
                                        return t.id === i
                                    }));
                                    if (s) return s
                                }
                            } catch (t) {
                                e = {
                                    error: t
                                }
                            } finally {
                                try {
                                    a && !a.done && (n = o.return) && n.call(o)
                                } finally {
                                    if (e) throw e.error
                                }
                            }
                            return
                        }({
                            product: n,
                            selectionId: e
                        })) || void 0 === r ? void 0 : r.linkedMediaItems) && void 0 !== i ? i : [];
                        return (0, p.__spread)(t, o)
                    }), []);
                    if (!r.length) return n.media;
                    return r
                }({
                    product: this.product,
                    variantSelectionIds: this.variantSelectionIds
                })
            }, t.prototype.getPriceInfo = function() {
                return t = {
                    product: this.product,
                    variantSelectionIds: this.variantSelectionIds
                }, a = t.product, s = t.variantSelectionIds, l = Je({
                    product: a,
                    variantSelectionIds: s
                }), {
                    price: null !== (e = null == l ? void 0 : l.price) && void 0 !== e ? e : a.price,
                    formattedPrice: null !== (n = null == l ? void 0 : l.formattedPrice) && void 0 !== n ? n : a.formattedPrice,
                    comparePrice: null !== (r = null == l ? void 0 : l.comparePrice) && void 0 !== r ? r : a.comparePrice,
                    formattedComparePrice: null !== (i = null == l ? void 0 : l.formattedComparePrice) && void 0 !== i ? i : a.formattedComparePrice,
                    formattedPricePerUnit: null !== (o = null == l ? void 0 : l.formattedPricePerUnit) && void 0 !== o ? o : a.formattedPricePerUnit
                };
                var t, e, n, r, i, o, a, s, l
            }, t.prototype.canAddToCart = function() {
                return function(t) {
                    var e, n = t.product,
                        r = t.variantSelectionIds;
                    if (r.length < n.options.length || (null === (e = n.customTextFields) || void 0 === e ? void 0 : e.length)) return !1;
                    var i = function(t) {
                        var e, n = t.product,
                            r = null === (e = n.inventory) || void 0 === e ? void 0 : e.availableForPreOrder;
                        if (!n.isManageProductItems && (n.isInStock || r)) return !0;
                        if (n.isManageProductItems && 0 === n.productItems.length) return !0;
                        return !1
                    }({
                        product: n
                    });
                    if (i || !n.options.length) return i;
                    var o = Je({
                        product: n,
                        variantSelectionIds: r
                    });
                    if (!n.productItems.length || !1 === (null == o ? void 0 : o.isVisible)) return !1;
                    var a = Ye({
                        product: n,
                        productItem: o
                    });
                    return !(!i && !a)
                }({
                    product: this.product,
                    variantSelectionIds: this.variantSelectionIds
                })
            }, t
        }();

        function Ye(t) {
            var e, n = t.product,
                r = t.productItem;
            return r ? (n.isTrackingInventory ? r.inventory.quantity > 0 : r.inventory.status === Ue.IN_STOCK) || !!r.availableForPreOrder : !n.isTrackingInventory || (null === (e = n.inventory) || void 0 === e ? void 0 : e.availableForPreOrder)
        }

        function Xe(t) {
            var e = t.product,
                n = t.selectionId;
            return e.options.find((function(t) {
                return t.selections.some((function(t) {
                    return t.id === n
                }))
            }))
        }

        function Je(t) {
            var e, n = t.product,
                r = t.variantSelectionIds,
                i = function(t, e) {
                    return t - e
                },
                o = (0, p.__spread)(r).sort(i).join("");
            return null === (e = n.productItems) || void 0 === e ? void 0 : e.find((function(t) {
                var e = t.optionsSelections;
                return o === (0, p.__spread)(e).sort(i).join("")
            }))
        }
        class Ze {
            constructor() {
                Z()(this, "productsMap", {})
            }
            addProducts(t) {
                t.forEach((t => {
                    this.productsMap[t.id] ? this.productsMap[t.id].variantCalculator.updateProduct(t) : this.productsMap[t.id] = {
                        variantCalculator: new Ke(t)
                    }
                }))
            }
            handleUserInput(t, e) {
                this.productsMap[t].variantCalculator.setVariantSelectionIds(e)
            }
            clearSelections() {
                Object.keys(this.productsMap).forEach((t => this.productsMap[t].variantCalculator.setVariantSelectionIds([])))
            }
            getVariantInfoMap() {
                return Object.keys(this.productsMap).reduce(((t, e) => ({ ...t,
                    [e]: {
                        variantSelectionIds: [...this.productsMap[e].variantCalculator.getVariantSelectionIds()],
                        selectionsAvailability: this.productsMap[e].variantCalculator.getSelectionsAvailability(),
                        mediaItems: this.productsMap[e].variantCalculator.getMediaItems(),
                        priceInfo: this.productsMap[e].variantCalculator.getPriceInfo()
                    }
                })), {})
            }
            getVariantSelectionIds(t) {
                return [...this.productsMap[t].variantCalculator.getVariantSelectionIds()]
            }
            canAddToCart(t) {
                return this.productsMap[t].variantCalculator.canAddToCart()
            }
        }! function(t) {
            t.USE_LIGHTBOXES = "specs.stores.UseLightboxes", t.USE_ADD_CUSTOM_ITEMS_TO_CART_GRAPHQL_MUTATION = "specs.stores.UseAddCustomItemsToCartGraphQLMutation", t.AllowMobileTinyCartInViewer = "specs.stores.AllowMobileTinyCartInViewer", t.ShouldUseOnlyBaseUrlAsOrigin = "specs.stores.ShouldUseOnlyBaseUrlAsOrigin", t.ShouldUseOnlyPlatformExperiments = "specs.stores.ShouldUseOnlyPlatformExperiments", t.useCacheInEditorForSiteConfig = "specs.stores.useCacheInEditorForSiteConfig", t.AvoidLoadingMiniCartForDisabledSites = "specs.stores.AvoidLoadingMiniCartForDisabledSites", t.dummySpec = "ThisIsADummySpec", t.IncreaseGqlGetLimit = "specs.stores.increaseGqlGetLimit", t.fixEmailNotifierInCart = "specs.stores.fixEmailNotifierInCart", t.FixDynamicLinkHover = "specs.stores.FixDynamicLinkHover", t.NavigateToRelativeUrlWithCustomizedUrl = "specs.stores.navigateToRelativeUrlWithCustomizedUrl"
        }($e || ($e = {})),
        function(t) {
            t.SITE = "site", t.PREVIEW = "preview", t.EDITOR = "editor"
        }(He || (He = {})),
        function(t) {
            t.COLOR = "color", t.LIST = "list"
        }(ze || (ze = {})),
        function(t) {
            t.CHECKED = "checked", t.UNCHECKED = "unchecked"
        }(Qe || (Qe = {}));
        var tn = function() {
            function t(t) {
                this.siteStore = t
            }
            return t.prototype.getQuickViewUrl = function(t) {
                var e = t.externalId,
                    n = t.instance,
                    r = t.origin,
                    i = t.urlPart,
                    o = t.selectionIds,
                    a = t.quantity,
                    s = "https://ecom.wixapps.net/storefront/product/" + i,
                    l = {
                        layout: "quickview",
                        origin: r,
                        instance: n
                    };
                return e && (l.externalId = e), (null == o ? void 0 : o.length) && (l.selectionIds = encodeURIComponent(o.join(","))), a && a > 1 && (l.quantity = a.toString()), s + "?" + Object.keys(l).map((function(t) {
                    return t + "=" + l[t]
                })).join("&")
            }, t.prototype.openQuickViewLightbox = function(t) {
                return this.siteStore.windowApis.openLightbox("Quick View", {
                    productSlug: t
                })
            }, t.prototype.quickViewProduct = function(t) {
                var e = t.origin,
                    n = t.urlPart,
                    r = t.compId,
                    i = t.externalId,
                    o = t.selectionIds,
                    a = t.quantity,
                    l = t.title;
                if (this.siteStore.isMobile()) return this.siteStore.navigate({
                    sectionId: s.PRODUCT,
                    state: n,
                    queryParams: void 0
                }, !0);
                var u = this.getQuickViewUrl({
                    externalId: i,
                    instance: this.siteStore.instanceManager.getInstance(),
                    origin: e,
                    urlPart: n,
                    selectionIds: o,
                    quantity: a
                });
                return this.siteStore.experiments.enabled($e.USE_LIGHTBOXES) ? this.openQuickViewLightbox(n) : this.siteStore.windowApis.openModal(u, {
                    title: l,
                    width: 940,
                    height: 660,
                    theme: "BARE"
                }, r)
            }, t
        }();
        class en {
            constructor() {
                Z()(this, "products", []), Z()(this, "userInput", {})
            }
            addProducts(t) {
                this.products = t
            }
            getProductPriceRangeMap() {
                return this.products.reduce(((t, e) => {
                    const n = this.userInput[e.id];
                    return n && 0 !== n.length || !e.priceRange || (t[e.id] = e.priceRange.fromPriceFormatted), t
                }), {})
            }
            handleUserInput(t, e) {
                this.userInput[t] = e
            }
            clearSelections() {
                this.userInput = {}
            }
        }
        var nn = function() {
            function t(t, e) {
                this.url = t, this.http = e
            }
            return t.prototype.execute = function(t, e, n) {
                void 0 === n && (n = {});
                var r = R().merge({
                    templateParams: {
                        commandName: t
                    }
                }, n);
                return this.http.post(this.url, e, r)
            }, t
        }();
        var rn, on, an;
        ! function(t) {
            t.DIGITAL = "digital", t.PHYSICAL = "physical", t.MIXED = "mixed", t.MIXED_VERTICALS = "mixed_verticals", t.SERVICE = "service", t.GIFT_CARD = "gift_card", t.UNRECOGNISED = "unrecognised"
        }(rn || (rn = {})),
        function(t) {
            t.CHANGED = "Cart.Changed", t.CLEARED = "Cart.Cleared"
        }(on || (on = {})),
        function(t) {
            t.VIEW_CONTENT = "ViewContent", t.SEARCH = "Search", t.ADD_TO_CART = "AddToCart", t.ADD_TO_WISHLIST = "AddToWishlist", t.INITIATE_CHECKOUT = "InitiateCheckout", t.ADD_PAYMENT_INFO = "AddPaymentInfo", t.PURCHASE = "Purchase", t.LEAD = "Lead", t.COMPLETE_REGISTRATION = "CompleteRegistration", t.CUSTOM_EVENT = "CustomEvent", t.REMOVE_FROM_CART = "RemoveFromCart", t.CHECKOUT_STEP = "CheckoutStep"
        }(an || (an = {}));
        var sn, ln = "\n  errors {\n    code\n    commandName\n    message\n    field\n  }\n  cart {\n    cartId\n    checkoutId\n    ecomId\n    storeId\n    buyerNote\n    items {\n      cartItemId\n      catalogAppId\n      convertedFormattedComparePrice\n      convertedFormattedPrice\n      convertedFormattedTotalPrice\n      convertedPrices {\n        comparePrice\n        formattedComparePrice\n        formattedPrice\n        formattedTotalPrice\n        price\n        totalPrice\n        formattedPriceBeforeDiscount\n      }\n      product {\n        comparePrice\n        convertedComparePrice\n        convertedPrice\n        customTextFields {\n          title\n          value\n        }\n        id\n        productType\n        urlPart\n        name\n        pageUrl\n        price\n        sku\n        weight\n        media(limit: 1) {\n          altText\n          mediaType\n          url\n          height\n          width\n        }\n        digitalProductFileItems {\n          fileType\n        }\n      }\n      optionsSelectionsValues {\n        id\n        title\n        value\n      }\n      convertedTotalPrice\n      freeText {\n        title\n        value\n      }\n      sku\n      quantity\n      inventoryQuantity\n      formattedComparePrice\n      formattedPrice\n      formattedTotalPrice\n      formattedPriceBeforeDiscount\n      discountRules {\n        name\n      }\n      subscriptionPlan {\n        id\n        name\n        tagline\n        frequency\n        duration\n      }\n      totalPrice\n    }\n    subscriptionPlan {\n      id\n      name\n      tagline\n      frequency\n      duration\n    }\n\n    appliedCoupon {\n      convertedDiscountValue\n      code\n      couponId\n      couponType\n      name\n      discountValue\n    }\n    couponCalculationError\n     additionalFees {\n      code\n      name\n      totalPrice\n      formattedTotalPrice\n      convertedFormattedTotalPrice\n    }\n    totals {\n      subTotal\n      shipping\n      tax\n      total\n      discount\n      shippingWithoutTax\n      giftCardAmount\n      formattedSubTotal\n      formattedShipping\n      formattedTax\n      originalTotal\n      itemsTotal\n      additionalFeesTotal\n      formattedItemsTotal\n      formattedOriginalTotal\n      formattedTotalBeforeTax\n      formattedTotal\n      formattedDiscount\n      formattedShippingWithoutTax\n      formattedGiftCardAmount\n      formattedAdditionalFeesTotal\n      totalBeforeTax\n    }\n    destination {\n      country\n      subdivision\n      zipCode\n    }\n    selectedShippingOption {\n      id\n    }\n    shippingAddress {\n      email\n      firstName\n      lastName\n      fullName\n      addressLine\n      addressLine1\n      addressLine2\n      street {\n        name\n        number\n      }\n      city\n      company\n      country\n      subdivision\n      zipCode\n      phoneNumber\n      taxInfo {\n        taxId\n        taxType\n      }\n      addressesServiceId\n    }\n    billingAddress {\n      addressLine\n      email\n      firstName\n      lastName\n      fullName\n      addressLine1\n      addressLine2\n      street {\n        name\n        number\n      }\n      city\n      company\n      country\n      subdivision\n      zipCode\n      phoneNumber\n      taxInfo {\n        taxId\n        taxType\n      }\n      addressesServiceId\n    }\n    taxCalculationError\n    taxRuleInfo {\n      rule {\n        applyToShipping\n      }\n      status\n    }\n    checkoutCustomField {\n      value\n    }\n    convertedCurrencyFormat {\n      code\n    }\n    convertedTotals {\n      discount\n      formattedDiscount\n      formattedGiftCardAmount\n      formattedItemsTotal\n      formattedOriginalTotal\n      formattedShipping\n      formattedShippingWithoutTax\n      formattedSubTotal\n      formattedTax\n      formattedTotal\n      formattedTotalBeforeTax\n      giftCardAmount\n      itemsTotal\n      originalTotal\n      shipping\n      shippingWithoutTax\n      subTotal\n      tax\n      total\n      totalBeforeTax\n    }\n    currencyFormat {\n      code\n    }\n    destinationCompleteness\n    giftCard {\n      id\n      code\n      errorCode\n    }\n    shippingRuleInfo {\n      shippingRule {\n        id\n        ruleType\n        options {\n          convertedRate\n          convertedFormattedRate\n          id\n          title\n          rate\n          formattedRate\n          deliveryTime\n          pickupInfo {\n            address {\n              country\n              subdivision\n              addressLine\n              city\n              zipCode\n            }\n            instructions\n          }\n        }\n      }\n    }\n  }\n",
            un = "mutation addToCart($params: [AddToCartInput!]) {\n  cart {\n    addToCart(params: $params) {\n      " + ln + "\n    }\n  }\n}\n",
            cn = "mutation setCoupon($params: SetCouponInput!) {\n  cart {\n    setCoupon(params: $params) {\n      " + ln + "\n    }\n  }\n}\n",
            dn = "mutation removeCoupon($params: RemoveCouponInput!) {\n  cart {\n    removeCoupon(params: $params) {\n      " + ln + "\n    }\n  }\n}\n",
            pn = "mutation updateBuyerNote($params: UpdateBuyerNoteInput!) {\n  cart {\n    updateBuyerNote(params: $params) {\n      " + ln + "\n    }\n  }\n}\n",
            gn = "mutation removeItem($params: RemoveItemInput!) {\n  cart {\n    removeItem(params: $params) {\n      " + ln + "\n    }\n  }\n}\n",
            fn = "mutation updateItemQuantity($params: UpdateItemQuantityInput!) {\n  cart {\n    updateItemQuantity(params: $params) {\n      " + ln + "\n    }\n  }\n}\n";

        function hn(t) {
            var e = (0, p.__assign)({}, t);
            return e.items = (e.items || []).map((function(t) {
                return (0, p.__assign)((0, p.__assign)((0, p.__assign)({}, t), t.product), {
                    media: t.product.media[0] || mn
                })
            })), e
        }! function(t) {
            t[t.PHOTO = "PHOTO"] = "PHOTO", t[t.VIDEO = "VIDEO"] = "VIDEO"
        }(sn || (sn = {}));
        var yn, mn = {
                altText: null,
                height: 0,
                width: 0,
                mediaType: sn.PHOTO,
                url: ""
            },
            vn = (function() {
                function t(t) {
                    this.sdkAdapter = t
                }
                t.prototype.notifyCartChange = function(t, e) {
                    var n = (0, p.__assign)((0, p.__assign)({}, hn(t)), {
                        extraParams: e
                    });
                    delete n.billingAddress, delete n.shippingAddress, this.sdkAdapter.publish(on.CHANGED, n, !1)
                }, t.prototype.subscribeToCartChanges = function(t) {
                    this.sdkAdapter.subscribe(on.CHANGED, (function(e) {
                        return t(e.data)
                    }), !1)
                }, t.prototype.subscribeToCartCleared = function(t) {
                    this.sdkAdapter.subscribe(on.CLEARED, (function(e) {
                        return t(e.data)
                    }), !1)
                }
            }(), function(t) {
                return (0, p.__assign)((0, p.__assign)({}, hn(t)), {
                    __typename: "CartSummary"
                })
            }),
            Sn = n(7832),
            bn = (0, Sn.P)(yn || (yn = (0, p.__makeTemplateObject)(["\n  query getLegacyCart($cartId: String!, $locale: String!, $withTax: Boolean, $withShipping: Boolean) {\n    cartService {\n      cart(cartId: $cartId) {\n        cartId\n        storeId\n        buyerNote\n        items {\n          cartItemId\n          product {\n            id\n            productType\n            urlPart\n            name\n            price\n            media(limit: 1) {\n              altText\n              mediaType\n              url\n              height\n              width\n            }\n            digitalProductFileItems {\n              fileType\n            }\n          }\n          optionsSelectionsValues {\n            id\n            title\n            value\n          }\n          freeText {\n            title\n            value\n          }\n          sku\n          quantity\n          inventoryQuantity\n          convertedPrices {\n            formattedComparePrice\n            formattedPrice\n            formattedTotalPrice\n            totalPrice\n          }\n        }\n        appliedCoupon {\n          code\n          couponId\n          couponType\n          name\n        }\n        currencyFormat {\n          code\n        }\n        convertedCurrencyFormat {\n          code\n        }\n        totals(withTax: $withTax, withShipping: $withShipping) {\n          subTotal\n          total\n          shipping\n          discount\n          itemsTotal\n          tax\n          formattedSubTotal\n          formattedShipping\n          formattedDiscount\n          formattedTax\n          formattedTotal\n        }\n        destination {\n          country\n          countryName(translateTo: $locale)\n          subdivision\n          subdivisionName(translateTo: $locale)\n          zipCode\n        }\n        selectedShippingOption {\n          id\n        }\n        shippingRuleInfo {\n          status\n          canShipToDestination\n          shippingRule {\n            id\n            options {\n              id\n              title\n              deliveryTime\n              pickupInfo {\n                address {\n                  countryName(translateTo: $locale)\n                  subdivisionName(translateTo: $locale)\n                  addressLine\n                  city\n                }\n                pickupMethod\n              }\n              deliveryTimeSlot {\n                from\n                to\n              }\n            }\n          }\n        }\n        destinationCompleteness\n        minimumOrderAmount {\n          reached\n          diff\n          value\n          convertedDiff\n          convertedValue\n          formattedConvertedDiff\n          formattedConvertedValue\n        }\n      }\n    }\n  }\n"], ["\n  query getLegacyCart($cartId: String!, $locale: String!, $withTax: Boolean, $withShipping: Boolean) {\n    cartService {\n      cart(cartId: $cartId) {\n        cartId\n        storeId\n        buyerNote\n        items {\n          cartItemId\n          product {\n            id\n            productType\n            urlPart\n            name\n            price\n            media(limit: 1) {\n              altText\n              mediaType\n              url\n              height\n              width\n            }\n            digitalProductFileItems {\n              fileType\n            }\n          }\n          optionsSelectionsValues {\n            id\n            title\n            value\n          }\n          freeText {\n            title\n            value\n          }\n          sku\n          quantity\n          inventoryQuantity\n          convertedPrices {\n            formattedComparePrice\n            formattedPrice\n            formattedTotalPrice\n            totalPrice\n          }\n        }\n        appliedCoupon {\n          code\n          couponId\n          couponType\n          name\n        }\n        currencyFormat {\n          code\n        }\n        convertedCurrencyFormat {\n          code\n        }\n        totals(withTax: $withTax, withShipping: $withShipping) {\n          subTotal\n          total\n          shipping\n          discount\n          itemsTotal\n          tax\n          formattedSubTotal\n          formattedShipping\n          formattedDiscount\n          formattedTax\n          formattedTotal\n        }\n        destination {\n          country\n          countryName(translateTo: $locale)\n          subdivision\n          subdivisionName(translateTo: $locale)\n          zipCode\n        }\n        selectedShippingOption {\n          id\n        }\n        shippingRuleInfo {\n          status\n          canShipToDestination\n          shippingRule {\n            id\n            options {\n              id\n              title\n              deliveryTime\n              pickupInfo {\n                address {\n                  countryName(translateTo: $locale)\n                  subdivisionName(translateTo: $locale)\n                  addressLine\n                  city\n                }\n                pickupMethod\n              }\n              deliveryTimeSlot {\n                from\n                to\n              }\n            }\n          }\n        }\n        destinationCompleteness\n        minimumOrderAmount {\n          reached\n          diff\n          value\n          convertedDiff\n          convertedValue\n          formattedConvertedDiff\n          formattedConvertedValue\n        }\n      }\n    }\n  }\n"]))),
            In = function(t) {
                return _n(t.items, (function(t) {
                    return t.catalogAppId
                }))
            },
            Pn = function(t) {
                return _n(t.items, (function(t) {
                    return t.productType
                }))
            },
            Cn = function(t) {
                var e, n;
                return null !== (n = null === (e = null == t ? void 0 : t.items) || void 0 === e ? void 0 : e.reduce((function(t, e) {
                    return t + e.quantity
                }), 0)) && void 0 !== n ? n : 0
            };

        function _n(t, e) {
            return An((null != t ? t : []).map(e).filter(En)).toString()
        }
        var Tn, wn, On, An = function(t) {
                return (0, p.__spread)(new Set((0, p.__spread)(t)))
            },
            En = function(t) {
                return !!t
            },
            Dn = function(t) {
                var e, n;
                return 1e5 * (null !== (n = null === (e = null == t ? void 0 : t.totals) || void 0 === e ? void 0 : e.additionalFeesTotal) && void 0 !== n ? n : 0)
            },
            Rn = function(t) {
                var e, n;
                return null !== (n = null === (e = null == t ? void 0 : t.additionalFees) || void 0 === e ? void 0 : e.length) && void 0 !== n ? n : 0
            },
            Nn = function() {
                function t(t) {
                    var e = this,
                        n = t.siteStore,
                        r = t.origin;
                    this.updateBuyerNote = function(t, n) {
                        var r = (0, p.__assign)({
                                cartId: t.cartId
                            }, e.baseParams),
                            i = vn(t),
                            o = In(i),
                            a = i.checkoutId;
                        n ? e.siteStore.platformBiLogger.saveNoteToSellerSf((0, p.__assign)((0, p.__assign)({}, r), {
                            is_empty: !1,
                            catalogAppId: o,
                            checkoutId: a
                        })) : e.siteStore.platformBiLogger.deleteNoteToSellerSf((0, p.__assign)((0, p.__assign)({}, r), {
                            catalogAppId: o,
                            checkoutId: a
                        }))
                    }, this.siteStore = n, this.origin = r
                }
                return Object.defineProperty(t.prototype, "baseParams", {
                    get: function() {
                        return {
                            origin: this.origin
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), t
            }(),
            xn = (0, Sn.P)(Tn || (Tn = (0, p.__makeTemplateObject)(["\n  query getLegacyCartOrCheckout(\n    $cartId: String!\n    $locale: String!\n    $withTax: Boolean\n    $withShipping: Boolean\n    $checkoutId: String\n  ) {\n    cartService {\n      cart(cartId: $cartId, checkoutId: $checkoutId) {\n        cartId\n        storeId\n        buyerNote\n        items {\n          cartItemId\n          product {\n            id\n            productType\n            urlPart\n            name\n            price\n            media(limit: 1) {\n              altText\n              mediaType\n              url\n              height\n              width\n            }\n            digitalProductFileItems {\n              fileType\n            }\n          }\n          optionsSelectionsValues {\n            id\n            title\n            value\n          }\n          freeText {\n            title\n            value\n          }\n          sku\n          quantity\n          inventoryQuantity\n          convertedPrices {\n            formattedComparePrice\n            formattedPrice\n            formattedTotalPrice\n            totalPrice\n          }\n        }\n        appliedCoupon {\n          code\n          couponId\n          couponType\n          name\n        }\n        currencyFormat {\n          code\n        }\n        convertedCurrencyFormat {\n          code\n        }\n        totals(withTax: $withTax, withShipping: $withShipping) {\n          subTotal\n          total\n          shipping\n          discount\n          itemsTotal\n          tax\n          formattedSubTotal\n          formattedShipping\n          formattedDiscount\n          formattedTax\n          formattedTotal\n        }\n        destination {\n          country\n          countryName(translateTo: $locale)\n          subdivision\n          subdivisionName(translateTo: $locale)\n          zipCode\n        }\n        selectedShippingOption {\n          id\n        }\n        shippingRuleInfo {\n          status\n          canShipToDestination\n          shippingRule {\n            id\n            options {\n              id\n              title\n              deliveryTime\n              pickupInfo {\n                address {\n                  countryName(translateTo: $locale)\n                  subdivisionName(translateTo: $locale)\n                  addressLine\n                  city\n                }\n                pickupMethod\n              }\n              deliveryTimeSlot {\n                from\n                to\n              }\n            }\n          }\n        }\n        destinationCompleteness\n        minimumOrderAmount {\n          reached\n          diff\n          value\n          convertedDiff\n          convertedValue\n          formattedConvertedDiff\n          formattedConvertedValue\n        }\n      }\n    }\n  }\n"], ["\n  query getLegacyCartOrCheckout(\n    $cartId: String!\n    $locale: String!\n    $withTax: Boolean\n    $withShipping: Boolean\n    $checkoutId: String\n  ) {\n    cartService {\n      cart(cartId: $cartId, checkoutId: $checkoutId) {\n        cartId\n        storeId\n        buyerNote\n        items {\n          cartItemId\n          product {\n            id\n            productType\n            urlPart\n            name\n            price\n            media(limit: 1) {\n              altText\n              mediaType\n              url\n              height\n              width\n            }\n            digitalProductFileItems {\n              fileType\n            }\n          }\n          optionsSelectionsValues {\n            id\n            title\n            value\n          }\n          freeText {\n            title\n            value\n          }\n          sku\n          quantity\n          inventoryQuantity\n          convertedPrices {\n            formattedComparePrice\n            formattedPrice\n            formattedTotalPrice\n            totalPrice\n          }\n        }\n        appliedCoupon {\n          code\n          couponId\n          couponType\n          name\n        }\n        currencyFormat {\n          code\n        }\n        convertedCurrencyFormat {\n          code\n        }\n        totals(withTax: $withTax, withShipping: $withShipping) {\n          subTotal\n          total\n          shipping\n          discount\n          itemsTotal\n          tax\n          formattedSubTotal\n          formattedShipping\n          formattedDiscount\n          formattedTax\n          formattedTotal\n        }\n        destination {\n          country\n          countryName(translateTo: $locale)\n          subdivision\n          subdivisionName(translateTo: $locale)\n          zipCode\n        }\n        selectedShippingOption {\n          id\n        }\n        shippingRuleInfo {\n          status\n          canShipToDestination\n          shippingRule {\n            id\n            options {\n              id\n              title\n              deliveryTime\n              pickupInfo {\n                address {\n                  countryName(translateTo: $locale)\n                  subdivisionName(translateTo: $locale)\n                  addressLine\n                  city\n                }\n                pickupMethod\n              }\n              deliveryTimeSlot {\n                from\n                to\n              }\n            }\n          }\n        }\n        destinationCompleteness\n        minimumOrderAmount {\n          reached\n          diff\n          value\n          convertedDiff\n          convertedValue\n          formattedConvertedDiff\n          formattedConvertedValue\n        }\n      }\n    }\n  }\n"]))),
            Mn = (0, Sn.P)(wn || (wn = (0, p.__makeTemplateObject)(["\n  query getCart($locale: String!, $withTax: Boolean, $withShipping: Boolean) {\n    cart {\n      cartId\n      checkoutId\n      ecomId\n      purchaseFlowId\n      storeId\n      buyerNote\n      items {\n        cartItemId\n        catalogAppId\n        product {\n          id\n          productType\n          urlPart\n          weight\n          name\n          price\n          comparePrice\n          customTextFields {\n            title\n            value\n          }\n          media(limit: 1) {\n            altText\n            mediaType\n            url\n            height\n            width\n          }\n          digitalProductFileItems {\n            fileType\n          }\n        }\n        optionsSelectionsValues {\n          id\n          title\n          value\n        }\n        freeText {\n          title\n          value\n        }\n        sku\n        quantity\n        inventoryQuantity\n        convertedPrices {\n          formattedComparePrice\n          formattedPrice\n          formattedTotalPrice\n          totalPrice\n          formattedPriceBeforeDiscount\n          price\n          depositAmount\n          formattedDepositAmount\n        }\n        formattedDepositAmount\n        depositAmount\n        formattedPriceBeforeDiscount\n        discountRules {\n          name\n        }\n        renderingConfig {\n          hidePrice\n          hideQuantity\n        }\n        paymentType\n        selectedMembership {\n          membershipId\n          appId\n          name {\n            original\n            translated\n          }\n        }\n      }\n      appliedCoupon {\n        discountValue\n        convertedDiscountValue\n        code\n        couponId\n        couponType\n        name\n      }\n      currencyFormat {\n        code\n      }\n      convertedCurrencyFormat {\n        code\n      }\n      additionalFees {\n        code\n        name\n        totalPrice\n        formattedTotalPrice\n        convertedFormattedTotalPrice\n      }\n      totals(withTax: $withTax, withShipping: $withShipping) {\n        subTotal\n        total\n        shipping\n        discount\n        itemsTotal\n        tax\n        payNow\n        payLater\n        additionalFeesTotal\n        formattedItemsTotal\n        formattedSubTotal\n        formattedShipping\n        formattedDiscount\n        formattedTax\n        formattedAdditionalFeesTotal\n        formattedPayNow\n        formattedPayLater\n        formattedTotal\n      }\n      convertedTotals(withTax: $withTax, withShipping: $withShipping) {\n        subTotal\n        total\n        shipping\n        discount\n        itemsTotal\n        tax\n        payNow\n        payLater\n        additionalFeesTotal\n        formattedItemsTotal\n        formattedSubTotal\n        formattedShipping\n        formattedDiscount\n        formattedTax\n        formattedAdditionalFeesTotal\n        formattedPayNow\n        formattedPayLater\n        formattedTotal\n      }\n      destination {\n        country\n        countryName(translateTo: $locale)\n        subdivision\n        subdivisionName(translateTo: $locale)\n        zipCode\n      }\n      selectedShippingOption {\n        id\n      }\n      shippingRuleInfo {\n        status\n        canShipToDestination\n        shippingRule {\n          id\n          options {\n            id\n            title\n            rate: convertedRate\n            formattedRate: convertedFormattedRate\n            deliveryTime\n            pickupInfo {\n              address {\n                countryName(translateTo: $locale)\n                subdivisionName(translateTo: $locale)\n                addressLine\n                city\n              }\n              pickupMethod\n            }\n            deliveryTimeSlot {\n              from\n              to\n            }\n          }\n        }\n      }\n      destinationCompleteness\n      minimumOrderAmount {\n        reached\n        diff\n        value\n        convertedDiff\n        convertedValue\n        formattedConvertedDiff\n        formattedConvertedValue\n      }\n      violations {\n        severity\n        target {\n          other {\n            name\n          }\n          lineItem {\n            name\n            id\n          }\n        }\n        description\n      }\n    }\n  }\n"], ["\n  query getCart($locale: String!, $withTax: Boolean, $withShipping: Boolean) {\n    cart {\n      cartId\n      checkoutId\n      ecomId\n      purchaseFlowId\n      storeId\n      buyerNote\n      items {\n        cartItemId\n        catalogAppId\n        product {\n          id\n          productType\n          urlPart\n          weight\n          name\n          price\n          comparePrice\n          customTextFields {\n            title\n            value\n          }\n          media(limit: 1) {\n            altText\n            mediaType\n            url\n            height\n            width\n          }\n          digitalProductFileItems {\n            fileType\n          }\n        }\n        optionsSelectionsValues {\n          id\n          title\n          value\n        }\n        freeText {\n          title\n          value\n        }\n        sku\n        quantity\n        inventoryQuantity\n        convertedPrices {\n          formattedComparePrice\n          formattedPrice\n          formattedTotalPrice\n          totalPrice\n          formattedPriceBeforeDiscount\n          price\n          depositAmount\n          formattedDepositAmount\n        }\n        formattedDepositAmount\n        depositAmount\n        formattedPriceBeforeDiscount\n        discountRules {\n          name\n        }\n        renderingConfig {\n          hidePrice\n          hideQuantity\n        }\n        paymentType\n        selectedMembership {\n          membershipId\n          appId\n          name {\n            original\n            translated\n          }\n        }\n      }\n      appliedCoupon {\n        discountValue\n        convertedDiscountValue\n        code\n        couponId\n        couponType\n        name\n      }\n      currencyFormat {\n        code\n      }\n      convertedCurrencyFormat {\n        code\n      }\n      additionalFees {\n        code\n        name\n        totalPrice\n        formattedTotalPrice\n        convertedFormattedTotalPrice\n      }\n      totals(withTax: $withTax, withShipping: $withShipping) {\n        subTotal\n        total\n        shipping\n        discount\n        itemsTotal\n        tax\n        payNow\n        payLater\n        additionalFeesTotal\n        formattedItemsTotal\n        formattedSubTotal\n        formattedShipping\n        formattedDiscount\n        formattedTax\n        formattedAdditionalFeesTotal\n        formattedPayNow\n        formattedPayLater\n        formattedTotal\n      }\n      convertedTotals(withTax: $withTax, withShipping: $withShipping) {\n        subTotal\n        total\n        shipping\n        discount\n        itemsTotal\n        tax\n        payNow\n        payLater\n        additionalFeesTotal\n        formattedItemsTotal\n        formattedSubTotal\n        formattedShipping\n        formattedDiscount\n        formattedTax\n        formattedAdditionalFeesTotal\n        formattedPayNow\n        formattedPayLater\n        formattedTotal\n      }\n      destination {\n        country\n        countryName(translateTo: $locale)\n        subdivision\n        subdivisionName(translateTo: $locale)\n        zipCode\n      }\n      selectedShippingOption {\n        id\n      }\n      shippingRuleInfo {\n        status\n        canShipToDestination\n        shippingRule {\n          id\n          options {\n            id\n            title\n            rate: convertedRate\n            formattedRate: convertedFormattedRate\n            deliveryTime\n            pickupInfo {\n              address {\n                countryName(translateTo: $locale)\n                subdivisionName(translateTo: $locale)\n                addressLine\n                city\n              }\n              pickupMethod\n            }\n            deliveryTimeSlot {\n              from\n              to\n            }\n          }\n        }\n      }\n      destinationCompleteness\n      minimumOrderAmount {\n        reached\n        diff\n        value\n        convertedDiff\n        convertedValue\n        formattedConvertedDiff\n        formattedConvertedValue\n      }\n      violations {\n        severity\n        target {\n          other {\n            name\n          }\n          lineItem {\n            name\n            id\n          }\n        }\n        description\n      }\n    }\n  }\n"]))),
            Ln = function(t) {
                function e(e) {
                    var n = e.siteStore,
                        r = e.origin,
                        i = t.call(this, {
                            siteStore: n,
                            origin: r
                        }) || this;
                    return i.biService = new Nn({
                        siteStore: n,
                        origin: r
                    }), i
                }
                return (0, p.__extends)(e, t), e.prototype.commandPost = function(t, e) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            return [2, this.post(this.endpoints.cartCommmands(t), e)]
                        }))
                    }))
                }, e.prototype.createVolatileCart = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.mutate({
                                        variables: t,
                                        query: "mutation createCart(\n  $productId: String!\n  $optionSelectionId: [Int]!\n  $quantity: Int!\n  $customTextFieldSelection: [CustomTextOptionInput]!\n  $subscriptionOptionId: String\n  $buyerNote: String\n  $variantId: String\n  $isPickupOnly: Boolean\n  $options: Json\n  $preOrderRequested: Boolean\n) {\n  checkout {\n    createCart(\n      productId: $productId\n      optionSelectionId: $optionSelectionId\n      customTextFieldSelection: $customTextFieldSelection\n      quantity: $quantity\n      subscriptionOptionId: $subscriptionOptionId\n      buyerNote: $buyerNote\n      variantId: $variantId\n      isPickupOnly: $isPickupOnly\n      options: $options\n      preOrderRequested: $preOrderRequested\n    ) {\n      id\n      checkoutId\n      lineItems {\n        id\n      }\n    }\n  }\n}",
                                        operationName: I.CreateCart
                                    })];
                                case 1:
                                    return [2, e.sent().checkout.createCart]
                            }
                        }))
                    }))
                }, e.prototype.addToCart = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    if (!t || 0 === t.length) throw Error("Invalid addToCart request (no items were specified to be added to the cart)");
                                    return t.forEach((function(t) {
                                        if (!t.productId) throw Error("Invalid product id (should be a GUID)");
                                        if (!Number.isInteger(t.quantity) || t.quantity < 1) throw Error("Invalid quantity (should be rational and greater than 0)");
                                        t.customTextFieldSelections && t.customTextFieldSelections.length > 0 && t.customTextFieldSelections.forEach((function(t) {
                                            t.title = String(t.title), t.value = String(t.value)
                                        }))
                                    })), [4, this.mutate({
                                        variables: {
                                            params: t
                                        },
                                        query: un,
                                        operationName: I.AddToCart
                                    }, (function(t) {
                                        return R().get(t, "data.cart.addToCart.errors[0].message", null)
                                    }))];
                                case 1:
                                    return [2, e.sent().cart.addToCart.cart]
                            }
                        }))
                    }))
                }, e.prototype.fetchCart = function(t, e) {
                    return void 0 === t && (t = {
                        locale: "en",
                        withTax: !1,
                        withShipping: !1
                    }), (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, this.fetch({
                                        variables: t,
                                        query: Mn,
                                        operationName: I.GetCart,
                                        source: e
                                    }, C.NodeReadWrite, !0)];
                                case 1:
                                    return [2, n.sent().data.cart]
                            }
                        }))
                    }))
                }, e.prototype.fetchCartLegacyOrCheckoutPlatform = function(t, e) {
                    var n = t.cartId,
                        r = t.locale,
                        i = void 0 === r ? "en" : r,
                        o = t.withTax,
                        a = void 0 !== o && o,
                        s = t.withShipping,
                        l = void 0 !== s && s;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.fetch({
                                        variables: {
                                            cartId: n,
                                            locale: i,
                                            withTax: a,
                                            withShipping: l
                                        },
                                        query: bn,
                                        operationName: I.GetLegacyCart,
                                        source: e
                                    }, C.NodeReadWrite, !0)];
                                case 1:
                                    return [2, t.sent().data.cartService.cart]
                            }
                        }))
                    }))
                }, e.prototype.fetchCartLegacyOrCheckout = function(t, e) {
                    var n = t.checkoutId,
                        r = t.cartId,
                        i = t.locale,
                        o = void 0 === i ? "en" : i,
                        a = t.withTax,
                        s = void 0 !== a && a,
                        l = t.withShipping,
                        u = void 0 !== l && l;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(t) {
                            switch (t.label) {
                                case 0:
                                    return [4, this.fetch({
                                        variables: {
                                            cartId: r,
                                            checkoutId: n,
                                            locale: o,
                                            withTax: s,
                                            withShipping: u
                                        },
                                        query: xn,
                                        operationName: I.GetLegacyCartOrCheckout,
                                        source: e
                                    }, C.NodeReadWrite, !0)];
                                case 1:
                                    return [2, t.sent().data.cartService.cart]
                            }
                        }))
                    }))
                }, e.prototype.removeItemMutation = function(t, e) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var n;
                        return (0, p.__generator)(this, (function(r) {
                            return n = {
                                cartId: t,
                                cartItemId: e
                            }, [2, this.mutate({
                                variables: {
                                    params: n
                                },
                                query: gn,
                                operationName: I.RemoveItem
                            })]
                        }))
                    }))
                }, e.prototype.removeItem = function(t) {
                    var e = t.cartId,
                        n = t.cartItemId;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, this.removeItemMutation(e, n)];
                                case 1:
                                    return t = r.sent().cart.removeItem.cart, [2, vn(t)]
                            }
                        }))
                    }))
                }, e.prototype.updateItemQuantityMutation = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            return [2, this.mutate({
                                variables: {
                                    params: t
                                },
                                query: fn,
                                operationName: I.UpdateItemQuantity
                            })]
                        }))
                    }))
                }, e.prototype.updateItemQuantity = function(t) {
                    var e = t.cartId,
                        n = t.cartItemId,
                        r = t.quantity;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    if (!Number.isInteger(r) || r < 1) throw Error("Invalid quantity (should be rational and greater than 0)");
                                    return [4, this.updateItemQuantityMutation({
                                        cartId: e,
                                        cartItemId: n,
                                        quantity: r
                                    })];
                                case 1:
                                    return t = i.sent().cart.updateItemQuantity.cart, [2, vn(t)]
                            }
                        }))
                    }))
                }, e.prototype.updateBuyerNoteMutation = function(t, e) {
                    return void 0 === e && (e = ""), (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            return [2, this.mutate({
                                variables: {
                                    params: {
                                        cartId: t,
                                        buyerNote: e
                                    }
                                },
                                query: pn,
                                operationName: I.UpdateBuyerNote
                            })]
                        }))
                    }))
                }, e.prototype.updateBuyerNote = function(t, e, n) {
                    var r = e.cart;
                    return void 0 === n && (n = !0), (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, this.updateBuyerNoteMutation(r.cartId, t.content)];
                                case 1:
                                    return e.sent(), n && this.biService.updateBuyerNote(r, !!t.content), [2]
                            }
                        }))
                    }))
                }, e.prototype.setDestinationForEstimation = function(t, e) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, this.mutate({
                                        variables: {
                                            params: {
                                                cartId: e,
                                                address: t.destination
                                            }
                                        },
                                        query: "mutation setDestinationForEstimation(\n $params: SetDestinationForEstimationInput!\n) {\n  cart {\n    setDestinationForEstimation(params: $params) {\n      errors {\n          code\n          commandName\n          message\n          field\n      }\n      cart {\n          cartId\n      }\n    }\n  }\n}\n",
                                        operationName: I.SetDestinationForEstimation
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, e.prototype.setShippingOption = function(t, e) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, this.mutate({
                                        variables: {
                                            params: {
                                                cartId: t,
                                                selectedShippingOption: e
                                            }
                                        },
                                        query: "mutation setCartShippingOption(\n $params: SetShippingOptionInput!\n) {\n  cart {\n    setShippingOption(params: $params) {\n      errors {\n          code\n          commandName\n          message\n          field\n      }\n      cart {\n          cartId\n      }\n    }\n  }\n}\n",
                                        operationName: I.SetCartShippingOptionNew
                                    })];
                                case 1:
                                    return n.sent(), [2]
                            }
                        }))
                    }))
                }, e.prototype.setCouponMutation = function(t, e, n) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var r, i, o;
                        return (0, p.__generator)(this, (function(a) {
                            switch (a.label) {
                                case 0:
                                    return r = {
                                        cartId: t,
                                        code: e,
                                        userIdentifier: n
                                    }, [4, this.mutate({
                                        variables: {
                                            params: r
                                        },
                                        query: cn,
                                        operationName: I.SetCoupon
                                    })];
                                case 1:
                                    if (i = a.sent().cart, o = i.setCoupon.errors, Array.isArray(o) && o.length > 0) throw {
                                        success: !1,
                                        errors: o
                                    };
                                    return [2, i.setCoupon.cart]
                            }
                        }))
                    }))
                }, e.prototype.applyCoupon = function(t, e, n) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var r;
                        return (0, p.__generator)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return [4, this.setCouponMutation(t, e, n)];
                                case 1:
                                    return r = i.sent(), [2, vn(r)]
                            }
                        }))
                    }))
                }, e.prototype.removeCoupon = function(t) {
                    var e = t.cartId,
                        n = t.couponId;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return [4, this.mutate({
                                        variables: {
                                            params: {
                                                cartId: e,
                                                couponId: n
                                            }
                                        },
                                        query: dn,
                                        operationName: I.RemoveCoupon
                                    })];
                                case 1:
                                    return t = r.sent().cart.removeCoupon.cart, [2, vn(t)]
                            }
                        }))
                    }))
                }, e.prototype.deleteCart = function(t, e) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return [4, this.commandPost(b.CartDelete, t)];
                                case 1:
                                    return n.sent(), e(t), [2]
                            }
                        }))
                    }))
                }, e
            }(O),
            Fn = function(t) {
                return Object.keys(t).reduce((function(e, n) {
                    var r;
                    return (0, p.__assign)((0, p.__assign)({}, e), void 0 === t[n] ? {} : ((r = {})[n] = t[n], r))
                }), {})
            },
            Un = function(t) {
                var e = t.siteStore,
                    n = t.origin;
                this.origin = n, this.siteStore = e
            },
            kn = function(t) {
                function n(n) {
                    var r = n.siteStore,
                        i = n.origin,
                        o = t.call(this, {
                            siteStore: r,
                            origin: i
                        }) || this;
                    return o.commandsExecutor = new nn(e.CART_COMMANDS_URL, o.siteStore.httpClient), o.cartApi = new Ln({
                        siteStore: r,
                        origin: i
                    }), o
                }
                return (0, p.__extends)(n, t), n.prototype.addToCart = function(t, e) {
                    var n = t.productId,
                        r = t.quantity,
                        o = t.addToCartAction,
                        a = void 0 === o ? i.MINI_CART : o,
                        s = t.customTextFieldSelections,
                        l = t.optionsSelectionsIds,
                        u = t.optionsSelectionsByNames,
                        c = t.onSuccess,
                        d = void 0 === c ? function() {
                            return null
                        } : c,
                        g = t.subscriptionOptionId,
                        f = t.variantId,
                        h = t.preOrderRequested;
                    return void 0 === e && (e = {}), (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return [4, this.addToCartAndReturnCartSummary({
                                        customTextFieldSelections: s,
                                        optionsSelectionsByNames: u,
                                        optionsSelectionsIds: l,
                                        productId: n,
                                        quantity: r,
                                        subscriptionOptionId: g,
                                        variantId: f,
                                        preOrderRequested: h
                                    })];
                                case 1:
                                    if (!(t = i.sent()).cartId) throw Error("error when adding to cart");
                                    return this.reportAddToCart((0, p.__assign)({
                                        productId: n,
                                        hasOptions: Object.keys(null != u ? u : {}).length > 0,
                                        cartId: D.get(t, "cartId", void 0),
                                        quantity: r,
                                        origin: this.origin,
                                        variantId: f
                                    }, e)), [2, this.onAddToCartCompleted(t, a, n, d)]
                            }
                        }))
                    }))
                }, n.prototype.addToCartAndReturnCartSummary = function(t) {
                    var e = t.customTextFieldSelections,
                        n = t.optionsSelectionsByNames,
                        r = t.optionsSelectionsIds,
                        i = t.productId,
                        o = t.quantity,
                        a = t.subscriptionOptionId,
                        s = t.variantId,
                        l = t.preOrderRequested;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t;
                        return (0, p.__generator)(this, (function(u) {
                            switch (u.label) {
                                case 0:
                                    return [4, this.cartApi.addToCart([{
                                        productId: i,
                                        quantity: o,
                                        variantId: s,
                                        optionsSelectionsIds: r,
                                        optionsSelectionsByNames: n,
                                        subscriptionOptionId: a,
                                        customTextFieldSelections: e,
                                        preOrderRequested: l
                                    }])];
                                case 1:
                                    return t = u.sent(), [2, vn(t)]
                            }
                        }))
                    }))
                }, n.prototype.shouldNavigateToCart = function() {
                    return !this.siteStore.isMiniCartExists
                }, n.prototype.onAddToCartCompleted = function(t, e, n, r) {
                    if (void 0 === e && (e = i.MINI_CART), e !== i.NONE || this.siteStore.isCartIconExists || (e = i.MINI_CART), this.publishCart(t, "AddToCartCompleted", {
                            shouldOpenCart: e !== i.NONE && e !== i.CART,
                            addToCartActionOption: e,
                            addedProductId: n
                        }), r(), e === i.CART || e !== i.NONE && this.shouldNavigateToCart()) return this.navigateToCart(this.origin)
                }, n.prototype.mergeAddToCartItemsProductId = function(t) {
                    return t.reduce((function(t, e) {
                        var n;
                        return t.push({
                            productId: null !== (n = e.productId) && void 0 !== n ? n : e.productID,
                            options: e.options,
                            quantity: e.quantity,
                            preOrderRequested: e.preOrderRequested
                        }), t
                    }), [])
                }, n.prototype.publishCart = function(t, e, n) {
                    void 0 === n && (n = {
                        shouldOpenCart: !1,
                        addToCartActionOption: i.MINI_CART
                    });
                    var r = t,
                        o = (r.billingAddress, r.shippingAddress, (0, p.__rest)(r, ["billingAddress", "shippingAddress"]));
                    this.siteStore.pubSubManager.publish(on.CHANGED, (0, p.__assign)((0, p.__assign)({}, o), {
                        extraParams: {
                            origin: this.origin
                        },
                        eventOptions: n,
                        reason: e
                    }))
                }, n.prototype.navigateToCart = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        return (0, p.__generator)(this, (function(e) {
                            return [2, this.siteStore.navigate({
                                sectionId: s.CART,
                                queryParams: {
                                    origin: t
                                }
                            }, !0)]
                        }))
                    }))
                }, n.prototype.removeItemFromCart = function(t, e) {
                    var n = t.cartId,
                        r = t.cartItemId,
                        i = t.productId,
                        o = t.productType,
                        a = t.productName,
                        s = t.price,
                        l = t.sku,
                        u = t.quantity,
                        c = t.currency,
                        d = t.catalogAppId;
                    return void 0 === e && (e = {
                        silent: !1
                    }), (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t, g;
                        return (0, p.__generator)(this, (function(f) {
                            switch (f.label) {
                                case 0:
                                    return [4, this.cartApi.removeItem({
                                        cartId: n,
                                        cartItemId: r
                                    })];
                                case 1:
                                    return t = f.sent(), e.silent || this.publishCart(t, "removeItemFromCart", {
                                        shouldOpenCart: !1
                                    }), g = {
                                        cartId: n,
                                        productId: i,
                                        productType: o,
                                        storeId: this.siteStore.msid,
                                        origin: this.origin,
                                        additionalFeesPrice: Dn(t),
                                        numberOfAdditionalFees: Rn(t),
                                        itemsCount: Cn(t)
                                    }, this.siteStore.platformBiLogger.removedProductFromCartSf((0, p.__assign)((0, p.__assign)({}, g), {
                                        catalogAppId: d,
                                        checkoutId: t.checkoutId,
                                        ecomId: t.ecomId
                                    })), this.siteStore.trackEvent(an.REMOVE_FROM_CART, {
                                        id: i,
                                        name: a,
                                        price: s,
                                        quantity: u,
                                        sku: l,
                                        currency: c,
                                        type: o
                                    }), [2]
                            }
                        }))
                    }))
                }, n.prototype.addCustomItemsToCart = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var e, n;
                        return (0, p.__generator)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return e = t.map((function(t) {
                                        return {
                                            name: t.name,
                                            notes: t.note,
                                            quantity: t.quantity,
                                            amount: t.price
                                        }
                                    })), [4, this.commandsExecutor.execute("BulkAddDetailedCustomAmountV2", {
                                        amounts: e
                                    })];
                                case 1:
                                    return n = r.sent(), this.publishCart(n.data.cartSummary, "addCustomItemsToCart", {
                                        shouldOpenCart: !1
                                    }), [2]
                            }
                        }))
                    }))
                }, n.prototype.applyCouponToCart = function(t) {
                    var e = t.cartId,
                        n = t.couponCode,
                        r = t.userIdentifier,
                        i = t.isMember;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t, o;
                        return (0, p.__generator)(this, (function(a) {
                            switch (a.label) {
                                case 0:
                                    return [4, this.cartApi.applyCoupon(e, n, r)];
                                case 1:
                                    return t = a.sent(), this.publishCart(t, "applyCouponToCart"), o = {
                                        origin: this.origin,
                                        cartId: e,
                                        couponCode: n,
                                        storeId: this.siteStore.msid,
                                        isMember: i,
                                        additionalFeesPrice: Dn(t),
                                        numberOfAdditionalFees: Rn(t)
                                    }, this.siteStore.platformBiLogger.clickApplyCoupon((0, p.__assign)((0, p.__assign)({}, o), {
                                        catalogAppId: In(t),
                                        checkoutId: t.checkoutId,
                                        itemType: Pn(t)
                                    })), [2]
                            }
                        }))
                    }))
                }, n.prototype.removeCouponFromCart = function(t) {
                    var e = t.cartId,
                        n = t.couponId,
                        r = t.couponCode;
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t, i;
                        return (0, p.__generator)(this, (function(o) {
                            switch (o.label) {
                                case 0:
                                    return [4, this.cartApi.removeCoupon({
                                        cartId: e,
                                        couponId: n
                                    })];
                                case 1:
                                    return t = o.sent(), this.publishCart(t, "removeCouponFromCart"), i = {
                                        origin: this.origin,
                                        cartId: e,
                                        couponId: n,
                                        couponCode: r,
                                        additionalFeesPrice: Dn(t),
                                        numberOfAdditionalFees: Rn(t)
                                    }, this.siteStore.platformBiLogger.removeACoupon((0, p.__assign)((0, p.__assign)({}, i), {
                                        catalogAppId: In(t),
                                        checkoutId: t.checkoutId,
                                        itemType: Pn(t)
                                    })), [2]
                            }
                        }))
                    }))
                }, n.prototype.updateLineItemQuantityInCart = function(t, e) {
                    var n = t.cartId,
                        r = t.cartItemId,
                        i = t.quantity,
                        o = t.productId,
                        a = t.cartType;
                    return void 0 === e && (e = {
                        silent: !1
                    }), (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t, s;
                        return (0, p.__generator)(this, (function(l) {
                            switch (l.label) {
                                case 0:
                                    return [4, this.cartApi.updateItemQuantity({
                                        cartId: n,
                                        cartItemId: r,
                                        quantity: i
                                    })];
                                case 1:
                                    return t = l.sent(), e.silent || this.publishCart(t, "updateLineItemQuantityInCart"), s = {
                                        origin: this.origin,
                                        productId: o,
                                        itemsCount: Cn(t),
                                        storeId: this.siteStore.msid,
                                        cartId: n,
                                        cartType: a,
                                        additionalFeesPrice: Dn(t),
                                        numberOfAdditionalFees: Rn(t)
                                    }, this.siteStore.platformBiLogger.updatedCartItemQuantitySf((0, p.__assign)((0, p.__assign)({}, s), {
                                        catalogAppId: In(t),
                                        checkoutId: t.checkoutId,
                                        ecomId: t.ecomId
                                    })), [2]
                            }
                        }))
                    }))
                }, n.prototype.addProductToCartMutation = function(t) {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var e, n;
                        return (0, p.__generator)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return e = t.map((function(t) {
                                        var e = t.productId,
                                            n = t.quantity,
                                            r = t.preOrderRequested,
                                            i = t.options,
                                            o = void 0 === i ? {} : i;
                                        return (0, p.__assign)((0, p.__assign)((0, p.__assign)({
                                            productId: e,
                                            quantity: n
                                        }, o.choices && {
                                            optionsSelectionsByNames: o.choices
                                        }), o.customTextFields && {
                                            customTextFieldSelections: o.customTextFields
                                        }), r ? {
                                            preOrderRequested: r
                                        } : {})
                                    })), [4, this.cartApi.addToCart(e)];
                                case 1:
                                    return n = r.sent(), [2, vn(n)]
                            }
                        }))
                    }))
                }, n.prototype.addProductsToCart = function(t, e) {
                    return void 0 === e && (e = {
                        silent: !1
                    }), (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var n, r = this;
                        return (0, p.__generator)(this, (function(i) {
                            switch (i.label) {
                                case 0:
                                    return t = this.mergeAddToCartItemsProductId(t), [4, this.addProductToCartMutation(t)];
                                case 1:
                                    return n = i.sent(), t.forEach((function(t) {
                                        r.reportAddToCart({
                                            productId: t.productId,
                                            hasOptions: !!D.get(t, "options.choices[0]", !1),
                                            quantity: t.quantity,
                                            cartId: n.cartId,
                                            origin: r.origin
                                        })
                                    })), e.silent || this.publishCart(n, "addProductsToCart", {
                                        shouldOpenCart: !1
                                    }), [2]
                            }
                        }))
                    }))
                }, n.prototype.reportAddToCart = function(t) {
                    var e = t.cartId,
                        n = t.category,
                        r = void 0 === n ? "All Products" : n,
                        i = t.hasOptions,
                        o = t.name,
                        a = t.origin,
                        s = t.variantId,
                        l = t.price,
                        u = t.productId,
                        c = t.quantity,
                        d = t.sku,
                        p = t.type,
                        g = t.buttonType,
                        f = t.appName,
                        h = t.productType,
                        y = t.isNavigateCart,
                        m = t.navigationClick,
                        v = t.impressionId,
                        S = t.galleryProductsLogic,
                        b = t.rank,
                        I = t.galleryInputId;
                    this.siteStore.biLogger.clickOnAddToCartSf(Fn({
                        appName: f,
                        buttonType: g,
                        hasOptions: i,
                        isNavigateCart: y,
                        navigationClick: m,
                        origin: a,
                        productId: u,
                        productType: h,
                        quantity: c,
                        impressionId: v,
                        galleryProductsLogic: S,
                        rank: b,
                        galleryInputId: I
                    })), this.siteStore.trackEvent(an.ADD_TO_CART, Fn({
                        cartId: e,
                        currency: this.siteStore.currency,
                        id: u,
                        quantity: c,
                        name: o,
                        sku: d,
                        price: l,
                        type: p,
                        category: r,
                        variantId: s
                    }))
                }, n.prototype.getCurrentCart = function() {
                    return this.cartApi.fetchCart()
                }, n.prototype.reloadCart = function() {
                    var t = this;
                    return this.cartApi.fetchCart().then((function(t) {
                        return vn(t)
                    })).then((function(e) {
                        return t.publishCart(e, "reloadCart", {
                            shouldOpenCart: !1
                        })
                    }))
                }, n
            }(Un);
        class Vn {
            constructor(t, e, n, r, i, o, a, s) {
                this.siteStore = t, this.productsPerPage = e, this.consumerName = n, this.withOptions = r, this.withPriceRange = i, this.fedopsLogger = o, this.shouldUseWarmupData = a, this.panoramaClient = s, Z()(this, "dataApi", void 0), Z()(this, "products", void 0), Z()(this, "productsOptionsService", new Ze), Z()(this, "priceRangeService", new en), Z()(this, "totalCount", void 0), Z()(this, "collectionName", void 0), Z()(this, "filters", null), Z()(this, "collectionIds", void 0), Z()(this, "sorting", void 0), Z()(this, "hideGallery", !1), Z()(this, "allProductsCategoryId", St), Z()(this, "quickViewActions", void 0), Z()(this, "cartActions", void 0), Z()(this, "updateSort", (t => {
                    this.sorting = t
                })), Z()(this, "updateFilters", (t => {
                    this.filters = t
                })), Z()(this, "hasOptions", (t => !!t.options.length)), Z()(this, "hasSubscriptionPlans", (t => je(t))), Z()(this, "flatAndEnrichSelections", (t => R().flatten(t.map((t => {
                    let {
                        selections: e,
                        key: n,
                        id: r
                    } = t;
                    return e.map((t => {
                        let {
                            key: e,
                            id: i
                        } = t;
                        return {
                            selectionKey: e,
                            selectionId: i,
                            optionId: r,
                            optionKey: n
                        }
                    }))
                }))))), Z()(this, "calculateVariantOptions", ((t, e) => {
                    const n = t.reduce(((t, e) => t.add(e)), new Set);
                    return this.flatAndEnrichSelections(e.options).filter((t => n.has(t.selectionId))).reduce(((t, e) => (t[e.optionKey] = e.selectionKey, t)), {})
                })), Z()(this, "setMainCollection", (t => {
                    this.collectionIds = {
                        mainCategory: t
                    }
                })), this.dataApi = new Be(this.siteStore), this.quickViewActions = new tn(this.siteStore), this.cartActions = new kn({
                    siteStore: this.siteStore,
                    origin: It
                })
            }
            setProducts(t) {
                this.products = t, this.productsOptionsService.addProducts(this.products), this.priceRangeService.addProducts(this.products)
            }
            async getProducts(t) {
                let {
                    filters: e,
                    collectionIds: n,
                    sorting: r,
                    shouldSpecificCollectionQuery: i,
                    limit: o
                } = t;
                const a = {
                        offset: 0,
                        limit: o || this.productsPerPage,
                        collectionId: i ? n.subCategory : n.mainCategory,
                        withOptions: this.withOptions,
                        withPriceRange: this.withPriceRange,
                        sorting: r,
                        filters: i ? null : e
                    },
                    s = await this.fetchQueryWithBatches({
                        request: a,
                        fetchingFunction: t => this.dataApi.getProductsByOffset(t),
                        mergingFunction: (t, e) => (t.list = t.list.concat(e.list), t)
                    });
                return this.totalCount = s.totalCount, this.setProducts(s.list), this.filters = e, this.collectionIds = n, this.sorting = r, this.sendTrackEvent(0), this.products
            }
            handleProductsOptionsChange(t) {
                let {
                    productId: e,
                    selectionIds: n
                } = t;
                const r = this.products.find((t => t.id === e));
                this.productsOptionsService.handleUserInput(r.id, n), this.priceRangeService.handleUserInput(r.id, n)
            }
            getProductAndVariantById(t) {
                const e = this.products.find((e => e.id === t));
                return {
                    product: e,
                    variant: Je({
                        product: e,
                        variantSelectionIds: this.productsOptionsService.getVariantSelectionIds(t)
                    })
                }
            }
            async oldGetInitialData(t) {
                const {
                    data: e
                } = await this.dataApi.oldGetInitialData({ ...t,
                    limit: this.productsPerPage,
                    withPriceRange: this.withPriceRange,
                    withOptions: this.withOptions
                });
                return this.initState(e)
            }
            async fetchQueryWithBatches(t) {
                let {
                    request: e,
                    fetchingFunction: n,
                    mergingFunction: r
                } = t;
                const {
                    limit: i,
                    offset: o
                } = e, a = [], s = i - o, l = Math.floor(s / At);
                let u = o;
                for (let t = 0; t < l; t++) {
                    const t = { ...e,
                        limit: At,
                        offset: u
                    };
                    a.push(n(t)), u += At
                }
                const c = s % At;
                if (c) {
                    const t = { ...e,
                        limit: c,
                        offset: u
                    };
                    a.push(n(t))
                }
                return (await Promise.all(a)).reduce(r)
            }
            async fetchInitialDataWithBatch(t) {
                const e = Math.min(t.limit, 2e3);
                t.limit = e;
                return this.fetchQueryWithBatches({
                    request: t,
                    fetchingFunction: t => this.dataApi.getInitialData(t),
                    mergingFunction: (t, e) => (null === e.data.catalog.category || (t.data.catalog.category.productsWithMetaData.list = t.data.catalog.category.productsWithMetaData.list.concat(e.data.catalog.category.productsWithMetaData.list)), t)
                })
            }
            async getInitialData(t) {
                let e;
                e = t.limit ? t.limit : this.productsPerPage;
                const n = { ...t,
                    limit: e,
                    withOptions: this.withOptions,
                    withPriceRange: this.withPriceRange
                };
                let r;
                if (this.shouldUseWarmupData) {
                    const t = Object.keys(n).filter((t => !!n[t])).map((t => t + "=" + n[t])).join("_"),
                        e = "gallery_" + this.siteStore.getCurrentCurrency() + "_" + t,
                        i = this.siteStore.windowApis.warmupData.get(e);
                    i ? r = i : (r = (await this.fetchInitialDataWithBatch(n)).data, this.siteStore.windowApis.warmupData.set(e, r))
                } else r = (await this.fetchInitialDataWithBatch(n)).data;
                return this.initState(r)
            }
            async getRelatedProductsByAlgorithm(t) {
                const {
                    data: e
                } = await this.dataApi.getRelatedProductsByAlgorithm({ ...t,
                    withOptions: this.withOptions,
                    withPriceRange: this.withPriceRange
                }), n = {
                    catalog: {
                        category: {
                            productsWithMetaData: {
                                list: e.catalog.relatedProducts,
                                totalCount: e.catalog.relatedProducts.length
                            },
                            name: "",
                            id: "",
                            visible: !0
                        },
                        allProductsCategoryId: null
                    },
                    appSettings: e.appSettings
                };
                return this.initState(n), n
            }
            initState(t) {
                return null === t.catalog.category && (t.catalog.category = {
                    productsWithMetaData: {
                        list: [],
                        totalCount: 0
                    },
                    id: "",
                    name: "",
                    visible: !0
                }, this.hideGallery = !0), this.setProducts(t.catalog.category.productsWithMetaData.list), this.setMainCollection(t.catalog.category.id), this.collectionName = t.catalog.category.name, this.totalCount = t.catalog.category.productsWithMetaData.totalCount, t.catalog.allProductsCategoryId && (this.allProductsCategoryId = t.catalog.allProductsCategoryId), this.sendTrackEvent(0), t
            }
            sendTrackEvent(t) {
                if (this.siteStore.isSSR()) return;
                const e = this.products.slice(t).map(((e, n) => ({
                    id: e.id,
                    name: e.name,
                    list: this.consumerName,
                    category: bt,
                    position: n + t,
                    price: e.comparePrice || e.price,
                    currency: this.siteStore.currency,
                    dimension3: e.isInStock ? "in stock" : "out of stock"
                })));
                this.siteStore.windowApis.trackEvent("AddProductImpression", {
                    appDefId: f,
                    contents: e,
                    origin: "Stores"
                })
            }
            hasMoreProductsToLoad() {
                return this.products.length < this.totalCount
            }
            setProductsPerPage(t) {
                this.productsPerPage = t
            }
            getProductPerPage() {
                return this.productsPerPage
            }
            setWithOptions(t) {
                this.withOptions = t
            }
            getProduct(t) {
                return this.products.find((e => e.id === t))
            }
            async getCategoryProducts(t) {
                let {
                    compId: e,
                    limit: n,
                    offset: r
                } = t;
                const {
                    data: i
                } = await this.dataApi.getCategoryProducts({
                    compId: e,
                    limit: n,
                    offset: r,
                    withOptions: this.withOptions,
                    withPriceRange: this.withPriceRange
                }), o = i.catalog.category.productsWithMetaData.list;
                this.products.splice(r, o.length, ...o), this.setProducts(this.products)
            }
            async loadMoreProducts(t) {
                let {
                    visibleProducts: e,
                    shouldSpecificCollectionQuery: n
                } = t;
                const r = await this.dataApi.getProducts({
                    fromIndex: e,
                    toIndex: e + this.productsPerPage,
                    withOptions: this.withOptions,
                    withPriceRange: this.withPriceRange,
                    sorting: this.sorting,
                    filters: n ? null : this.filters,
                    collectionId: n ? this.collectionIds.subCategory : this.collectionIds.mainCategory
                });
                return 0 === r.list.length ? null : (this.setProducts(this.products.concat([...r.list])), this.sendTrackEvent(e), this.products)
            }
            async loadProducts(t) {
                let {
                    from: e,
                    to: n,
                    shouldSpecificCollectionQuery: r
                } = t;
                const i = await this.dataApi.getProducts({
                    fromIndex: e,
                    toIndex: n,
                    withOptions: this.withOptions,
                    withPriceRange: this.withPriceRange,
                    sorting: this.sorting,
                    filters: r ? null : this.filters,
                    collectionId: r ? this.collectionIds.subCategory : this.collectionIds.mainCategory
                });
                return this.setProducts([...i.list]), this.totalCount = i.totalCount, this.products
            }
            async sortProducts(t, e) {
                return await this.getProducts({
                    filters: this.filters,
                    collectionIds: this.collectionIds,
                    sorting: t,
                    shouldSpecificCollectionQuery: e
                }), this.products
            }
            async filterProducts(t) {
                let {
                    filters: e,
                    collectionIds: n,
                    shouldSpecificCollectionQuery: r,
                    limit: i
                } = t;
                return this.setProducts(await this.getProducts({
                    filters: e,
                    collectionIds: n,
                    sorting: this.sorting,
                    shouldSpecificCollectionQuery: r,
                    limit: i
                })), this.products
            }
            getMainCollectionId() {
                return this.collectionIds.mainCategory
            }
            storeNavigation(t) {
                const e = {
                    pageId: t,
                    paginationMap: this.products.filter((t => !0 !== t.isFake)).map((t => ({
                        slug: t.urlPart,
                        id: t.id
                    }))),
                    pagePath: this.siteStore.location.path
                };
                this.siteStore.storage.local.setItem("wixstores-pagination-map", JSON.stringify(e))
            }
            quickViewProduct(t, e, n) {
                const r = this.getProduct(t);
                return this.siteStore.webBiLogger.report(function(t) {
                    return {
                        evid: 12,
                        src: 10,
                        endpoint: "ec-sf",
                        params: t
                    }
                }({
                    productId: t,
                    hasRibbon: !!r.ribbon,
                    hasOptions: this.hasOptions(r),
                    index: e,
                    galleryProductsLogic: n.galleryProductsLogic,
                    galleryType: n.galleryType,
                    rank: e,
                    galleryInputId: n.galleryInputId,
                    impressionId: n.impressionId
                })), this.sendClickTrackEvent(r, e), this.quickViewActions.quickViewProduct({
                    origin: this.consumerName.split(" ").join("-"),
                    urlPart: r.urlPart,
                    compId: n.compId,
                    externalId: n.externalId,
                    selectionIds: n.selectionIds,
                    quantity: n.quantity,
                    title: r.name
                })
            }
            sendClickTrackEvent(t, e) {
                this.siteStore.windowApis.trackEvent("ClickProduct", {
                    appDefId: f,
                    id: t.id,
                    origin: "Stores",
                    name: t.name,
                    list: "Grid Gallery",
                    category: bt,
                    position: e,
                    price: t.comparePrice || t.price,
                    currency: this.siteStore.currency,
                    type: t.productType,
                    sku: t.sku
                })
            }
            getAddToCartActionBi(t, e) {
                return e || t !== i.TINY_CART ? e || t !== i.MINI_CART ? t === i.CART || e && t !== i.NONE ? "cart" : "none" : "mini-cart" : "tiny-cart"
            }
            async addToCart(t) {
                let {
                    productId: e,
                    index: n,
                    quantity: r,
                    compId: i,
                    externalId: o,
                    addToCartAction: a,
                    impressionId: s,
                    galleryProductsLogic: l,
                    rank: u,
                    galleryInputId: d
                } = t;
                const p = this.getProduct(e),
                    g = this.getTrackEventParams(p),
                    f = this.productsOptionsService.getVariantSelectionIds(e);
                if (!this.productsOptionsService.canAddToCart(e) || this.hasSubscriptionPlans(p)) return this.siteStore.webBiLogger.report({
                    evid: 248,
                    src: 10,
                    endpoint: "ec-sf",
                    params: {
                        appName: "galleryApp",
                        origin: It,
                        hasOptions: !0,
                        productId: e,
                        productType: p.productType,
                        navigationClick: this.siteStore.isMobile() ? "product-page" : "quick-view",
                        impressionId: s,
                        galleryProductsLogic: l,
                        rank: u,
                        galleryInputId: d
                    }
                }), this.quickViewProduct(e, n, {
                    compId: i,
                    externalId: o,
                    selectionIds: f,
                    quantity: r
                });
                const h = this.calculateVariantOptions(f, p),
                    y = this.cartActions.shouldNavigateToCart(),
                    m = Je({
                        product: p,
                        variantSelectionIds: f
                    });
                this.siteStore.windowApis.trackEvent(Rt.ViewContent, g), this.fedopsLogger.interactionStarted(Dt.AddToCart), this.panoramaClient.transaction(Dt.AddToCart).start();
                const v = Ge(p, m);
                return this.cartActions.addToCart({
                    addToCartAction: a,
                    onSuccess: () => {
                        this.fedopsLogger.interactionEnded(Dt.AddToCart), this.panoramaClient.transaction(Dt.AddToCart).finish()
                    },
                    optionsSelectionsByNames: h,
                    optionsSelectionsIds: f,
                    productId: e,
                    quantity: r,
                    variantId: null == m ? void 0 : m.id,
                    preOrderRequested: v
                }, { ...g,
                    buttonType: v ? c.PreOrder : c.AddToCart,
                    appName: "galleryApp",
                    productType: p.productType,
                    isNavigateCart: y,
                    navigationClick: this.getAddToCartActionBi(a, y),
                    impressionId: s,
                    galleryProductsLogic: l,
                    rank: u,
                    galleryInputId: d
                })
            }
            getTrackEventParams(t) {
                const e = Je({
                    product: t,
                    variantSelectionIds: this.productsOptionsService.getVariantSelectionIds(t.id)
                });
                return { ...xt,
                    id: t.id,
                    name: t.name,
                    price: qe(t, e),
                    currency: this.siteStore.currency,
                    sku: We(t, e),
                    type: t.productType
                }
            }
            clearSelections() {
                this.productsOptionsService.clearSelections(), this.priceRangeService.clearSelections()
            }
            getVariantInfoMap() {
                return this.productsOptionsService.getVariantInfoMap()
            }
            get productPriceRangeMap() {
                return this.withPriceRange ? this.priceRangeService.getProductPriceRangeMap() : {}
            }
            async getCategoryInitialData(t) {
                var e;
                const n = await this.dataApi.getCategoryInitialData({
                    externalId: t
                });
                return this.allProductsCategoryId = (null == n || null == (e = n.data) || null == (e = e.catalog) ? void 0 : e.allProductsCategoryId) || St, n
            }
        }! function(t) {
            t.DISABLED = "DISABLED", t.ENABLED = "ENABLED", t.OUT_OF_STOCK = "OUT_OF_STOCK", t.PRE_ORDER = "PRE_ORDER"
        }(On || (On = {}));
        var Bn, Gn, jn = "ALLOW_FREE_PRODUCTS",
            qn = function() {
                function t(t, e) {
                    void 0 === e && (e = {});
                    var n = e.APP && !1 === e.APP[jn];
                    this.allowFreeProducts = !n
                }
                return t.prototype.getButtonState = function(t) {
                    var e = t.price,
                        n = t.inStock,
                        r = t.isPreOrderState;
                    return void 0 !== r && r ? On.PRE_ORDER : n ? 0 === e ? this.allowFreeProducts ? On.ENABLED : On.DISABLED : e < 0 ? On.DISABLED : On.ENABLED : On.OUT_OF_STOCK
                }, t
            }(),
            Wn = function() {
                function t(t) {
                    this.buildCustomizedUrl = t, this.beenInit = !1
                }
                return t.prototype.init = function() {
                    return (0, p.__awaiter)(this, void 0, void 0, (function() {
                        var t, e, n;
                        return (0, p.__generator)(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    this.beenInit = !0, r.label = 1;
                                case 1:
                                    return r.trys.push([1, 3, , 4]), [4, Promise.all([this.buildProductUrlTemplate(), this.buildProductUrlTemplate("/")])];
                                case 2:
                                    return t = p.__read.apply(void 0, [r.sent(), 2]), e = t[0], n = t[1], this.absoluteUrlWithStub = e, this.relativeUrlWithStub = n, [2, !!this.absoluteUrlWithStub && !!this.relativeUrlWithStub];
                                case 3:
                                    return r.sent(), [2, !1];
                                case 4:
                                    return [2]
                            }
                        }))
                    }))
                }, t.prototype.buildProductPageUrl = function(t) {
                    return this.getProductWithStub(this.absoluteUrlWithStub, t)
                }, t.prototype.buildProductPageRelativeUrl = function(t) {
                    return this.getProductWithStub(this.relativeUrlWithStub, t)
                }, t.prototype.buildProductUrlTemplate = function(t) {
                    var e = "product-page";
                    return this.buildCustomizedUrl(h.PRODUCT_PAGE, {
                        slug: "abc"
                    }, t ? {
                        pathPrefix: e,
                        baseUrl: t
                    } : {
                        pathPrefix: e
                    }).then((function(t) {
                        return null == t ? void 0 : t.replace(/abc/g, "{stub}")
                    }))
                }, t.prototype.getProductWithStub = function(t, e) {
                    if (!this.beenInit) throw new Error("init CustomUrlApi wasn`t called");
                    return t.replace(/{stub}/g, e.slug)
                }, t
            }();
        ! function(t) {
            t.P = "p", t.H1 = "h1", t.H2 = "h2", t.H3 = "h3", t.H4 = "h4", t.H5 = "h5", t.H6 = "h6"
        }(Bn || (Bn = {})),
        function(t) {
            t.Number = "Number", t.Boolean = "Boolean", t.Font = "Font", t.Color = "Color"
        }(Gn || (Gn = {}));
        var $n, Hn = function(t, e) {
            return t.localeCompare(e)
        };
        ! function(t) {
            t.Number = "Number", t.Boolean = "Boolean", t.String = "String", t.Text = "Text", t.Object = "Object"
        }($n || ($n = {}));
        var zn = function(t, e) {
                var n = e.isMobile,
                    r = e.language,
                    i = void 0 === r ? "en" : r;
                return "function" == typeof t.dangerousKeyTransformationOverride ? t.dangerousKeyTransformationOverride(t.key, {
                    isMobile: n,
                    language: i
                }) : function(t, e, n) {
                    if ("string" != typeof t) throw new Error("`generateKey` expects key to be passed and be a string");
                    if (!e) throw new Error("`generateKey` expects options to be passed");
                    return Object.keys(n).sort(Hn).reduce((function(t, r) {
                        var i = n[r] === e[r],
                            o = !e[r] && !n[r];
                        return i || o ? t : t + "\u25b6\ufe0e" + ("boolean" != typeof e[r] || n[r] ? r + ":" + e[r] : r)
                    }), t)
                }(t.key, {
                    m: n,
                    l: i
                }, {
                    m: !1,
                    l: "en"
                })
            },
            Qn = function(t) {
                return t.type === $n.Text
            },
            Kn = function(t, e) {
                return {
                    languageAndMobile: zn(t, {
                        isMobile: e.isMobile,
                        language: e.language
                    }),
                    language: zn(t, {
                        isMobile: !1,
                        language: e.language
                    }),
                    mobile: zn(t, {
                        isMobile: e.isMobile
                    }),
                    original: t.key
                }
            },
            Yn = function(t) {
                return void 0 === t.inheritDesktop || t.inheritDesktop
            };

        function Xn(t) {
            var e = t.storage,
                n = t.textPresets,
                r = t.colors,
                i = void 0 === r ? [] : r,
                o = t.isMobile,
                a = t.isRTL,
                s = t.isEditorX,
                l = t.dimensions,
                u = t.experiments,
                c = t.styleParamsPerBreakpointMode,
                d = function(t) {
                    return (e.numbers || {})[t]
                },
                g = function(t) {
                    return (e.booleans || {})[t]
                },
                f = function(t) {
                    return (e.fonts || {})[t]
                },
                h = function(t) {
                    return (e.colors || {})[t]
                };
            return function(t) {
                var r, y, m = (r = {}, r[Gn.Number] = d, r[Gn.Boolean] = g, r[Gn.Font] = f, r[Gn.Color] = h, r)[t.type],
                    v = t.key || t.name;
                if (c) y = m(v);
                else {
                    var S = zn((0, p.__assign)((0, p.__assign)({}, t), {
                        key: v
                    }), {
                        isMobile: o
                    });
                    y = m(S);
                    var b = Yn(t);
                    S !== v && b && void 0 === y && (y = m(v))
                }
                if (void 0 === y && t.getDefaultValue) {
                    var I = function(t) {
                        var e = t.styles,
                            n = t.textPresets,
                            r = t.colors,
                            i = t.isMobile,
                            o = t.isRTL,
                            a = t.isEditorX,
                            s = t.dimensions,
                            l = t.experiments,
                            u = t.styleParamsPerBreakpointMode;
                        return function(t) {
                            return t.getDefaultValue({
                                colors: r,
                                textPresets: n,
                                isMobile: i,
                                isRTL: o,
                                isEditorX: a,
                                dimensions: s,
                                experiments: l,
                                getStyleParamValue: function(t, c) {
                                    return void 0 === c && (c = {}), Xn((0, p.__assign)({
                                        storage: e,
                                        colors: r,
                                        textPresets: n,
                                        isMobile: i,
                                        isRTL: o,
                                        isEditorX: a,
                                        dimensions: s,
                                        experiments: l,
                                        styleParamsPerBreakpointMode: u
                                    }, c))(t)
                                }
                            })
                        }
                    }({
                        styles: e,
                        textPresets: n,
                        colors: i,
                        isMobile: o,
                        isRTL: a,
                        isEditorX: s,
                        dimensions: l,
                        experiments: u,
                        styleParamsPerBreakpointMode: c
                    });
                    return I(t)
                }
                return y
            }
        }

        function Jn(t, e) {
            if (void 0 === e && (e = {}), !e[t]) return null;
            var n = e[t];
            return {
                size: parseInt(n.size, 10),
                family: n.fontFamily,
                preset: t,
                style: {
                    bold: "bold" === n.weight,
                    italic: "italic" === n.style,
                    underline: !1
                },
                fontStyleParam: !1
            }
        }
        var Zn = function(t, e) {
                return void 0 === e && (e = {}),
                    function(n) {
                        var r = n.textPresets;
                        return (0, p.__assign)((0, p.__assign)({}, function(t) {
                            return Jn(t.name, t.textPresets)
                        }({
                            name: t,
                            textPresets: r
                        })), e)
                    }
            },
            tr = n(3203),
            er = n.n(tr);
        const nr = function(t, e) {
            var n, r, i;
            if (t) {
                var o = er().get(t);
                if (null === o) throw new Error("Unable to parse color from string: " + t);
                r = o.value.slice(0, 3), i = null !== (n = o.value[3]) && void 0 !== n ? n : 1
            } else r = [0, 0, 0], i = 1;
            return {
                rgb: function() {
                    var t;
                    return (t = er().to).rgb.apply(t, (0, p.__spreadArray)((0, p.__spreadArray)([], r, !1), [null != e ? e : i], !1))
                },
                hex: function() {
                    return t = r, e = (((255 & Math.round(t[0])) << 16) + ((255 & Math.round(t[1])) << 8) + (255 & Math.round(t[2]))).toString(16).toUpperCase(), "000000".substring(e.length) + e;
                    var t, e
                },
                opacity: function() {
                    return null != e ? e : i
                }
            }
        };

        function rr(t, e, n) {
            var r = Object.keys(t.fonts || []).reduce((function(e, r) {
                    var i, o, a = t.fonts[r];
                    return (0, p.__assign)((0, p.__assign)({}, e), {
                        fonts: (0, p.__assign)((0, p.__assign)({}, e.fonts), (i = {}, i[r] = "Custom" !== a.preset && null !== (o = Jn(t.fonts[r].preset, n)) && void 0 !== o ? o : a, i))
                    })
                }), {
                    fonts: {}
                }).fonts,
                i = Object.keys(t.colors || []).reduce((function(n, r) {
                    var i;
                    try {
                        var o = function(t, e) {
                            var n;
                            if (!t.value) return null;
                            if (t.themeName) {
                                var r = e.find((function(e) {
                                        return e.reference === t.themeName || e.name === t.themeName
                                    })),
                                    i = nr(t.value || r.value);
                                if (r) return {
                                    value: i.rgb(),
                                    name: r.name,
                                    opacity: i.opacity()
                                }
                            }
                            var o = nr(t.value);
                            return {
                                value: o.rgb(),
                                name: null !== (n = t.themeName) && void 0 !== n ? n : null,
                                opacity: o.opacity()
                            }
                        }(t.colors[r], e);
                        return (0, p.__assign)((0, p.__assign)({}, n), {
                            colors: (0, p.__assign)((0, p.__assign)({}, n.colors), (i = {}, i[r] = o, i))
                        })
                    } catch (t) {
                        return (0, p.__assign)((0, p.__assign)({}, n), {
                            errors: n.errors.concat(r)
                        })
                    }
                }), {
                    colors: {},
                    errors: []
                }),
                o = i.colors;
            i.errors;
            return (0, p.__assign)((0, p.__assign)({}, t), {
                fonts: r,
                colors: o
            })
        }

        function ir(t, e, n) {
            void 0 === n && (n = {});
            var r = {};
            return Object.keys(e).forEach((function(i) {
                var o = e[i];
                r[o.key] = Xn((0, p.__assign)({
                    storage: rr(t, n.colors || [], n.textPresets || {})
                }, n))(o)
            })), r
        }
        class or {
            constructor(t, e, n, r) {
                this.siteStore = e, this.updateComponent = n, this.type = r, Z()(this, "config", void 0), Z()(this, "publicData", void 0), Z()(this, "productPriceBreakdown", void 0), Z()(this, "productsManifest", {}), Z()(this, "productsService", void 0), Z()(this, "addToCartService", void 0), Z()(this, "styles", void 0), Z()(this, "allStyles", void 0), this.config = t, this.publicData = R().cloneDeep(this.config.publicData), this.updateStyles(), null !== this.config.publicData.COMPONENT && void 0 !== this.config.publicData.COMPONENT || (this.config.publicData.COMPONENT = {})
            }
            updateStyles() {
                const {
                    style: {
                        styleParams: t
                    },
                    allStyles: e
                } = this.config;
                (t => {
                    null != t && t.numbers && Object.keys(null == t ? void 0 : t.numbers).length && ["galleryColumns", "galleryRows", "galleryMargin", "galleryMarginColumn", "galleryMarginRow", "gallery_gapSize", "gallery_gapSizeColumn", "gallery_gapSizeRow", "gallery_imageWidth", "gallery_imageAndInfoSpacing"].forEach((e => {
                        var n;
                        void 0 !== (null == (n = t.numbers) ? void 0 : n[e]) && (t.numbers[e] = Math.round(t.numbers[e]))
                    }))
                })(t), this.styles = ir(t, this.stylesParams), this.allStyles = e.map((t => ir(t, this.stylesParams)))
            }
            isTrueInAnyBreakpoint(t) {
                return this.allStyles.some((e => !0 === e[t.key]))
            }
            getCommonPropsToInject() {
                return {
                    htmlTags: this.htmlTags,
                    priceBreakdown: this.priceBreakdown,
                    sendClickShippingInfoLinkSf: this.sendClickShippingInfoLinkSf.bind(this),
                    imageMode: this.imageMode,
                    imageRatio: this.imageRatio,
                    isSEO: this.siteStore.seo.isInSEO()
                }
            }
            sendClickShippingInfoLinkSf(t) {
                this.siteStore.webBiLogger.report({
                    evid: 597,
                    src: 10,
                    endpoint: "ec-sf",
                    params: {
                        productId: t
                    }
                })
            }
            getCommonPropsToUpdate() {
                return {
                    htmlTags: this.htmlTags,
                    productsVariantInfoMap: this.productsVariantInfoMap,
                    imageMode: this.imageMode,
                    imageRatio: this.imageRatio
                }
            }
            get priceBreakdown() {
                return {
                    shouldRenderTaxDisclaimer: this.productPriceBreakdown.shouldShowTaxDisclaimer,
                    shippingDisclaimer: this.productPriceBreakdown.shippingDisclaimer,
                    taxDisclaimer: this.productPriceBreakdown.taxDisclaimer
                }
            }
            get imageMode() {
                return this.styles.gallery_imageMode
            }
            get imageRatio() {
                return this.styles.galleryImageRatio
            }
            get htmlTags() {
                return {
                    productNameHtmlTag: this.publicData.COMPONENT.gallery_productNameHtmlTag || Bn.H3,
                    headerTextHtmlTag: this.publicData.COMPONENT.gallery_headerTextHtmlTag || Bn.H2
                }
            }
            handleOptionSelectionsChange(t) {
                this.getIsOptionsRevealEnabled() && this.productsService.clearSelections(), this.productsService.handleProductsOptionsChange(t);
                const {
                    product: e,
                    variant: n
                } = this.productsService.getProductAndVariantById(t.productId);
                this.productsManifest[e.id].addToCartState = this.addToCartService.getButtonState({
                    price: qe(e),
                    inStock: e.isInStock,
                    isPreOrderState: Ge(e, n)
                }), this.updateComponent({
                    productsManifest: this.productsManifest,
                    productsVariantInfoMap: this.productsVariantInfoMap,
                    productsPriceRangeMap: this.productsService.productPriceRangeMap
                }), this.sendClickOnProductOptionBiEvent(t)
            }
            getIsOptionsRevealEnabled() {
                const t = this.styles.gallery_productOptionsShowOptions;
                return !this.siteStore.isMobile() && t === nt.REVEAL && this.siteStore.experiments.enabled(Et.GalleryProductOptionsVisibilitySettings)
            }
            sendClickOnProductOptionBiEvent(t) {
                const {
                    productId: e,
                    optionType: n
                } = t, r = {
                    [ve.DROP_DOWN]: ze.LIST,
                    [ve.COLOR]: ze.COLOR
                }[n], {
                    productType: i
                } = this.productsService.getProduct(e);
                this.siteStore.webBiLogger.report(function(t) {
                    return {
                        evid: 486,
                        src: 10,
                        endpoint: "ec-sf",
                        params: t
                    }
                }({
                    action: Qe.CHECKED,
                    appName: "galleryApp",
                    optiontype: r,
                    productId: e,
                    productType: i,
                    origin: It,
                    viewMode: this.siteStore.biStorefrontViewMode
                }))
            }
            get productsVariantInfoMap() {
                return this.shouldShowProductOptions ? this.productsService.getVariantInfoMap() : {}
            }
        }
        var ar = function() {
            function t(t) {
                this.siteStore = t
            }
            return t.prototype.shouldShowPriceRange = function() {
                return Boolean(this.siteStore.priceSettings.showPriceRange)
            }, t
        }();
        const sr = {
            [Se.mg]: {
                abbr: "gallery.units.mg.label",
                singular: "gallery.sr.units.milligram.label",
                plural: "gallery.sr.units.milligrams.label"
            },
            [Se.g]: {
                abbr: "gallery.units.g.label",
                singular: "gallery.sr.units.gram.label",
                plural: "gallery.sr.units.grams.label"
            },
            [Se.kg]: {
                abbr: "gallery.units.kg.label",
                singular: "gallery.sr.units.kilogram.label",
                plural: "gallery.sr.units.kilograms.label"
            },
            [Se.ml]: {
                abbr: "gallery.units.ml.label",
                singular: "gallery.sr.units.milliliter.label",
                plural: "gallery.sr.units.milliliters.label"
            },
            [Se.cl]: {
                abbr: "gallery.units.cl.label",
                singular: "gallery.sr.units.centiliter.label",
                plural: "gallery.sr.units.centiliters.label"
            },
            [Se.l]: {
                abbr: "gallery.units.l.label",
                singular: "gallery.sr.units.liter.label",
                plural: "gallery.sr.units.liters.label"
            },
            [Se.cbm]: {
                abbr: "gallery.units.cbm.label",
                singular: "gallery.sr.units.cubicMeter.label",
                plural: "gallery.sr.units.cubicMeters.label"
            },
            [Se.mm]: {
                abbr: "gallery.units.mm.label",
                singular: "gallery.sr.units.millimeter.label",
                plural: "gallery.sr.units.millimeters.label"
            },
            [Se.cm]: {
                abbr: "gallery.units.cm.label",
                singular: "gallery.sr.units.centimeter.label",
                plural: "gallery.sr.units.centimeters.label"
            },
            [Se.m]: {
                abbr: "gallery.units.m.label",
                singular: "gallery.sr.units.meters.label",
                plural: "gallery.sr.units.meters.label"
            },
            [Se.sqm]: {
                abbr: "gallery.units.sqm.label",
                singular: "gallery.sr.units.squareMeter.label",
                plural: "gallery.sr.units.squareMeters.label"
            },
            [Se.oz]: {
                abbr: "gallery.units.oz.label",
                singular: "gallery.sr.units.ounce.label",
                plural: "gallery.sr.units.ounces.label"
            },
            [Se.lb]: {
                abbr: "gallery.units.lb.label",
                singular: "gallery.sr.units.pound.label",
                plural: "gallery.sr.units.pounds.label"
            },
            [Se.floz]: {
                abbr: "gallery.units.flOz.label",
                singular: "gallery.sr.units.fluidOunce.label",
                plural: "gallery.sr.units.fluidOunces.label"
            },
            [Se.pt]: {
                abbr: "gallery.units.pt.label",
                singular: "gallery.sr.units.pint.label",
                plural: "gallery.sr.units.pints.label"
            },
            [Se.qt]: {
                abbr: "gallery.units.qt.label",
                singular: "gallery.sr.units.quart.label",
                plural: "gallery.sr.units.quarts.label"
            },
            [Se.gal]: {
                abbr: "gallery.units.gal.label",
                singular: "gallery.sr.units.gallon.label",
                plural: "gallery.sr.units.gallons.label"
            },
            [Se.in]: {
                abbr: "gallery.units.in.label",
                singular: "gallery.sr.units.inch.label",
                plural: "gallery.sr.units.inches.label"
            },
            [Se.ft]: {
                abbr: "gallery.units.ft.label",
                singular: "gallery.sr.units.foot.label",
                plural: "gallery.sr.units.feet.label"
            },
            [Se.yd]: {
                abbr: "gallery.units.yd.label",
                singular: "gallery.sr.units.yard.label",
                plural: "gallery.sr.units.yards.label"
            },
            [Se.sqft]: {
                abbr: "gallery.units.sqf.label",
                singular: "gallery.sr.units.squareFoot.label",
                plural: "gallery.sr.units.squareFeet.label"
            }
        };

        function lr(t, e) {
            return t.replace(/\{\{([^}]+)\}\}/gi, (function(t, n) {
                return e[n.trim()] || ""
            }))
        }
        var ur = function() {
            function t(t, e, n) {
                this.siteStore = t, this.translationsMap = e, this.taxDisclaimerKeys = n
            }
            return Object.defineProperty(t.prototype, "taxDisclaimer", {
                get: function() {
                    if (this.siteStore.taxName) return this.siteStore.priceSettings.taxOnProduct ? lr(this.translationsMap[this.taxDisclaimerKeys.includedPattern], {
                        taxOrVAT: this.siteStore.taxName,
                        included: this.translationsMap[this.taxDisclaimerKeys.includedKey]
                    }) : lr(this.translationsMap[this.taxDisclaimerKeys.excludedPattern], {
                        taxOrVAT: this.siteStore.taxName,
                        excluding: this.translationsMap[this.taxDisclaimerKeys.excludedKey]
                    })
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "shouldShowTaxDisclaimer", {
                get: function() {
                    return this.siteStore.priceSettings.showTaxDisclaimer && !!this.siteStore.taxName
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "shippingDisclaimer", {
                get: function() {
                    return this.siteStore.priceSettings.shippingDisclaimer
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "priceBreakdownBIParam", {
                get: function() {
                    var t, e = null === (t = this.siteStore.priceSettings.shippingDisclaimer) || void 0 === t ? void 0 : t.show,
                        n = this.shouldShowTaxDisclaimer;
                    if (n || e) {
                        var r = [];
                        return n && r.push("tax"), e && r.push("shipping"), r.join(", ")
                    }
                },
                enumerable: !1,
                configurable: !0
            }), t
        }();
        var cr = function(t, e) {
            return (0, p.__assign)({
                key: t
            }, e)
        };
        var dr = function(t, e) {
            return function(n) {
                var r = n.colors;
                return function(t) {
                    var e = t.colors,
                        n = t.reference,
                        r = t.opacity,
                        i = void 0 === r ? 1 : r,
                        o = e.find((function(t) {
                            return t.reference === n
                        })) || null;
                    return {
                        opacity: i,
                        value: nr(null == o ? void 0 : o.value, i).rgb(),
                        name: null == o ? void 0 : o.name
                    }
                }({
                    reference: t,
                    opacity: e,
                    colors: r
                })
            }
        };
        let pr = function(t) {
            return t[t.LIVE_SITE = 0] = "LIVE_SITE", t[t.EDITOR_EMPTY_STATE = 1] = "EDITOR_EMPTY_STATE", t[t.EDITOR_DEMO_STATE = 2] = "EDITOR_DEMO_STATE", t
        }({});
        const gr = cr("responsive", {
                type: Gn.Boolean,
                getDefaultValue: t => {
                    let {
                        isEditorX: e
                    } = t;
                    return e
                }
            }),
            fr = cr("showAlternativeImage", {
                type: Gn.Boolean,
                getDefaultValue: () => !0
            }),
            hr = cr("gallery_showProductOptionsButton", {
                type: Gn.Boolean,
                getDefaultValue: () => !1
            }),
            yr = t => {
                let {
                    dimensions: e
                } = t;
                if (!e) return;
                if ("number" != typeof e.width) return 4;
                const n = e.width,
                    r = Math.round(n / 250);
                return Math.min(r, 4)
            },
            mr = cr("galleryColumns", {
                type: Gn.Number,
                getDefaultValue: yr
            }),
            vr = cr("galleryMargin", {
                type: Gn.Number,
                getDefaultValue: () => 10
            }),
            Sr = cr("gallery_productMargin", {
                type: Gn.Number,
                getDefaultValue: () => 0
            }),
            br = cr("gallery_gapSize", {
                type: Gn.Number,
                getDefaultValue: () => 20
            }),
            Ir = cr("gallery_fixedGridProductsCount", {
                type: Gn.Number,
                getDefaultValue: () => 20
            }),
            Pr = cr("gallery_imageMode", {
                type: Gn.Number,
                getDefaultValue: () => pt.Crop
            }),
            Cr = cr("galleryImageRatio", {
                type: Gn.Number,
                getDefaultValue: () => vt._1x1
            }),
            _r = cr("gallery_imageWidth", {
                type: Gn.Number,
                getDefaultValue: () => 50
            }),
            Tr = cr("gallery_imageAndInfoSpacing", {
                type: Gn.Number,
                getDefaultValue: () => 0
            }),
            wr = cr("gallery_alternateImagePosition", {
                type: Gn.Boolean,
                getDefaultValue: () => !1
            }),
            Or = cr("gallery_showAddToCartQuantity", {
                type: Gn.Boolean,
                getDefaultValue: () => !1
            }),
            Ar = cr("gallery_showAddToCartButton", {
                type: Gn.Boolean,
                getDefaultValue: () => !1
            }),
            Er = cr("gallery_titleFontStyle", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 16
                })
            }),
            Dr = cr("gallery_priceFontStyle", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 16
                })
            }),
            Rr = cr("gallery_discountNameFont", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 14
                })
            }),
            Nr = cr("gallery_addToCartButtonTextFont", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 15
                })
            }),
            xr = cr("gallery_ribbonTextFont", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 14
                })
            }),
            Mr = cr("gallery_hoverType", {
                type: Gn.Font,
                getDefaultValue: t => {
                    let {
                        getStyleParamValue: e
                    } = t;
                    return {
                        fontStyleParam: !1,
                        value: e(fr) ? ht.Alternate : ht.None
                    }
                }
            }),
            Lr = cr("gallery_categoryHeaderLayout", {
                type: Gn.Number,
                getDefaultValue: () => Gt.TextBelow
            }),
            Fr = cr("gallery_imagePosition", {
                type: Gn.Font,
                getDefaultValue: () => ({
                    fontStyleParam: !1,
                    value: mt.LEFT
                })
            }),
            Ur = cr("gallery_imagePlacement", {
                type: Gn.Font,
                getDefaultValue: () => ({
                    fontStyleParam: !1,
                    value: lt.VERTICAL
                })
            }),
            kr = cr("gallery_categoriesBreadcrumbsFont", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 16
                })
            }),
            Vr = cr("gallery_categoryNameFont", {
                type: Gn.Font,
                getDefaultValue: Zn("Heading-M", {
                    size: 28
                })
            }),
            Br = cr("gallery_categoryDescriptionFont", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 16
                })
            }),
            Gr = cr("gallery_categoryDescriptionReadMoreLinkFont", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 16
                })
            }),
            jr = cr("gallery_filterOptionsFont", {
                type: Gn.Font,
                getDefaultValue: Zn("Body-M", {
                    size: 14
                })
            }),
            qr = {
                gallery_addToCartButtonTextFont: Nr,
                gallery_ribbonTextFont: xr,
                gallery_priceFontStyle: Dr,
                full_width: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !1
                },
                showAlternativeImage: fr,
                galleryFiltersCategories: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                galleryFiltersPrice: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                galleryFiltersProductOptions: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                galleryShowFilters: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !1
                },
                galleryShowSort: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !1
                },
                gallerySortNameAsc: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallerySortNameDes: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallerySortNewest: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallerySortPriceAsc: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallerySortPriceDes: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallerySortRecommended: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showAddToCartButton: Ar,
                "mobile:gallery_showAddToCartButton": {
                    type: Gn.Boolean,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(Ar)
                    }
                },
                gallery_addToCartButtonShowOnHover: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !1
                },
                gallery_alternateImagePosition: wr,
                "mobile:gallery_alternateImagePosition": {
                    type: Gn.Boolean,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(wr)
                    }
                },
                gallery_showAddToCartQuantity: Or,
                "mobile:gallery_showQuantity": {
                    type: Gn.Boolean,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(Or)
                    }
                },
                gallery_showDividers: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !1
                },
                gallery_showPrice: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showDiscountName: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showRibbon: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_ribbonSidePadding: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_ribbonTopPadding: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_ribbonCornerRadius: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_ribbonBorderWidth: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_showProductName: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showTitle: {
                    type: Gn.Boolean,
                    getDefaultValue: () => {}
                },
                gallery_showCategoryHeaderSection: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showCategoryHeaderImage: {
                    type: Gn.Boolean,
                    getDefaultValue: t => {
                        let {
                            isMobile: e
                        } = t;
                        return !e
                    }
                },
                gallery_showCategoryHeaderReadMoreLink: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showCategoryHeaderName: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showCategoryHeaderDescription: {
                    type: Gn.Boolean,
                    getDefaultValue: t => {
                        let {
                            isMobile: e
                        } = t;
                        return !e
                    }
                },
                gallery_paginationFirstLastArrows: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !1
                },
                gallery_showProductOptionsButton: hr,
                "mobile:gallery_showProductOptions": {
                    type: Gn.Boolean,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(hr)
                    }
                },
                showQuickView: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                responsive: gr,
                galleryColumns: mr,
                galleryRows: {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        const n = e(mr);
                        if (!n) return;
                        return Math.min(Math.floor(20 / n), 6)
                    }
                },
                galleryMargin: vr,
                galleryMarginRow: {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(vr)
                    }
                },
                galleryMarginColumn: {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(vr)
                    }
                },
                "mobile:galleryMarginRow": {
                    type: Gn.Number,
                    getDefaultValue: () => 20
                },
                "mobile:galleryMarginColumn": {
                    type: Gn.Number,
                    getDefaultValue: () => 20
                },
                gallery_productMargin: Sr,
                "mobile:gallery_productMargin": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e;
                        let {
                            getStyleParamValue: n
                        } = t;
                        return null != (e = n(Sr)) ? e : 0
                    }
                },
                gallery_imageMode: Pr,
                "mobile:gallery_imageMode": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(Pr)
                    }
                },
                gallery_ribbonPlacement: {
                    type: Gn.Number,
                    getDefaultValue: () => gt.OnImage
                },
                gallery_ribbonType: {
                    type: Gn.Number,
                    getDefaultValue: () => ft.RECTANGLE
                },
                galleryImageRatio: Cr,
                "mobile:galleryImageRatio": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(Cr)
                    }
                },
                "mobile:galleryMargin": {
                    type: Gn.Number,
                    getDefaultValue: () => 10
                },
                "mobile:galleryColumns": {
                    type: Gn.Number,
                    getDefaultValue: () => 1
                },
                gallery_addToCartAction: {
                    type: Gn.Number,
                    getDefaultValue: () => i.MINI_CART
                },
                gallery_productSize: {
                    type: Gn.Number,
                    getDefaultValue: () => 240
                },
                gallery_productsCount: {
                    type: Gn.Number,
                    getDefaultValue: () => 24
                },
                gallery_fixedGridProductsCount: Ir,
                gallery_gapSize: br,
                gallery_gapSizeColumn: {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(br)
                    }
                },
                gallery_gapSizeRow: {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(br)
                    }
                },
                gallery_gridType: {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(gr) ? ut.AUTO : ut.MANUAL
                    }
                },
                gallery_loadMoreProductsType: {
                    type: Gn.Number,
                    getDefaultValue: () => rt.BUTTON
                },
                gallery_paginationFormat: {
                    type: Gn.Number,
                    getDefaultValue: () => ct.PAGES
                },
                "mobile:gallery_productNameFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(Er)) ? void 0 : n.size) ? e : 16
                    }
                },
                "mobile:gallery_productPriceFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(Dr)) ? void 0 : n.size) ? e : 16
                    }
                },
                "mobile:gallery_discountNameFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(Rr)) ? void 0 : n.size) ? e : 14
                    }
                },
                "mobile:gallery_buttonTextFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(Nr)) ? void 0 : n.size) ? e : 15
                    }
                },
                "mobile:gallery_ribbonTextFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(xr)) ? void 0 : n.size) ? e : 14
                    }
                },
                gallery_imageWidth: _r,
                "mobile:gallery_imageWidth": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(_r)
                    }
                },
                gallery_imageAndInfoSpacing: Tr,
                "mobile:gallery_imageAndInfoSpacing": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(Tr)
                    }
                },
                gallery_productOptionsShowOptions: {
                    type: Gn.Number
                },
                gallery_itemLinkVerticalCustomizePadding: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_itemLinkHorizontalCustomizePadding: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                "mobile:gallery_itemLinkVerticalCustomizePadding": {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                "mobile:gallery_itemLinkHorizontalCustomizePadding": {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_categoryHeaderSpaceBetweenTitleDescription: {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        let {
                            isMobile: e
                        } = t;
                        return e ? 0 : 4
                    }
                },
                gallery_categoryHeaderImageCornerRadius: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_categoryDescriptionContainerCornerRadius: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_categoryHeaderPosition: {
                    type: Gn.Number,
                    getDefaultValue: () => Bt.MinimizedAboveGallery
                },
                gallery_categoryHeaderLayout: Lr,
                gallery_categoryHeaderImageMinHeight: {
                    type: Gn.Number,
                    inheritDesktop: !1,
                    getDefaultValue: t => {
                        let {
                            isMobile: e,
                            getStyleParamValue: n
                        } = t;
                        return e ? n(Lr) === Gt.TextInside ? 304 : 140 : 280
                    }
                },
                gallery_categoryDescriptionContainerBorderWidth: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_hoverType: Mr,
                "mobile:gallery_imageEffect": {
                    type: Gn.Font,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(Mr)
                    }
                },
                gallery_imageCarouselArrowSize: {
                    type: Gn.Font,
                    getDefaultValue: () => ({
                        fontStyleParam: !1,
                        value: yt.SMALL
                    })
                },
                gallery_paginationAlignment: {
                    type: Gn.Font,
                    getDefaultValue: () => ({
                        fontStyleParam: !1,
                        value: ot.CENTER
                    })
                },
                gallery_verticalAlignment: {
                    type: Gn.Font,
                    getDefaultValue: () => ({
                        fontStyleParam: !1,
                        value: it.CENTER
                    })
                },
                gallery_imagePlacement: Ur,
                "mobile:gallery_imagePlacement": {
                    type: Gn.Font,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(Ur)
                    }
                },
                gallery_imagePosition: Fr,
                "mobile:gallery_imagePosition": {
                    type: Gn.Font,
                    getDefaultValue: t => {
                        let {
                            getStyleParamValue: e
                        } = t;
                        return e(Fr)
                    }
                },
                gallery_autoGridTemplateRepeatOption: {
                    type: Gn.Font,
                    getDefaultValue: () => ({
                        fontStyleParam: !1,
                        value: kt.AUTO_FIT
                    })
                },
                gallery_alignment: {
                    type: Gn.Font,
                    getDefaultValue: () => ({
                        fontStyleParam: !1,
                        value: at.LEFT
                    })
                },
                gallery_categoryInfoAlignment: {
                    type: Gn.Font,
                    getDefaultValue: t => {
                        let {
                            isRTL: e
                        } = t;
                        return {
                            fontStyleParam: !1,
                            value: e ? at.RIGHT : at.LEFT
                        }
                    }
                },
                gallery_categoryInfoVerticalAlignment: {
                    type: Gn.Font,
                    getDefaultValue: () => ({
                        fontStyleParam: !1,
                        value: it.BOTTOM
                    })
                },
                gallery_categoriesBreadcrumbsAlignment: {
                    type: Gn.Font,
                    getDefaultValue: t => {
                        let {
                            isRTL: e
                        } = t;
                        return {
                            fontStyleParam: !1,
                            value: e ? at.RIGHT : at.LEFT
                        }
                    }
                },
                gallery_categoriesBreadcrumbsFont: kr,
                gallery_showCategoriesBreadcrumbs: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showCategoriesProductsCounter: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showAppliedFilters: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_appliedFiltersTextFont: {
                    type: Gn.Font,
                    getDefaultValue: t => {
                        let {
                            isMobile: e
                        } = t;
                        return Zn("Body-M", {
                            size: e ? 12 : 14
                        })
                    }
                },
                gallery_addToCartButtonWidth: {
                    type: Gn.Font,
                    getDefaultValue: () => ({
                        fontStyleParam: !1,
                        value: st.STRETCH
                    })
                },
                gallery_categoryProductCounterFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 14
                    })
                },
                gallery_categoryNameFont: Vr,
                gallery_categoryDescriptionFont: Br,
                gallery_categoryDescriptionReadMoreLinkFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 16
                    })
                },
                gallery_categoryProductCounterColor: {
                    type: Gn.Color
                },
                gallery_categoriesBreadcrumbsColor: {
                    type: Gn.Color
                },
                gallery_categoryNameColor: {
                    type: Gn.Color
                },
                gallery_categoryDescriptionColor: {
                    type: Gn.Color
                },
                gallery_categoryDescriptionReadMoreLinkColor: {
                    type: Gn.Color
                },
                gallery_categoryDescriptionContainerColor: {
                    type: Gn.Color,
                    getDefaultValue: dr("color-1")
                },
                gallery_categoryDescriptionContainerBorderColor: {
                    type: Gn.Color,
                    getDefaultValue: dr("color-5")
                },
                "mobile:gallery_categoriesBreadcrumbsFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(kr)) ? void 0 : n.size) ? e : 16
                    }
                },
                "mobile:gallery_categoryDescriptionFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(Br)) ? void 0 : n.size) ? e : 16
                    }
                },
                "mobile:gallery_categoryReadMoreFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(Gr)) ? void 0 : n.size) ? e : 16
                    }
                },
                "mobile:gallery_categoryFilterAndSortButtonFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(jr)) ? void 0 : n.size) ? e : 16
                    }
                },
                "mobile:gallery_categoryTitleFontSize": {
                    type: Gn.Number,
                    getDefaultValue: t => {
                        var e, n;
                        let {
                            getStyleParamValue: r
                        } = t;
                        return null != (e = null == (n = r(Vr)) ? void 0 : n.size) ? e : 28
                    }
                },
                gallery_categoryTreeTitleFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Heading-M", {
                        size: 20
                    })
                },
                gallery_categoryTreeTitleColor: {
                    type: Gn.Color
                },
                gallery_categoryAndFilterNamesFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 16
                    })
                },
                gallery_categoryAndFilterNamesColor: {
                    type: Gn.Color
                },
                gallery_filterOptionsFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 14
                    })
                },
                gallery_filterOptionsColor: {
                    type: Gn.Color
                },
                gallery_selectedCategoryFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 16,
                        style: {
                            bold: !1,
                            italic: !1,
                            underline: !0
                        }
                    })
                },
                gallery_selectedCategoryColor: {
                    type: Gn.Color
                },
                gallery_categoryHoverFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 16,
                        style: {
                            bold: !1,
                            italic: !1,
                            underline: !0
                        }
                    })
                },
                gallery_categoryHoverColor: {
                    type: Gn.Color
                },
                gallery_clearFiltersButtonFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 14
                    })
                },
                gallery_clearFiltersButtonColor: {
                    type: Gn.Color
                },
                gallery_sortingLabelFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 16
                    })
                },
                gallery_sortingLabelColor: {
                    type: Gn.Color
                },
                gallery_sortingDefaultOption: {
                    type: Gn.Font,
                    getDefaultValue: () => ({
                        fontStyleParam: !1,
                        value: "gallerySortRecommended"
                    })
                },
                gallery_categoryMobileFilterAndSortButtonStyle: {
                    type: Gn.Number,
                    getDefaultValue: () => Ot.TEXT
                },
                gallery_sortingAndFiltersFillColor: {
                    type: Gn.Color
                },
                gallery_sortingAndFiltersButtonBorderWidth: {
                    type: Gn.Number,
                    getDefaultValue: () => 1
                },
                gallery_sortingAndFiltersButtonBorderColor: {
                    type: Gn.Color
                },
                gallery_sortingAndFiltersButtonRadius: {
                    type: Gn.Number,
                    getDefaultValue: () => 0
                },
                gallery_quantityAndOptionsTextFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 16
                    })
                },
                gallery_priceBreakdownFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 12
                    })
                },
                gallery_headerTextFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Heading-M", {
                        size: 25
                    })
                },
                gallery_titleFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Heading-M", {
                        size: 26
                    })
                },
                gallery_subtitleFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 15
                    })
                },
                gallery_sortingFiltersTextFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M")
                },
                gallery_sortingFiltersTextColor: {
                    type: Gn.Color,
                    getDefaultValue: dr("color-5")
                },
                gallery_outOfStockFontStyle: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 16
                    })
                },
                gallery_categoriesFilterAndSortButtonTextFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 16
                    })
                },
                gallery_categoriesFilterAndSortButtonTextColor: {
                    type: Gn.Color
                },
                gallery_showCategories: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showCategoriesTitle: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_showFiltersTitle: {
                    type: Gn.Boolean,
                    getDefaultValue: () => !0
                },
                gallery_categoryListStrategy: {
                    type: Gn.Number,
                    getDefaultValue: () => Vt.AUTOMATICALLY
                },
                gallery_editorViewMode: {
                    type: Gn.Number,
                    getDefaultValue: () => pr.EDITOR_EMPTY_STATE
                },
                gallery_noProductsMessageFont: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 20
                    })
                },
                gallery_quickViewTextFontStyle: {
                    type: Gn.Font,
                    getDefaultValue: Zn("Body-M", {
                        size: 14
                    })
                },
                gallery_ribbonBackground: {
                    type: Gn.Color,
                    getDefaultValue: dr("color-8")
                },
                gallery_ribbonBorderColor: {
                    type: Gn.Color,
                    getDefaultValue: dr("color-8")
                }
            },
            Wr = { ...qr,
                galleryColumns: {
                    type: Gn.Number,
                    inheritDesktop: !1,
                    getDefaultValue: t => {
                        let {
                            dimensions: e,
                            isMobile: n
                        } = t;
                        return n ? 1 : yr({
                            dimensions: e
                        })
                    }
                }
            },
            $r = (Hr = Wr, Object.keys(Hr).reduce((function(t, e) {
                return t[e] = (0, p.__assign)((0, p.__assign)({}, Hr[e]), {
                    key: Hr[e].key || e
                }), t
            }), {}));
        var Hr;
        class zr extends or {
            constructor(t, e, n, r, i, o, a, s, l) {
                super(t, n, e, a), this.compId = r, this.reportError = i, this.slotAPIFactory = o, this.panoramaClient = s, this.veloInputs = l, Z()(this, "fedopsLogger", void 0), Z()(this, "mainCollectionId", void 0), Z()(this, "multilingualService", void 0), Z()(this, "productPageSectionUrl", void 0), Z()(this, "translations", {}), Z()(this, "isFedopsReport", !0), Z()(this, "relatedProductIds", []), Z()(this, "addedToCartStatus", {}), Z()(this, "customUrlApi", void 0), Z()(this, "isUrlWithOverrides", !1), Z()(this, "impressionId", "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(t) {
                    var e = 16 * Math.random() | 0;
                    return ("x" === t ? e : 3 & e | 8).toString(16)
                }))), Z()(this, "isCategoryVisible", !0), Z()(this, "getAddToCartAction", (() => this.styles.gallery_addToCartAction)), Z()(this, "updateAddToCartStatus", ((t, e) => {
                    this.addedToCartStatus = { ...this.addedToCartStatus,
                        [t]: e
                    }, this.updateComponent({
                        addedToCartStatus: this.addedToCartStatus
                    })
                }));
                const u = this.siteStore.platformServices.fedOpsLoggerFactory;
                this.fedopsLogger = u.getLoggerForWidget({
                    appId: f,
                    widgetId: this.type
                });
                const {
                    galleryColumns: c,
                    gallery_gridType: d
                } = this.styles, p = c || 4, g = d === ut.MANUAL ? 4 * p : 30;
                this.addToCartService = new qn(this.siteStore, this.config.publicData), this.productsService = new Vn(this.siteStore, g, "Slider Gallery", this.shouldShowProductOptions, this.shouldRenderPriceRange, this.fedopsLogger, !1, this.panoramaClient), this.customUrlApi = new Wn(this.siteStore.location.buildCustomizedUrl), this.subscribe()
            }
            get shouldRenderPriceRange() {
                return new ar(this.siteStore).shouldShowPriceRange()
            }
            setVeloInputs(t) {
                this.veloInputs = { ...this.veloInputs,
                    ...t
                }
            }
            async getCateogryProducts(t) {
                let {
                    limit: e,
                    offset: n
                } = t;
                await this.productsService.getCategoryProducts({
                    compId: this.compId,
                    limit: e,
                    offset: n
                }), this.productsManifest = this.generateProductsManifest(this.productsService.products), this.updateComponent({
                    products: this.productsService.products,
                    productsManifest: this.productsManifest,
                    productsVariantInfoMap: this.productsVariantInfoMap
                })
            }
            padProductListWithPlaceholders() {
                if (this.productsService.products.length < this.productsService.totalCount) {
                    const t = this.productsService.products.length;
                    this.productsService.products[this.productsService.totalCount - 1] = void 0, this.productsService.products.fill({
                        isFake: !0
                    }, t, this.productsService.totalCount)
                }
            }
            setSlotProps(t) {
                try {
                    const e = this.slotAPIFactory.getSlotAPI(Ft.ProductGalleryDetailsSlot1);
                    e.namespace = "stores", e.resourceList = t.map((t => ({
                        id: t.id
                    })))
                } catch (t) {
                    this.reportError(t)
                }
            }
            async setInitialState(t) {
                if (void 0 === t && (t = !1), !t && !this.shouldComponentRender()) return this.updateComponent({
                    isLoaded: !1
                });
                const e = this.config.style.styleParams.numbers.galleryColumns || 4,
                    n = this.getDataFetcher(),
                    [r, i, {
                        url: o
                    }] = await Promise.all([(l = this.siteStore.baseUrls.galleryBaseUrl, u = this.siteStore.locale, a = l + "assets/locale/gallery/gallery_" + u + ".json", fetch(a, {
                        method: "get"
                    }).then((function(t) {
                        return t.json()
                    })).catch((function(t) {
                        throw new T("Could not fetch translation", {
                            originalError: t.message,
                            path: a
                        })
                    }))), n(), this.siteStore.getSectionUrl(s.PRODUCT)]).catch(this.reportError);
                var a, l, u;
                this.isUrlWithOverrides = await this.customUrlApi.init(), this.isCategoryVisible = i.catalog.category.visible, !this.siteStore.isSSR() && this.galleryType === Ut.COLLECTION && this.productsService.totalCount > 2 * e && (this.padProductListWithPlaceholders(), await this.productsService.getCategoryProducts({
                    compId: this.compId,
                    limit: 2 * e,
                    offset: this.productsService.totalCount - 2 * e
                }));
                const {
                    products: c
                } = this.productsService;
                this.translations = r, this.productPriceBreakdown = new ur(this.siteStore, this.translations, {
                    excludedPattern: "gallery.price.tax.excludedParam.label",
                    includedKey: "gallery.price.tax.included.label",
                    includedPattern: "gallery.price.tax.includedParam.label",
                    excludedKey: "gallery.price.tax.excluded.label"
                }), this.productPageSectionUrl = o, this.mainCollectionId = this.productsService.getMainCollectionId(), this.productsManifest = this.generateProductsManifest(c), this.multilingualService = new N(this.siteStore, this.publicData.COMPONENT, i.appSettings.widgetSettings), this.siteStore.experiments.enabled(Et.AddRatingSummarySlotToGallery) && this.setSlotProps(c), this.updateComponent(this.getPropsToInject(c)), this.siteStore.experiments.enabled("specs.stores.SliderGalleryWritePaginationMapToStorageOnlyOnClick") || this.siteStore.isSSR() || this.productsService.storeNavigation(this.siteStore.siteApis.currentPage.id)
            }
            onAppLoaded() {
                if (this.isFedopsReport) {
                    this.isFedopsReport = !1, this.siteStore.experiments.enabled("specs.stores.ReportBiForEmptyGallery") && !this.productsService.products.length && this.siteStore.webBiLogger.report({
                        evid: 45,
                        src: 10,
                        endpoint: "ec-sf",
                        params: {
                            testName: "empty-gallery-slider"
                        }
                    });
                    const {
                        gallery_showPrice: t,
                        showQuickView: e,
                        gallery_hoverType: n
                    } = this.styles;
                    this.siteStore.webBiLogger.report(function(t) {
                        return {
                            evid: 542,
                            src: 10,
                            endpoint: "ec-sf",
                            params: t
                        }
                    }({
                        isMobileFriendly: this.siteStore.isMobileFriendly,
                        addToCart: this.shouldShowAddToCartButton,
                        hasPrice: t,
                        hasOptions: this.shouldShowProductOptions,
                        hasQuantity: this.shouldShowQuantity,
                        hasQuickView: e,
                        hoverType: n.value,
                        priceBreakdown: this.productPriceBreakdown.priceBreakdownBIParam,
                        navigationClick: this.getNavigationClick(),
                        productsLogic: this.productsLogicForBi,
                        galleryInputId: this.galleryInputIdForBi,
                        productsList: this.productsService.products.map((t => t.id)).join(),
                        algorithmId: this.algorithmIdForBi,
                        algorithmProviderId: this.algorithmAppIdForBi,
                        impressionId: this.impressionId,
                        pageName: this.pageNameForBi
                    }))
                }
            }
            getNavigationClick() {
                return this.shouldShowAddToCartButton ? this.getAddToCartAction() === i.MINI_CART ? "mini-cart" : this.getAddToCartAction() === i.CART ? "cart" : "none" : ""
            }
            get productsLogicForBi() {
                var t, e;
                switch (this.galleryType) {
                    case Ut.VELO_PRODUCTS:
                        return Ct.VELO;
                    case Ut.COLLECTION:
                        return this.mainCollectionId !== this.productsService.allProductsCategoryId ? Ct.COLLECTION : Ct.ALL_PRODUCTS;
                    case Ut.RELATED_PRODUCTS:
                        return null != (t = this.publicData.COMPONENT.relatedProductsAlgorithmName) ? t : Ct.RELATED_PRODUCTS;
                    case Ut.ALGORITHMS:
                        return null != (e = this.publicData.COMPONENT.dataSourceAlgorithmName) ? e : Ct.ALGORITHMS
                }
            }
            get galleryInputIdForBi() {
                switch (this.galleryType) {
                    case Ut.COLLECTION:
                        return this.mainCollectionId;
                    case Ut.ALGORITHMS:
                    case Ut.RELATED_PRODUCTS:
                        return this.relatedProductIds.join(",")
                }
            }
            get algorithmIdForBi() {
                switch (this.galleryType) {
                    case Ut.RELATED_PRODUCTS:
                        return this.publicData.COMPONENT.relatedProductsAlgorithmId;
                    case Ut.ALGORITHMS:
                        return this.publicData.COMPONENT.dataSourceAlgorithmId
                }
            }
            get algorithmAppIdForBi() {
                switch (this.galleryType) {
                    case Ut.RELATED_PRODUCTS:
                        return this.publicData.COMPONENT.relatedProductsAppId;
                    case Ut.ALGORITHMS:
                        return this.publicData.COMPONENT.dataSourceAppId
                }
            }
            get pageNameForBi() {
                const t = this.siteStore.siteApis.currentPage;
                return t.applicationId ? t.url.slice(1) : t.isHomePage ? _t.HOME : _t.CUSTOM_PAGE
            }
            getPropsToInject(t) {
                return { ...this.getCommonPropsToInject(),
                    fitToContentHeight: !0,
                    allowFreeProducts: this.addToCartService.allowFreeProducts,
                    addedToCartStatus: this.addedToCartStatus,
                    cssBaseUrl: this.siteStore.baseUrls.galleryBaseUrl,
                    getCategoryProducts: this.getCateogryProducts.bind(this),
                    handleProductItemClick: this.handleProductItemClick.bind(this),
                    handleProductsOptionsChange: this.handleOptionSelectionsChange.bind(this),
                    isFirstPage: !0,
                    isInteractive: this.siteStore.isInteractive(),
                    isLiveSiteMode: this.siteStore.isSiteMode(),
                    isPreviewMode: this.siteStore.isPreviewMode(),
                    isLoaded: !0,
                    isSSR: this.siteStore.isSSR(),
                    showShowLightEmptyState: this.productsService.hideGallery,
                    hideGallery: this.productsService.hideGallery,
                    shouldShowMobile: this.siteStore.isMobile(),
                    isCategoryVisible: this.isCategoryVisible,
                    isEditorMode: this.siteStore.isEditorMode(),
                    isRTL: this.siteStore.isRTL(),
                    mainCollectionId: this.mainCollectionId,
                    onAppLoaded: this.onAppLoaded.bind(this),
                    openQuickView: this.openQuickView.bind(this),
                    productsManifest: this.productsManifest,
                    productsVariantInfoMap: this.productsVariantInfoMap,
                    products: t,
                    shouldShowProductOptions: this.shouldShowProductOptions,
                    ravenUserContextOverrides: {
                        id: this.siteStore.storeId,
                        uuid: this.siteStore.uuid
                    },
                    textsMap: this.getTextsMap(),
                    totalProducts: this.productsService.totalCount,
                    shouldShowAddToCartSuccessAnimation: this.getAddToCartAction() === i.NONE,
                    galleryType: this.galleryType,
                    handleAddToCart: this.handleAddToCart.bind(this),
                    updateAddToCartStatus: this.updateAddToCartStatus.bind(this),
                    productsPriceRangeMap: this.productsService.productPriceRangeMap,
                    experiments: {
                        isArrowlessMobileSliderEnabled: this.siteStore.experiments.enabled(Et.ClientGalleryArrowlessMobileSlider),
                        isAllowGalleryProductRoundCornersInViewer: this.siteStore.experiments.enabled(Et.AllowGalleryProductRoundCornersInViewer),
                        sliderGalleryInEditorX: this.siteStore.experiments.enabled(Et.SliderGalleryInEditorXViewer),
                        addRatingSummarySlotToGallery: this.siteStore.experiments.enabled(Et.AddRatingSummarySlotToGallery)
                    }
                }
            }
            getTextsMap() {
                return {
                    addToCartContactSeller: this.translations["gallery.contactSeller.button"],
                    addToCartOutOfStock: this.multilingualService.get("gallery_oosButtonText") || this.translations["gallery.outOfStock.button"],
                    addToCartSuccessSR: this.translations["gallery.sr.addToCartSuccess"],
                    digitalProductBadgeAriaLabelText: this.translations["sr.digitalProduct"],
                    galleryAddToCartButtonText: this.multilingualService.get("gallery_addToCartText") || this.translations["gallery.addToCart.button"],
                    galleryAddToCartPreOrderButtonText: this.multilingualService.get("gallery_preOrderText") || this.translations["gallery.preOrder.button"],
                    noProductsMessageText: this.translations.NO_PRODUCTS_MESSAGE_MAIN,
                    productOutOfStockText: this.multilingualService.get("gallery_oosButtonText") || this.translations.OUT_OF_STOCK_LABEL,
                    productPriceAfterDiscountSR: this.translations["sr.PRODUCT_PRICE_AFTER_DISCOUNT"],
                    productPriceBeforeDiscountSR: this.translations["sr.PRODUCT_PRICE_BEFORE_DISCOUNT"],
                    productPriceWhenThereIsNoDiscountSR: this.translations["sr.PRODUCT_PRICE_WHEN_THERE_IS_NO_DISCOUNT"],
                    quantityAddSR: this.translations["gallery.sr.addQty"],
                    quantityChooseAmountSR: this.translations["gallery.sr.chooseQty"],
                    quantityInputSR: this.translations["gallery.sr.quantity"],
                    quantityMaximumAmountSR: this.translations["gallery.exceedsQuantity.error"],
                    quantityMinimumAmountSR: this.translations["gallery.minimumQuantity.error"],
                    quantityRemoveSR: this.translations["gallery.sr.removeQty"],
                    quantityTotalSR: this.translations["gallery.sr.totalQty"],
                    quickViewButtonText: this.translations.QUICK_VIEW,
                    sliderGalleryNextProduct: this.translations["sr.sliderGallery.nextProduct"],
                    sliderGalleryNoProductsMessageText: this.translations.NO_PRODUCTS_MESSAGE_MINI_GALLERY_MAIN,
                    sliderGalleryPreviousProduct: this.translations["sr.sliderGallery.previousProduct"],
                    sliderGalleryTitle: this.title,
                    priceRangeText: this.translations["gallery.price.from.label"],
                    pricePerUnitSR: this.translations["gallery.sr.units.basePrice.label"],
                    arrowPrevious: this.translations["gallery.sr.carousel.previous.label"],
                    carouselContainerLabel: this.translations["gallery.sr.carousel.container.label"],
                    arrowNext: this.translations["gallery.sr.carousel.next.label"],
                    measurementUnits: this.getMeasurementUnitsTranslation(),
                    emptyCategoryEditorTitle: this.translations["gallery.editor.emptyState.title"],
                    emptyCategoryEditorSubTitle: this.translations["gallery.editor.emptyState.subtitle"]
                }
            }
            getMeasurementUnitsTranslation() {
                return R().reduce(sr, ((t, e, n) => (t[n] = t[n] || {}, R().each(e, ((e, r) => {
                    t[n][r] = this.translations[e]
                })), t)), {})
            }
            generateProductsManifest(t) {
                return t.filter((t => {
                    let {
                        urlPart: e
                    } = t;
                    return Boolean(e)
                })).reduce(((t, e) => (t[e.id] = {
                    url: this.getProductPageUrl(e.urlPart),
                    addToCartState: this.addToCartService.getButtonState({
                        price: qe(e),
                        inStock: e.isInStock,
                        isPreOrderState: Ge(e)
                    })
                }, t)), {})
            }
            getProductPageUrl(t) {
                return this.isUrlWithOverrides ? this.customUrlApi.buildProductPageUrl({
                    slug: t
                }) : this.productPageSectionUrl + "/" + t
            }
            async handleAddToCart(t) {
                let {
                    productId: e,
                    index: n,
                    quantity: r
                } = t;
                this.updateAddToCartStatus(e, Nt.IN_PROGRESS), await this.productsService.addToCart({
                    productId: e,
                    quantity: r,
                    index: n,
                    compId: this.compId,
                    externalId: this.config.externalId,
                    addToCartAction: this.getAddToCartAction(),
                    impressionId: this.impressionId,
                    galleryProductsLogic: this.productsLogicForBi,
                    rank: n,
                    galleryInputId: this.galleryInputIdForBi
                }), this.updateAddToCartStatus(e, Nt.SUCCESSFUL)
            }
            openQuickView(t) {
                let {
                    productId: e,
                    index: n
                } = t;
                const r = {
                    compId: this.compId,
                    externalId: this.config.externalId,
                    galleryType: Pt,
                    galleryProductsLogic: this.productsLogicForBi,
                    galleryInputId: this.galleryInputIdForBi,
                    impressionId: this.impressionId
                };
                return this.productsService.quickViewProduct(e, n, { ...r
                })
            }
            reportProductItemClick(t) {
                let {
                    productId: e,
                    index: n
                } = t;
                const r = this.productsService.getProduct(e);
                this.siteStore.webBiLogger.report({
                    evid: 11,
                    src: 10,
                    endpoint: "ec-sf",
                    params: {
                        productId: e,
                        hasRibbon: !!r.ribbon,
                        hasOptions: !!r.options.length,
                        index: n,
                        productType: r.productType,
                        galleryType: Pt,
                        galleryProductsLogic: this.productsLogicForBi,
                        galleryInputId: this.galleryInputIdForBi,
                        rank: n,
                        impressionId: this.impressionId
                    }
                }), this.productsService.sendClickTrackEvent(r, n)
            }
            handleProductItemClick(t) {
                let {
                    biData: {
                        productId: e,
                        index: n
                    }
                } = t;
                const r = this.productsService.getProduct(e);
                this.productsService.storeNavigation(this.siteStore.siteApis.currentPage.id), this.reportProductItemClick({
                    productId: e,
                    index: n
                }), this.siteStore.navigate({
                    sectionId: s.PRODUCT,
                    state: r.urlPart,
                    queryParams: void 0
                }, !0)
            }
            updateState(t, e) {
                this.config = t, this.siteStore.experiments.enabled(Et.FixSliderGalleryTextSettingToChangeOnEditor) ? e && (this.config.publicData = { ...this.config.publicData,
                    COMPONENT: { ...this.config.publicData.COMPONENT,
                        ...e.COMPONENT
                    }
                }, this.multilingualService.setPublicData(this.config.publicData.COMPONENT)) : (this.config.publicData = e, this.multilingualService.setPublicData(e.COMPONENT)), null != e && e.appSettings && this.multilingualService.setWidgetSettings(e.appSettings), this.updateStyles(), this.updateComponent({ ...this.getCommonPropsToUpdate(),
                    textsMap: this.getTextsMap(),
                    productsPriceRangeMap: this.productsService.productPriceRangeMap,
                    shouldShowProductOptions: this.shouldShowProductOptions
                })
            }
            get galleryType() {
                if (this.veloInputs) return Ut.VELO_PRODUCTS;
                const t = this.publicData.COMPONENT.presetId;
                return t === Tt.COLLECTION ? Ut.COLLECTION : t === Tt.RELATED_PRODUCTS ? Ut.RELATED_PRODUCTS : void 0 !== t ? Ut.ALGORITHMS : Ut.COLLECTION
            }
            getDataFetcher() {
                const t = {
                    [Ut.COLLECTION]: () => this.productsService.oldGetInitialData({
                        externalId: this.config.externalId,
                        compId: this.compId
                    }),
                    [Ut.RELATED_PRODUCTS]: () => {
                        var t, e;
                        return this.productsService.getRelatedProductsByAlgorithm({
                            externalId: this.config.externalId,
                            productIds: this.relatedProductIds,
                            algorithmId: null != (t = this.publicData.COMPONENT.relatedProductsAlgorithmId) ? t : Mt,
                            appId: null != (e = this.publicData.COMPONENT.relatedProductsAppId) ? e : Lt
                        })
                    },
                    [Ut.ALGORITHMS]: () => this.productsService.getRelatedProductsByAlgorithm({
                        externalId: this.config.externalId,
                        productIds: this.relatedProductIds,
                        algorithmId: this.publicData.COMPONENT.dataSourceAlgorithmId,
                        appId: this.publicData.COMPONENT.dataSourceAppId
                    })
                };
                return this.veloInputs && (t[Ut.VELO_PRODUCTS] = () => {
                    var t, e;
                    return this.productsService.getInitialData({
                        externalId: this.config.externalId,
                        compId: this.compId,
                        sort: null,
                        filters: null != (t = this.veloInputs) && t.productIds ? {
                            term: {
                                field: "id",
                                op: "IN",
                                values: this.veloInputs.productIds
                            }
                        } : null,
                        limit: null,
                        offset: 0,
                        mainCollectionId: null != (e = this.veloInputs) && e.collectionId ? this.veloInputs.collectionId : this.mainCollectionId
                    })
                }), t[this.galleryType]
            }
            subscribe() {
                const t = () => 0 === this.relatedProductIds.length && this.renderRelatedProducts();
                this.galleryType !== Ut.RELATED_PRODUCTS && this.galleryType !== Ut.ALGORITHMS || setTimeout(t, 500)
            }
            renderRelatedProducts(t) {
                void 0 === t && (t = []), this.relatedProductIds = [...t], this.setInitialState(!0)
            }
            shouldComponentRender() {
                return !this.siteStore.isInteractive() || !((this.galleryType === Ut.RELATED_PRODUCTS || this.galleryType === Ut.ALGORITHMS) && 0 === this.relatedProductIds.length)
            }
            get title() {
                if (this.galleryType === Ut.COLLECTION) {
                    const t = this.productsService.getMainCollectionId() === this.productsService.allProductsCategoryId ? this.translations["gallery.collection.allProducts"] : this.productsService.collectionName;
                    return this.multilingualService.get("SLIDER_GALLERY_TITLE_COLLECTION") || t
                }
                return this.galleryType === Ut.ALGORITHMS ? this.multilingualService.get("SLIDER_GALLERY_TITLE_ALGORITHM") || this.translations["gallery.bestSellers.default.title"] : this.multilingualService.get("SLIDER_GALLERY_TITLE_RELATED_PRODUCTS") || this.translations["gallery.relatedProducts.default.title"]
            }
            get shouldShowAddToCartButton() {
                return this.styles.gallery_showAddToCartButton
            }
            get shouldShowQuantity() {
                return this.styles.gallery_showAddToCartQuantity
            }
            get shouldShowProductOptions() {
                return !1
            }
            get stylesParams() {
                return $r
            }
        }
        const Qr = (Kr = class extends tt {
            async initializeVeloDataAfterStoreCreated() {
                return await this.waitUntilReady, this.sliderGalleryStore.setVeloInputs(this.veloInputs), this.sliderGalleryStore.setInitialState()
            }
            constructor(t) {
                super(t), Z()(this, "compId", void 0), Z()(this, "sliderGalleryStore", void 0), Z()(this, "veloInputs", void 0), Z()(this, "waitUntilReady", void 0), Z()(this, "initializeCallback", void 0), Z()(this, "onReadyResolver", void 0), Z()(this, "slotAPIFactory", void 0), Z()(this, "config", void 0), Z()(this, "type", void 0), Z()(this, "setVeloInputs", (t => {
                    this.veloInputs = { ...this.veloInputs,
                        ...t
                    }
                })), Z()(this, "exports", (() => ({
                    setCollection: async t => {
                        if (this.setVeloInputs({
                                collectionId: t,
                                productIds: void 0
                            }), this.sliderGalleryStore) return this.initializeVeloDataAfterStoreCreated()
                    },
                    setProducts: async t => {
                        if (this.setVeloInputs({
                                productIds: t,
                                collectionId: void 0
                            }), this.sliderGalleryStore) return this.initializeVeloDataAfterStoreCreated()
                    },
                    onInitialize: t => {
                        this.initializeCallback = t
                    }
                }))), Z()(this, "onConfigUpdate", (t => (this.config = R().clone(t), this.siteStore.experiments.enabled(Et.FixSliderGalleryTextSettingToChangeOnEditor) ? this.sliderGalleryStore.updateState(this.config) : this.sliderGalleryStore.updateState(this.config, {
                    APP: {},
                    COMPONENT: {}
                })))), Z()(this, "onAppSettingsUpdate", (t => {
                    this.siteStore.experiments.enabled(Et.FixSliderGalleryTextSettingToChangeOnEditor) ? this.siteStore.experiments.enabled(Et.EditorGalleryOOI) && "free_text" === t.type ? this.sliderGalleryStore.updateState(this.config, {
                        APP: void 0,
                        COMPONENT: t.details
                    }) : this.siteStore.experiments.enabled(Et.EditorGalleryOOI) && t.scope === k.COMPONENT && "app-settings" === t.source && this.sliderGalleryStore.updateState(this.config, {
                        APP: void 0,
                        COMPONENT: void 0,
                        appSettings: t.payload
                    }) : this.siteStore.experiments.enabled(Et.EditorGalleryOOI) && t.scope === k.COMPONENT && "app-settings" === t.source && this.sliderGalleryStore.updateState(this.config, {
                        APP: void 0,
                        COMPONENT: {},
                        appSettings: t.payload
                    })
                })), Z()(this, "getFreeTexts", (() => [])), Z()(this, "load", (async () => (this.initializeCallback && await Promise.resolve(this.initializeCallback()).catch(this.flowAPI.reportError), this.sliderGalleryStore = new zr(this.config, this.setProps.bind(this), this.siteStore, this.compId, this.flowAPI.reportError, this.slotAPIFactory, this.type, this.flowAPI.panoramaClient, this.veloInputs), this.sliderGalleryStore.setInitialState().then((() => this.onReadyResolver())).catch(this.flowAPI.reportError)))), Z()(this, "init", (async () => {
                    await this.load(), this.subscribeToEvents()
                })), this.type = t.controllerConfig.type, this.config = R().clone(t.controllerConfig.config), this.compId = t.controllerConfig.compId;
                const e = "undefined" != typeof window && window.Wix;
                this.slotAPIFactory = (0, et.t)(t.controllerConfig), e && this.listenToAppSettingsUpdate(), this.waitUntilReady = new Promise((t => {
                    this.onReadyResolver = t
                }))
            }
            listenToAppSettingsUpdate() {
                H({
                    scope: k.COMPONENT,
                    cdnUrl: S
                }).onChange((t => {
                    this.sliderGalleryStore.updateState(this.config, {
                        APP: void 0,
                        COMPONENT: {},
                        appSettings: t
                    })
                }))
            }
            subscribeToEvents() {
                this.sliderGalleryStore.galleryType !== Ut.RELATED_PRODUCTS && this.sliderGalleryStore.galleryType !== Ut.ALGORITHMS || this.siteStore.pubSub.subscribe(u.RELATED_PRODUCTS, (t => {
                    this.sliderGalleryStore.renderRelatedProducts(t.data)
                }), !0)
            }
        }, Xr = (void 0 === Yr ? {} : Yr).shouldSkipMultilingual, function(t) {
            var e = function(t, e) {
                try {
                    return new t(e)
                } catch (t) {
                    g(e)(t)
                }
            }(Kr, t);
            return {
                pageReady: function() {
                    return Promise.resolve().then(function(t) {
                        return function() {
                            t.controllerConfig.setProps({
                                isRTL: t.flowAPI.environment.isRTL
                            })
                        }
                    }(t)).then((function() {
                        return Promise.all((0, p.__spread)(Xr ? [] : [X(t, e.getFreeTexts())], [e.init()]))
                    })).then(function(t, e) {
                        return function() {
                            return t.controllerConfig.wixCodeApi.location.onChange(e), Promise.resolve()
                        }
                    }(t, (function() {
                        e.load()
                    }))).catch(g(t))
                },
                exports: function() {
                    return e.exports()
                },
                updateConfig: function(t, n) {
                    var r, i;
                    null === (r = e.onConfigUpdate) || void 0 === r || r.call(e, n), null === (i = e.onStyleUpdate) || void 0 === i || i.call(e, n.style.styleParams)
                },
                updateAppSettings: function(t, n) {
                    var r;
                    null === (r = e.onAppSettingsUpdate) || void 0 === r || r.call(e, n)
                },
                onBeforeUnLoad: function() {
                    var t;
                    return null === (t = e.onBeforeUnLoad) || void 0 === t ? void 0 : t.call(e)
                }
            }
        });
        var Kr, Yr, Xr, Jr = ["ar", "arc", "bcc", "bqi", "ckb", "dv", "fa", "glk", "ha", "he", "khw", "ks", "ku", "mzn", "pnb", "ps", "sd", "ug", "ur", "yi"];
        var Zr = function(t) {
                return t
            },
            ti = function(t) {
                var e = t.dsn,
                    n = t.environment,
                    r = t.release,
                    i = t.withDataCallback,
                    o = t.tags;
                return {
                    dsn: e,
                    config: {
                        enabled: !0,
                        release: r,
                        dataCallback: i ? Zr : void 0,
                        environment: n,
                        tags: o
                    }
                }
            },
            ei = function(t) {
                var e = {};
                for (var n in t) "function" == typeof t[n] && (e[n] = t[n].bind(t));
                return e
            },
            ni = function(t, e) {
                for (var n = {}, r = function(e) {
                        var r = t[e];
                        "function" == typeof r && (n[e] = function() {
                            for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                            return r.apply(t, e)
                        })
                    }, i = 0, o = e; i < o.length; i++) {
                    r(o[i])
                }
                return n
            },
            ri = function(t) {
                return t.isEnabled && t.currentLanguage ? t.currentLanguage : void 0
            },
            ii = function(t) {
                return void 0 === t && "undefined" != typeof window && (t = window.location.search), new URLSearchParams(t)
            },
            oi = function(t, e) {
                var n = ri(t.window.multilingual),
                    r = t.site.language;
                if (e) {
                    var i = ii().get("regionalLanguage");
                    i && (r = i)
                }
                return n || r || "en"
            },
            ai = function(t) {
                return "backend" === t.window.rendering.env
            },
            si = function(t) {
                return t.seo.isInSEO()
            },
            li = function(t, e, n, r) {
                return new(n || (n = Promise))((function(i, o) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            ui = function(t, e) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }), o;

                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;
                                switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {
                                    case 0:
                                    case 1:
                                        i = o;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = o[1], o = [0];
                                        continue;
                                    case 7:
                                        o = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                            a.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && a.label < i[1]) {
                                            a.label = i[1], i = o;
                                            break
                                        }
                                        if (i && a.label < i[2]) {
                                            a.label = i[2], a.ops.push(o);
                                            break
                                        }
                                        i[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                o = e.call(t, a)
                            } catch (t) {
                                o = [6, t], r = 0
                            } finally {
                                n = i = 0
                            }
                            if (5 & o[0]) throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            },
            ci = function() {
                throw new Error("Translations has not been initialized yet")
            },
            di = function(t) {
                var e = t.language,
                    r = t.defaultTranslations,
                    i = t.prefix,
                    o = void 0 === i ? "messages" : i,
                    a = t.defaultLanguage,
                    s = t.availableLanguages,
                    l = t.localeDistPath,
                    u = t.initI18n,
                    c = t.basePath,
                    d = this;
                this.t = ci, this.all = {}, this.init = function(t) {
                    var e = void 0 === t ? {} : t,
                        r = e.prepopulated,
                        i = e.wait,
                        o = void 0 !== i && i,
                        a = e.useSuspense,
                        s = void 0 !== a && a;
                    return li(d, void 0, void 0, (function() {
                        var t, e, i, a = this;
                        return ui(this, (function(l) {
                            switch (l.label) {
                                case 0:
                                    if (t = this.config, e = new Set(t.availableLanguages || []), !this._initI18n) throw new Error("Can't initialize i18n without initI18n method.");
                                    return this.i18n = this._initI18n({
                                        locale: t.language,
                                        useSuspense: s,
                                        wait: o,
                                        messages: r,
                                        disableAutoInit: !0,
                                        asyncMessagesLoader: function(r) {
                                            var i;
                                            return "en" === r ? Promise.resolve(t.defaultTranslations) : e.has(r) ? fetch("".concat(null !== (i = a.basePath) && void 0 !== i ? i : n.p).concat(a.localeDistPath, "/").concat(t.prefix, "_").concat(r, ".json")).then((function(e) {
                                                return e.ok ? e.json() : Promise.reject(new Error("Can't load locale: ".concat(t.language)))
                                            })) : Promise.reject(new Error("Locale assets for ".concat(r, " are not provided")))
                                        }
                                    }), [4, this.i18n.init()];
                                case 1:
                                    if (l.sent(), !(i = this.i18n.getResourceBundle(t.language, "translation")) && e.has(t.language)) throw new Error("Unexpected missing translations for language ".concat(t.language));
                                    return this.all = i || t.defaultTranslations || {}, this.t = function(t, e) {
                                        return a.i18n.t(t, e)
                                    }, [2, this]
                            }
                        }))
                    }))
                }, this.config = {
                    availableLanguages: s,
                    language: e,
                    defaultTranslations: r,
                    prefix: o,
                    defaultLanguage: a
                }, this.localeDistPath = l, this._initI18n = u, this.i18n = null, this.basePath = c
            },
            pi = function(t) {
                var e;
                this.entry = "viewerScript";
                var n, r = t.wixAPI,
                    i = t.appData;
                this.isSSR = "backend" === r.window.rendering.env, this.isSEO = si(r), this.isMobile = "Mobile" === r.window.formFactor, this.isEditor = "Editor" === r.window.viewMode, this.isPreview = "Preview" === r.window.viewMode, this.isViewer = "Site" === r.window.viewMode, this.isBlocksPreview = Boolean(null === (e = null == i ? void 0 : i.appData) || void 0 === e ? void 0 : e.blocksPreviewData), this.language = oi(r, this.isEditor), this.isRTL = (n = this.language, Jr.includes(n)), this.multilingual = r.window.multilingual, this.appDefinitionId = i.appDefinitionId
            },
            gi = function() {
                return gi = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t
                }, gi.apply(this, arguments)
            },
            fi = function(t, e) {
                var n = {};
                return t.visitorId ? n.forSiteVisitors = gi(gi({}, t), {
                    visitorId: t.visitorId
                }) : n.forSiteOwner = gi(gi({}, t), {
                    loggedInUserId: t.loggedInUserId
                }), e && (n.overrideCriteria = e), n
            },
            hi = function(t, e, n, r) {
                return new(n || (n = Promise))((function(i, o) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            yi = function(t, e) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }), o;

                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;
                                switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {
                                    case 0:
                                    case 1:
                                        i = o;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = o[1], o = [0];
                                        continue;
                                    case 7:
                                        o = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                            a.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && a.label < i[1]) {
                                            a.label = i[1], i = o;
                                            break
                                        }
                                        if (i && a.label < i[2]) {
                                            a.label = i[2], a.ops.push(o);
                                            break
                                        }
                                        i[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                o = e.call(t, a)
                            } catch (t) {
                                o = [6, t], r = 0
                            } finally {
                                n = i = 0
                            }
                            if (5 & o[0]) throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            };
        var mi, vi = function() {
                function t(t) {
                    var e = t.httpClient;
                    this.reportError = function(t) {
                        console.warn("You are trying to report an error, but didn't configure sentry in `.application.json`\n\nPlease read the docs for more information https://bo.wix.com/pages/yoshi/docs/editor-flow/structure-api/app-configuration/#applicationjson", "Error: ", t)
                    }, this._httpClient = e
                }
                return Object.defineProperty(t.prototype, "httpClient", {
                    get: function() {
                        var t = this._httpClient;
                        return t
                    },
                    enumerable: !1,
                    configurable: !0
                }), t
            }(),
            Si = (mi = function(t, e) {
                return mi = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function(t, e) {
                    t.__proto__ = e
                } || function(t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                }, mi(t, e)
            }, function(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");

                function n() {
                    this.constructor = t
                }
                mi(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n)
            }),
            bi = function() {
                return bi = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t
                }, bi.apply(this, arguments)
            },
            Ii = function(t, e, n, r) {
                return new(n || (n = Promise))((function(i, o) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            Pi = function(t, e) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }), o;

                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;
                                switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {
                                    case 0:
                                    case 1:
                                        i = o;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = o[1], o = [0];
                                        continue;
                                    case 7:
                                        o = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                            a.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && a.label < i[1]) {
                                            a.label = i[1], i = o;
                                            break
                                        }
                                        if (i && a.label < i[2]) {
                                            a.label = i[2], a.ops.push(o);
                                            break
                                        }
                                        i[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                o = e.call(t, a)
                            } catch (t) {
                                o = [6, t], r = 0
                            } finally {
                                n = i = 0
                            }
                            if (5 & o[0]) throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            },
            Ci = function(t) {
                function e(e) {
                    var n, r, i = e.experimentsConfig,
                        o = e.essentials,
                        a = e.platformBI,
                        s = e.biLoggerFactory,
                        l = e.monitoring,
                        u = e.sentryConfig,
                        c = e.wixAPI,
                        d = e.appData,
                        p = e.translationsConfig,
                        g = e.defaultTranslations,
                        f = void 0 === g ? null : g,
                        h = e.biLogger,
                        y = e.projectName,
                        m = e.appName,
                        v = e.prepopulatedData,
                        S = e.optionalDeps,
                        b = S.createHttpClient,
                        I = S.initI18n,
                        P = S.createExperiments,
                        C = e.localeDistPath,
                        _ = e.shouldUseEssentials,
                        T = e.basePath,
                        w = this;
                    w = t.call(this, {
                        httpClient: _ ? null == o ? void 0 : o.httpClient : null == b ? void 0 : b({
                            isSSR: ai(c),
                            getAppToken: function() {
                                var t, e, n;
                                return null !== (n = null === (e = (t = c.site).getAppToken) || void 0 === e ? void 0 : e.call(t, d.appDefinitionId)) && void 0 !== n ? n : d.instance
                            }
                        })
                    }) || this, w.essentials = o, w.wixAPI = c, w.appName = m, w.projectName = y, w.prepopulatedData = v, w.basePath = T, w.environment = new pi({
                        appData: d,
                        wixAPI: c
                    });
                    var O = oi(c, w.environment.isEditor);
                    if (w.localeDistPath = C, w.getCurrencyFormatter = null, w.formatCurrency = null, w.formatAddress = null, w.essentials && "formatAddress" in w.essentials && (w.formatAddress = w.essentials.formatAddress), w.essentials && "createCurrencyFormatterWithDefaults" in w.essentials && (w.getCurrencyFormatter = w.essentials.createCurrencyFormatterWithDefaults({
                            language: O
                        }), w.getCurrencyFormatter && (w.formatCurrency = w.getCurrencyFormatter())), w.translations = !1 === (null == p ? void 0 : p.enabled) ? null : new di({
                            language: O,
                            defaultTranslations: f,
                            prefix: null == p ? void 0 : p.prefix,
                            availableLanguages: null == p ? void 0 : p.availableLanguages,
                            localeDistPath: C,
                            initI18n: I
                        }), w.experiments = null, w._experimentsPromise = null, i) {
                        var A = w.environment.isViewer ? {
                                siteOwnerId: null == a ? void 0 : a.ownerId,
                                visitorId: null == a ? void 0 : a.visitorId
                            } : {
                                siteOwnerId: null == a ? void 0 : a.ownerId,
                                loggedInUserId: c.user.currentUser.id
                            },
                            E = (null == a ? void 0 : a.metaSiteId) ? {
                                entityId: null == a ? void 0 : a.metaSiteId
                            } : void 0;
                        if (_) w._experimentsPromise = i.centralized && !(null == v ? void 0 : v.experiments) ? Promise.resolve(w.essentials.experiments) : function(t, e, n, r, i, o) {
                            return hi(void 0, void 0, void 0, (function() {
                                var a, s;
                                return yi(this, (function(l) {
                                    switch (l.label) {
                                        case 0:
                                            return a = t({
                                                useNewApi: !0,
                                                requestContext: fi(r, i),
                                                baseUrl: o
                                            }), n ? (a.add(n), [2, a]) : e ? (s = e.scopes.map((function(t) {
                                                return a.load(t)
                                            })), [4, Promise.all(s)]) : [2, a];
                                        case 1:
                                            return l.sent(), [2, a]
                                    }
                                }))
                            }))
                        }(w.essentials.createExperiments, i, null == v ? void 0 : v.experiments, A, E, w.environment.isSSR ? "https://wix.com" : void 0);
                        else {
                            var D = P({
                                prepopulated: null == v ? void 0 : v.experiments,
                                experimentsConfig: i,
                                baseUrl: w.environment.isSSR ? "https://wix.com" : void 0,
                                ctx: A,
                                overrideCriteria: E
                            });
                            w._experimentsPromise = D.init()
                        }
                    }
                    if (null == v ? void 0 : v.biLogger) w.bi = null == v ? void 0 : v.biLogger;
                    else if (h) {
                        var R = void 0;
                        _ ? R = w.essentials.biLoggerFactory() : s && (R = s()), R && (w.bi = h(R)({}))
                    }
                    if (w.sentry = null, w.errorMonitor = null, null == v ? void 0 : v.sentryMonitor) w.sentry = null == v ? void 0 : v.sentryMonitor;
                    else if (null == v ? void 0 : v.errorMonitor) w.errorMonitor = null == v ? void 0 : v.errorMonitor;
                    else if (u)
                        if (u.errorMonitor && (null == o ? void 0 : o.createErrorMonitor)) w.errorMonitor = o.createErrorMonitor({
                            dsn: u.DSN,
                            environment: "Viewer:Worker",
                            appName: null !== (n = w.appName) && void 0 !== n ? n : "wixstores-client-gallery",
                            version: "74b07f2e21c3b37e4531c39103bdb7a1eb1c92254d3c49653e9cb103",
                            fullArtifactId: "com.wixpress.wixstores-client-gallery",
                            componentId: "viewer-script",
                            tags: {
                                isSSR: ai(c),
                                isSEO: si(c)
                            }
                        });
                        else {
                            var N = ti({
                                dsn: u.DSN,
                                environment: "Viewer:Worker",
                                release: "".concat(null !== (r = w.appName) && void 0 !== r ? r : "wixstores-client-gallery", "@").concat("74b07f2e21c3b37e4531c39103bdb7a1eb1c92254d3c49653e9cb103"),
                                withDataCallback: !0,
                                tags: {
                                    isSSR: ai(c),
                                    isSEO: si(c)
                                }
                            });
                            w.sentry = null == l ? void 0 : l.createMonitor(N.dsn, (function(t) {
                                return bi(bi({}, t), N.config)
                            }))
                        }
                    return w.sentry && (w.reportError = function(t) {
                        return "string" == typeof t ? w.sentry.captureMessage(t) : w.sentry.captureException(t), w.sentry.lastEventId()
                    }), w.errorMonitor && (w.reportError = function(t) {
                        return "string" == typeof t ? w.errorMonitor.captureMessage(t) : w.errorMonitor.captureException(t)
                    }), w
                }
                return Si(e, t), e.prototype.init = function() {
                    var t, e;
                    return Ii(this, void 0, void 0, (function() {
                        var n;
                        return Pi(this, (function(r) {
                            switch (r.label) {
                                case 0:
                                    return n = this, [4, this._experimentsPromise];
                                case 1:
                                    return n.experiments = r.sent(), [4, null === (t = this.translations) || void 0 === t ? void 0 : t.init({
                                        prepopulated: null === (e = this.prepopulatedData) || void 0 === e ? void 0 : e.translations
                                    })];
                                case 2:
                                    return r.sent(), [2]
                            }
                        }))
                    }))
                }, e.prototype.createTranslations = function(t, e, n) {
                    var r, i = t.translationsConfig,
                        o = t.defaultTranslations,
                        a = t.localeDistPath;
                    if (!1 === (null == i ? void 0 : i.enabled)) return null;
                    if (a === this.localeDistPath && (null == n ? void 0 : n.basePath) === this.basePath) return this.translations;
                    var s = oi(this.wixAPI, this.environment.isEditor);
                    return new di({
                        language: s,
                        defaultTranslations: o,
                        availableLanguages: null == i ? void 0 : i.availableLanguages,
                        prefix: null == i ? void 0 : i.prefix,
                        localeDistPath: a,
                        initI18n: null == e ? void 0 : e.initI18n,
                        basePath: null !== (r = null == n ? void 0 : n.basePath) && void 0 !== r ? r : this.basePath
                    })
                }, e
            }(vi),
            _i = function(t) {
                var e = t.environmentLabel;
                return function(t) {
                    throw new Error("It is not possible to translate ".concat(t, ". Translate function was not passed to the ").concat(e))
                }
            },
            Ti = function() {
                var t, e = this;
                this.handlers = ((t = {})[$n.Object] = {
                    serialize: function(t) {
                        return "string" == typeof t ? (console.error("\u26a0\ufe0f Seems like you are calling `settings.set(param, JSON.stringify(value))`. Please, pass a plain object/array and tpa-settings will serializate it."), t) : JSON.stringify(t)
                    },
                    deserialize: function(t) {
                        return "string" != typeof t ? t : JSON.parse(t)
                    }
                }, t), this.serialize = function(t, n) {
                    return t.type === $n.Object ? e.handlers[$n.Object].serialize(n) : n
                }, this.deserialize = function(t, n) {
                    return t.type === $n.Object ? e.handlers[$n.Object].deserialize(n) : n
                }
            },
            wi = new Ti;

        function Oi(t, e, n) {
            void 0 === n && (n = {});
            var r, i = Qn(e),
                o = Kn(e, {
                    isMobile: n.isMobile,
                    language: i ? n.language : void 0
                }),
                a = Yn(e);
            return i ? void 0 !== t[o.languageAndMobile] ? r = t[o.languageAndMobile] : a && void 0 !== t[o.language] && (r = t[o.language]) : void 0 !== t[o.mobile] ? r = t[o.mobile] : a && void 0 !== t[o.original] && (r = t[o.original]), wi.deserialize(e, r)
        }
        var Ai = !1;

        function Ei(t, e, n, r) {
            void 0 === n && (n = {});
            var i = (0, p.__rest)(n, []);
            void 0 === r && (r = "COMPONENT");
            var o = t;
            t.COMPONENT || (Ai || (console.warn("`getSettingsValue` or `getSettingsValues` should accept whole public data object. Probably, data was passed only for one scope."), Ai = !0), o = {
                COMPONENT: t,
                APP: {}
            });
            var a = "COMPONENT" === r && e.inheritFromAppScope,
                s = Oi(o[r], e, i);
            return void 0 === s && a && (s = Oi(o.APP, e, i)), e.getDefaultValue && void 0 === s ? function(t, e, n, r) {
                var i, o;
                void 0 === r && (r = {});
                var a = null !== (i = r.t) && void 0 !== i ? i : _i({
                    environmentLabel: null !== (o = r.environmentLabel) && void 0 !== o ? o : "`getSettingsValue` function"
                });
                return n.getDefaultValue({
                    isMobile: r.isMobile,
                    isRTL: r.isRTL,
                    isEditorX: r.isEditorX,
                    t: a,
                    presetId: r.presetId,
                    experiments: r.experiments,
                    getSettingParamValue: function(n, i) {
                        return void 0 === i && (i = {}), Ei(t, n, (0, p.__assign)((0, p.__assign)((0, p.__assign)({}, r), i), {
                            t: a
                        }), e)
                    }
                })
            }(o, r, e, i) : s
        }
        var Di = function() {
                var t = function(e, n) {
                    return t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    }, t(e, n)
                };
                return function(e, n) {
                    if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

                    function r() {
                        this.constructor = e
                    }
                    t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
                }
            }(),
            Ri = function(t) {
                function e(e) {
                    var n, r = this;
                    (r = t.call(this, e) || this).entry = "viewerScript";
                    var i, o = e.config,
                        a = e.widgetId,
                        s = e.wixAPI.location.query;
                    return r.isEditorX = function(t) {
                        var e;
                        return null !== (e = null == t ? void 0 : t.booleans.responsive) && void 0 !== e && e
                    }(null === (n = null == o ? void 0 : o.style) || void 0 === n ? void 0 : n.styleParams), r.isADI = (void 0 === (i = s) && (i = {}), "onboarding" === i.dsOrigin), r.isClassicEditor = function(t) {
                        return void 0 === t && (t = {}), "Editor1.4" === t.dsOrigin
                    }(s), r.widgetId = a, r
                }
                return Di(e, t), e
            }(pi),
            Ni = function(t, e) {
                return {
                    name: t.name,
                    message: t.message,
                    stack: t.stack,
                    errorId: e
                }
            };

        function xi(t, e) {
            var n, r, i, o;
            this.controllerConfig.wixCodeApi.window.openModal("".concat((n = this.componentName || "", r = t, i = this.controllerConfig.appParams.instance, o = "".concat(n, "/").concat(r), "https://editor.wixapps.net/render/prod/modals/".concat("wixstores-client-gallery", "/").concat("74b07f2e21c3b37e4531c39103bdb7a1eb1c92254d3c49653e9cb103", "/").concat(o, "?instance=").concat(i))), e)
        }
        var Mi = function() {
                var t = function(e, n) {
                    return t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    }, t(e, n)
                };
                return function(e, n) {
                    if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

                    function r() {
                        this.constructor = e
                    }
                    t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
                }
            }(),
            Li = function() {
                return Li = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t
                }, Li.apply(this, arguments)
            },
            Fi = function(t, e, n, r) {
                return new(n || (n = Promise))((function(i, o) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            Ui = function(t, e) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }), o;

                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;
                                switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {
                                    case 0:
                                    case 1:
                                        i = o;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = o[1], o = [0];
                                        continue;
                                    case 7:
                                        o = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                            a.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && a.label < i[1]) {
                                            a.label = i[1], i = o;
                                            break
                                        }
                                        if (i && a.label < i[2]) {
                                            a.label = i[2], a.ops.push(o);
                                            break
                                        }
                                        i[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                o = e.call(t, a)
                            } catch (t) {
                                o = [6, t], r = 0
                            } finally {
                                n = i = 0
                            }
                            if (5 & o[0]) throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            },
            ki = function(t, e, n) {
                if (n || 2 === arguments.length)
                    for (var r, i = 0, o = e.length; i < o; i++) !r && i in e || (r || (r = Array.prototype.slice.call(e, 0, i)), r[i] = e[i]);
                return t.concat(r || Array.prototype.slice.call(e))
            },
            Vi = function(t) {
                function e(e) {
                    var n, r, i, o, a, s, l, u = e.viewerScriptFlowAPI,
                        c = e.controllerConfig,
                        d = e.appDefinitionId,
                        p = e.widgetId,
                        g = e.componentId,
                        f = e.componentName,
                        h = e.biLogger,
                        y = e.prepopulatedData,
                        m = e.translations,
                        v = e.fedopsConfig,
                        S = e.sentryConfig,
                        b = e.persistentAcrossPages,
                        I = e.shouldUseEssentials,
                        P = e.multilingualDisabled,
                        C = e.panoramaClient,
                        _ = this;
                    (_ = t.call(this, {
                        httpClient: u._httpClient
                    }) || this).appLoadStarted = function() {
                        var t = _.fedops.appLoadStarted;
                        t.call(_.fedops), _.fedops.appLoadStarted = function() {
                            for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                            console.warn("\u{1f97a} Seems like you're trying to call `fedopsLogger.appLoadStarted` and `fedopsLogger.appLoaded` in your controller.\nWe are already logging load events for SSR and CSR environments, so you can remove these calls from your project."), t.call.apply(t, ki([_.fedops], e, !1))
                        }
                    }, _.essentials = c.essentials, _.controllerConfig = c, _.experiments = u.experiments, _.bi = u.bi, _.prepopulatedData = y, _.componentName = f;
                    var T = c.platformAPIs;
                    if (_.panoramaClient = null == C ? void 0 : C.createClientForComponent(), _.getCurrencyFormatter = u.getCurrencyFormatter, _.formatCurrency = null === (n = _.getCurrencyFormatter) || void 0 === n ? void 0 : n.call(_), _.formatAddress = u.formatAddress, _.environment = new Ri({
                            wixAPI: c.wixCodeApi,
                            appData: c.appParams,
                            config: c.config,
                            widgetId: p
                        }), !u.bi && h)
                        if (I) {
                            var w = _.essentials.biLoggerFactory();
                            _.bi = h(w)({})
                        } else(null === (r = c.platformAPIs) || void 0 === r ? void 0 : r.biLoggerFactory) && (_.bi = h(null === (i = c.platformAPIs) || void 0 === i ? void 0 : i.biLoggerFactory())({}));
                    if (_.sentry = null, _.errorMonitor = null, (null == y ? void 0 : y.sentryMonitor) || (null == y ? void 0 : y.errorMonitor)) _.sentry = null !== (o = null == y ? void 0 : y.sentryMonitor) && void 0 !== o ? o : null, _.errorMonitor = null !== (a = null == y ? void 0 : y.errorMonitor) && void 0 !== a ? a : null;
                    else if (S)
                        if (S.errorMonitor && _.essentials.createErrorMonitor) _.errorMonitor = _.essentials.createErrorMonitor({
                            dsn: S.DSN,
                            environment: "Viewer:Worker",
                            appName: "wixstores-client-gallery",
                            version: "74b07f2e21c3b37e4531c39103bdb7a1eb1c92254d3c49653e9cb103",
                            fullArtifactId: "com.wixpress.wixstores-client-gallery",
                            componentId: g,
                            tags: {
                                componentId: g,
                                componentName: f,
                                isSSR: ai(c.wixCodeApi),
                                isSEO: si(c.wixCodeApi)
                            }
                        });
                        else {
                            var O = ti({
                                dsn: S.DSN,
                                environment: "Viewer:Worker",
                                release: "".concat("wixstores-client-gallery", "@").concat("74b07f2e21c3b37e4531c39103bdb7a1eb1c92254d3c49653e9cb103"),
                                withDataCallback: !0,
                                tags: {
                                    componentId: g,
                                    componentName: f,
                                    isSSR: ai(c.wixCodeApi),
                                    isSEO: si(c.wixCodeApi)
                                }
                            });
                            _.sentry = null === (s = T.monitoring) || void 0 === s ? void 0 : s.createMonitor(O.dsn, (function(t) {
                                return Li(Li({}, t), O.config)
                            }))
                        }
                    if (_.sentry && (_.reportError = function(t) {
                            return "string" == typeof t ? _.sentry.captureMessage(t) : _.sentry.captureException(t), _.sentry.lastEventId()
                        }), _.errorMonitor && (_.reportError = function(t) {
                            return "string" == typeof t ? _.errorMonitor.captureMessage(t) : _.errorMonitor.captureException(t)
                        }), _.fedops = null, !1 !== (null == v ? void 0 : v.enabled)) {
                        (null == y ? void 0 : y.fedopsLogger) ? _.fedops = null == y ? void 0 : y.fedopsLogger: _.fedops = I ? _.essentials.fedopsLogger : T.fedOpsLoggerFactory.getLoggerForWidget({
                            appId: d,
                            widgetId: p,
                            paramsOverrides: {
                                corrId: _.controllerConfig.compId
                            }
                        });
                        var A = !b || 1 === (null === (l = _.controllerConfig.platformAPIs.bi) || void 0 === l ? void 0 : l.pageNumber);
                        (_.environment.isSSR || A) && (_.appLoadStarted(), null == C || C.reportLoadStart())
                    }
                    return _.translations = m, _.viewerScriptFlowAPI = u, _.settings = {
                        get: function(t) {
                            var e, n, r;
                            return Ei(null !== (n = null === (e = _.controllerConfig.config) || void 0 === e ? void 0 : e.publicData) && void 0 !== n ? n : {}, t, {
                                t: null === (r = _.translations) || void 0 === r ? void 0 : r.t,
                                experiments: _.experiments,
                                isMobile: _.environment.isMobile,
                                language: P ? ri(_.environment.multilingual) : void 0
                            })
                        }
                    }, _.openModal = xi, _
                }
                return Mi(e, t), e.prototype.init = function() {
                    var t, e;
                    return Fi(this, void 0, void 0, (function() {
                        return Ui(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return null !== (null === (t = this.translations) || void 0 === t ? void 0 : t.i18n) ? [3, 2] : [4, this.translations.init({
                                        prepopulated: null === (e = this.prepopulatedData) || void 0 === e ? void 0 : e.translations,
                                        useSuspense: this.environment.isEditor || this.environment.isADI
                                    })];
                                case 1:
                                    n.sent(), n.label = 2;
                                case 2:
                                    return [2]
                            }
                        }))
                    }))
                }, e.prototype.updateControllerConfig = function(t) {
                    this.controllerConfig.config = t
                }, e.prototype.handleError = function(t) {
                    var e;
                    this.sentry && (this.reportError(t), e = this.sentry.lastEventId()), this.errorMonitor && (e = this.reportError(t)), this.controllerConfig.setProps({
                        _workerError: Ni(t, e)
                    })
                }, e.prototype.withErrorBoundary = function(t) {
                    var e = this;
                    return function() {
                        for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                        try {
                            t.apply(void 0, n)
                        } catch (t) {
                            t instanceof Error && e.handleError(t)
                        }
                    }
                }, e
            }(vi),
            Bi = function() {
                return Bi = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t
                }, Bi.apply(this, arguments)
            },
            Gi = function() {
                return Gi = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t
                }, Gi.apply(this, arguments)
            },
            ji = {
                language: "_language",
                translations: "_translations",
                multilingual: "_multilingual",
                experiments: "_experiments",
                biMethods: "_biMethods",
                openModal: "__openModal__",
                biUtil: "_biUtil",
                mobile: "_mobile",
                isRTL: "_isRTL",
                isSSR: "_isSSR",
                isSEO: "_isSEO",
                appDefinitionId: "_appDefinitionId",
                widgetId: "_widgetId",
                fedopsLogger: "_fedopsLogger",
                sentry: "_sentry",
                errorMonitor: "_errorMonitor",
                publicData: "_publicData",
                styles: "__styles",
                enabledHOCs: "_enabledHOCs",
                onAppLoaded: "_onAppLoaded",
                error: "_workerError",
                errorMonitorWithOptions: "__errorMonitorWithOptions",
                logger: "__logger",
                transactionWithAction: "__transactionWithAction"
            },
            qi = function() {
                function t() {
                    this.store = {}
                }
                return t.prototype.init = function() {}, t.prototype.getProps = function() {
                    return this.store
                }, t.prototype.getProp = function(t) {
                    var e = this.getPrivateKey(t);
                    return this.store[e]
                }, t.prototype.spreadProp = function(t) {
                    var e, n = this.getPrivateKey(t);
                    return (e = {})[n] = this.store[n], e
                }, t.prototype.getPrivateKey = function(e) {
                    return t.PropsMap[e]
                }, t.prototype.getFromExternalStore = function(t, e) {
                    return e[this.getPrivateKey(t)]
                }, t.prototype.setProp = function(t, e) {
                    var n = this.getPrivateKey(t);
                    this.store[n] = e
                }, t.prototype.isHOCEnabled = function(t) {
                    return this.getProp("enabledHOCs")[t]
                }, t.prototype.isFlowPropsReceived = function() {
                    return !!this.getProp("enabledHOCs")
                }, t.PropsMap = ji, t
            }(),
            Wi = function() {
                var t = function(e, n) {
                    return t = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(t, e) {
                        t.__proto__ = e
                    } || function(t, e) {
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n])
                    }, t(e, n)
                };
                return function(e, n) {
                    if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

                    function r() {
                        this.constructor = e
                    }
                    t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
                }
            }(),
            $i = function(t, e) {
                var n = {};
                for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
                if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                    var i = 0;
                    for (r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]])
                }
                return n
            },
            Hi = function(t) {
                function e(e) {
                    var n = this,
                        r = e.flowAPI,
                        i = e.panoramaClient,
                        o = $i(e, ["flowAPI", "panoramaClient"]);
                    return (n = t.call(this) || this).isCSRLoaded = !1, n.onAppLoadedProp = function() {
                        var t, e;
                        n.isCSRLoaded || (null === (t = n.flowAPI.fedops) || void 0 === t || t.appLoaded(), null === (e = n.panoramaClient) || void 0 === e || e.reportLoadFinish(), n.isCSRLoaded = !0)
                    }, n.setPublicData = function(t) {
                        n.setProp("publicData", function(t) {
                            var e = null != t ? t : {};
                            return e.APP || (e.APP = {}), e.COMPONENT || (e.COMPONENT = {}), e
                        }(t))
                    }, n.flowAPI = r, n.panoramaClient = i, n.initControllerProps(o), n
                }
                return Wi(e, t), e.prototype.initControllerProps = function(t) {
                    var e, n, r, i, o, a = t.translationsConfig,
                        s = t.experimentsConfig,
                        l = this.flowAPI;
                    this.setProp("translations", null !== (n = null === (e = l.translations) || void 0 === e ? void 0 : e.all) && void 0 !== n ? n : {}), this.setProp("openModal", l.openModal.bind(l)), this.setProp("multilingual", (o = l.environment.multilingual) ? {
                        currentLanguage: o.currentLanguage,
                        isEnabled: o.isEnabled,
                        siteLanguages: o.siteLanguages
                    } : null), this.setProp("experiments", null !== (i = null === (r = l.experiments) || void 0 === r ? void 0 : r.all()) && void 0 !== i ? i : {});
                    var u, c, d, p = function(t) {
                            return {
                                biMethods: t ? Gi(Gi({}, ei(t)), ni(t, ["report"])) : {},
                                biUtil: t && t.util ? ei(t.util) : {}
                            }
                        }(l.bi),
                        g = p.biMethods,
                        f = p.biUtil;
                    if (this.setProp("biMethods", g), this.setProp("biUtil", f), this.setProp("language", l.environment.language), this.setProp("isRTL", l.environment.isRTL), this.setProp("isSSR", l.environment.isSSR), this.setProp("isSEO", l.environment.isSEO), this.setProp("mobile", l.environment.isMobile), this.setProp("appDefinitionId", l.environment.appDefinitionId), this.setProp("widgetId", l.environment.widgetId), this.setProp("fedopsLogger", null != l.fedops ? (u = l.fedops, ni(u, ["interactionEnded", "interactionStarted"])) : null), l.panoramaClient) {
                        var h = function(t) {
                                var e = t.logger();
                                return {
                                    errorMonitorWithOptions: function(e, n) {
                                        for (var r = [], i = 2; i < arguments.length; i++) r[i - 2] = arguments[i];
                                        var o = t.errorMonitor(Bi(Bi({}, e), {
                                            data: Bi({
                                                environment: "Viewer"
                                            }, null == e ? void 0 : e.data)
                                        }));
                                        o[n].apply(o, r)
                                    },
                                    logger: {
                                        debug: e.debug.bind(e),
                                        info: e.info.bind(e),
                                        error: e.error.bind(e),
                                        warn: e.warn.bind(e)
                                    },
                                    transactionWithAction: function(e, n, r) {
                                        return t.transaction(e)[n](r)
                                    }
                                }
                            }(l.panoramaClient),
                            y = h.transactionWithAction,
                            m = h.errorMonitorWithOptions,
                            v = h.logger;
                        this.setProp("transactionWithAction", y), this.setProp("errorMonitorWithOptions", m), this.setProp("logger", v)
                    }
                    this.setProp("sentry", null != l.sentry ? (c = l.sentry, {
                        captureException: function(t) {
                            c.captureException(t)
                        },
                        captureMessage: function(t) {
                            c.captureMessage(t)
                        }
                    }) : null), this.setProp("errorMonitor", null != l.errorMonitor ? (d = l.errorMonitor, {
                        captureException: function(t, e) {
                            return d.captureException(t, e)
                        },
                        captureMessage: function(t, e) {
                            return d.captureMessage(t, e)
                        },
                        addBreadcrumb: function(t) {
                            d.addBreadcrumb(t)
                        }
                    }) : null), this.setPublicData(l.controllerConfig.config.publicData), this.setProp("enabledHOCs", {
                        translations: !1 !== (null == a ? void 0 : a.enabled),
                        experiments: !!s,
                        bi: !!l.bi,
                        sentry: !!l.sentry,
                        errorMonitor: !!l.errorMonitor,
                        fedops: !!l.fedops,
                        panoramaClient: !!l.panoramaClient
                    }), this.setProp("onAppLoaded", this.onAppLoadedProp), this.setProp("error", null)
                }, e.prototype.setErrorProp = function(t, e) {
                    this.setProp("error", t ? Ni(t, e) : null)
                }, e.prototype.passWidgetProp = function(t) {
                    this.flowAPI.controllerConfig.setProps(this.spreadProp(t))
                }, e.prototype.passWidgetErrorProp = function(t, e) {
                    this.setErrorProp(t, e), this.flowAPI.controllerConfig.setProps(this.spreadProp("error"))
                }, e.prototype.passWidgetInitialProps = function() {
                    this.flowAPI.controllerConfig.setProps(this.getProps())
                }, e
            }(qi),
            zi = function() {
                return zi = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t
                }, zi.apply(this, arguments)
            },
            Qi = function(t, e, n, r) {
                return new(n || (n = Promise))((function(i, o) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            Ki = function(t, e) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }), o;

                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;
                                switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {
                                    case 0:
                                    case 1:
                                        i = o;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = o[1], o = [0];
                                        continue;
                                    case 7:
                                        o = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                            a.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && a.label < i[1]) {
                                            a.label = i[1], i = o;
                                            break
                                        }
                                        if (i && a.label < i[2]) {
                                            a.label = i[2], a.ops.push(o);
                                            break
                                        }
                                        i[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                o = e.call(t, a)
                            } catch (t) {
                                o = [6, t], r = 0
                            } finally {
                                n = i = 0
                            }
                            if (5 & o[0]) throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            },
            Yi = function(t) {
                var e = t.controller,
                    n = t.experimentsConfig,
                    r = t.translationsConfig,
                    i = t.flowAPI,
                    o = t.appName,
                    a = t.componentName,
                    s = t.withErrorBoundary,
                    l = t.panoramaClient,
                    u = t._controllerError,
                    c = t._controllerErrorId,
                    d = new Hi({
                        flowAPI: i,
                        panoramaClient: l,
                        experimentsConfig: n,
                        translationsConfig: r
                    });
                return zi(zi({}, e), {
                    updateConfig: function(t, n) {
                        i.updateControllerConfig(n), d.setPublicData(n.publicData), d.passWidgetProp("publicData"), (null == e ? void 0 : e.updateConfig) && e.updateConfig(t, n)
                    },
                    pageReady: function() {
                        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        return Qi(void 0, void 0, void 0, (function() {
                            var n, r, p, g;
                            return Ki(this, (function(f) {
                                switch (f.label) {
                                    case 0:
                                        if (null === (p = null === (r = i.sentry) || void 0 === r ? void 0 : r.setTagsContext) || void 0 === p || p.call(r, {
                                                isSSR: i.environment.isSSR,
                                                isSEO: i.environment.isSEO
                                            }), d.passWidgetInitialProps(), u) throw d.passWidgetErrorProp(u, c), u;
                                        return (null == e ? void 0 : e.pageReady) ? [4, Ji((function() {
                                            return e.pageReady.apply(e, t)
                                        }), i, o, a)] : [3, 2];
                                    case 1:
                                        if (n = f.sent(), (null == (h = n) ? void 0 : h._error) && (d.passWidgetErrorProp(n._error, n._errorId), !i.environment.isEditor || !s)) throw n._error;
                                        f.label = 2;
                                    case 2:
                                        return i.environment.isSSR && (null === (g = i.fedops) || void 0 === g || g.appLoaded(), null == l || l.reportLoadFinish()), [2, n]
                                }
                                var h
                            }))
                        }))
                    }
                })
            },
            Xi = function(t, e, n, r, i) {
                var o, a, s;
                if (!e.environment.isEditor) {
                    if (console.error('\u2757\ufe0fError \u{1f449} "'.concat(n, '" app \u{1f449} ').concat(r, " controller \u{1f449} ").concat(i ? "".concat(i, " method") : "", " \u2757\n"), t), e.sentry) return null === (o = e.sentry) || void 0 === o || o.captureException(t), null === (s = null === (a = e.sentry) || void 0 === a ? void 0 : a.lastEventId) || void 0 === s ? void 0 : s.call(a);
                    if (e.errorMonitor) return e.errorMonitor.captureException(t)
                }
            },
            Ji = function(t, e, n, r) {
                return Qi(void 0, void 0, void 0, (function() {
                    var i, o;
                    return Ki(this, (function(a) {
                        switch (a.label) {
                            case 0:
                                return a.trys.push([0, 2, , 3]), [4, t()];
                            case 1:
                                return [2, a.sent()];
                            case 2:
                                return i = a.sent(), o = Xi(i, e, n, r, "pageReady"), [2, {
                                    _error: i,
                                    _errorId: o
                                }];
                            case 3:
                                return [2]
                        }
                    }))
                }))
            },
            Zi = function(t) {
                return function(e) {
                    var n;
                    return t.controllerConfig.config.publicData = e, (n = {})[qi.PropsMap.publicData] = e, n
                }
            },
            to = function() {
                return to = Object.assign || function(t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t
                }, to.apply(this, arguments)
            },
            eo = function(t) {
                return function(e) {
                    var n, r, i;
                    return t.controllerConfig.config.style.styleParams = (void 0 === (r = t.controllerConfig.config.style.styleParams) && (r = {}), void 0 === (i = e) && (i = {}), to(to({}, r), {
                        colors: to(to({}, r.colors), i.colors),
                        booleans: to(to({}, r.booleans), i.booleans),
                        fonts: to(to({}, r.fonts), i.fonts),
                        numbers: to(to({}, r.numbers), i.numbers)
                    })), (n = {})[qi.PropsMap.styles] = t.controllerConfig.config.style.styleParams, n
                }
            },
            no = function(t, e, n, r) {
                return new(n || (n = Promise))((function(i, o) {
                    function a(t) {
                        try {
                            l(r.next(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function s(t) {
                        try {
                            l(r.throw(t))
                        } catch (t) {
                            o(t)
                        }
                    }

                    function l(t) {
                        var e;
                        t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n((function(t) {
                            t(e)
                        }))).then(a, s)
                    }
                    l((r = r.apply(t, e || [])).next())
                }))
            },
            ro = function(t, e) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & i[0]) throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                    return this
                }), o;

                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n) throw new TypeError("Generator is already executing.");
                            for (; a;) try {
                                if (n = 1, r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, o[1])).done) return i;
                                switch (r = 0, i && (o = [2 & o[0], i.value]), o[0]) {
                                    case 0:
                                    case 1:
                                        i = o;
                                        break;
                                    case 4:
                                        return a.label++, {
                                            value: o[1],
                                            done: !1
                                        };
                                    case 5:
                                        a.label++, r = o[1], o = [0];
                                        continue;
                                    case 7:
                                        o = a.ops.pop(), a.trys.pop();
                                        continue;
                                    default:
                                        if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                            a = 0;
                                            continue
                                        }
                                        if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                            a.label = o[1];
                                            break
                                        }
                                        if (6 === o[0] && a.label < i[1]) {
                                            a.label = i[1], i = o;
                                            break
                                        }
                                        if (i && a.label < i[2]) {
                                            a.label = i[2], a.ops.push(o);
                                            break
                                        }
                                        i[2] && a.ops.pop(), a.trys.pop();
                                        continue
                                }
                                o = e.call(t, a)
                            } catch (t) {
                                o = [6, t], r = 0
                            } finally {
                                n = i = 0
                            }
                            if (5 & o[0]) throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            };
        const io = t => function(e) {
            void 0 === e && (e = {});
            const n = "function" == typeof t.factory ? t.factory(e) : t;
            return function(t, e) {
                return Object.defineProperty(e, "updateDefaults", {
                    value: function(e) {
                        return t.updateDefaults(e)
                    }
                }), e
            }(n, n.logger())
        };
        const oo = {
                sentryConfig: {
                    DSN: "https://337a342c302c4c0e8c26e425e74da4c1@o37417.ingest.sentry.io/1363752",
                    id: "337a342c302c4c0e8c26e425e74da4c1",
                    projectName: "new-gallery",
                    teamName: "wixstores",
                    errorMonitor: !0
                },
                biConfig: null,
                fedopsConfig: null,
                experimentsConfig: {
                    scopes: ["viewer-apps-1380b703-ce81-ff05-f115-39571d94dfcd"],
                    centralized: !0
                },
                biLogger: io,
                translationsConfig: {
                    enabled: !1,
                    icuEnabled: !1
                },
                persistentAcrossPages: !1,
                appName: null,
                componentName: "SliderGallery",
                appDefinitionId: "1380b703-ce81-ff05-f115-39571d94dfcd",
                componentId: "139a41fd-0b1d-975f-6f67-e8cbdf8ccc82",
                projectName: "wixstores-client-gallery",
                defaultTranslations: null,
                multilingualDisabled: !1,
                shouldUseEssentials: !0,
                withErrorBoundary: !1,
                localeDistPath: "assets/locales"
            },
            ao = function(t, e, n) {
                var r = e.sentryConfig,
                    i = e.biConfig,
                    o = e.experimentsConfig,
                    a = e.fedopsConfig,
                    s = e.biLogger,
                    l = e.projectName,
                    u = e.inEditor,
                    c = e.translationsConfig,
                    d = e.defaultTranslations,
                    p = e.appName,
                    g = e.componentId,
                    f = e.componentName,
                    h = e.persistentAcrossPages,
                    y = e.localeDistPath,
                    m = e.shouldUseEssentials,
                    v = e.withErrorBoundary,
                    S = e.multilingualDisabled;
                return function(e) {
                    var b = e.controllerConfig,
                        I = e.appData,
                        P = e.flowAPI,
                        C = e.platformServices,
                        _ = e.wixApi,
                        T = e.dangerousPublicDataOverride,
                        w = e.dangerousStylesOverride;
                    return no(void 0, void 0, void 0, (function() {
                        var e, O, A, E, D, R, N, x, M, L, F, U, k, V;
                        return ro(this, (function(B) {
                            switch (B.label) {
                                case 0:
                                    return P ? [2, t.call(null, {
                                        controllerConfig: b,
                                        flowAPI: P,
                                        appData: I,
                                        dangerousPublicDataOverride: T,
                                        dangerousStylesOverride: w
                                    })] : (e = I.__prepopulated, O = function(t, e) {
                                        if (!t.createPanoramaClient) return null;
                                        var n = e.componentId,
                                            r = e.sentryConfig,
                                            i = e.environment;
                                        return t.createPanoramaClient({
                                            fullArtifactId: "com.wixpress.wixstores-client-gallery",
                                            artifactVersion: "74b07f2e21c3b37e4531c39103bdb7a1eb1c92254d3c49653e9cb103",
                                            componentId: n,
                                            sentryDsn: null == r ? void 0 : r.DSN,
                                            sentryEnvironment: i
                                        })
                                    }(b.essentials, {
                                        componentId: g,
                                        sentryConfig: r,
                                        environment: "Viewer:Worker"
                                    }), [4, (A = new Ci({
                                        experimentsConfig: o,
                                        projectName: l,
                                        sentryConfig: r,
                                        essentials: null !== (x = null == C ? void 0 : C.essentials) && void 0 !== x ? x : b.essentials,
                                        platformBI: null !== (M = null == C ? void 0 : C.bi) && void 0 !== M ? M : b.platformAPIs.bi,
                                        biLoggerFactory: null !== (L = null == C ? void 0 : C.biLoggerFactory) && void 0 !== L ? L : null === (F = null == b ? void 0 : b.platformAPIs) || void 0 === F ? void 0 : F.biLoggerFactory,
                                        monitoring: null !== (U = null == C ? void 0 : C.monitoring) && void 0 !== U ? U : null === (k = null == b ? void 0 : b.platformAPIs) || void 0 === k ? void 0 : k.monitoring,
                                        appData: b.appParams,
                                        wixAPI: null != _ ? _ : b.wixCodeApi,
                                        translationsConfig: c,
                                        defaultTranslations: d,
                                        inEditor: u,
                                        biConfig: i,
                                        biLogger: s,
                                        appName: p,
                                        prepopulatedData: e,
                                        optionalDeps: n,
                                        localeDistPath: y,
                                        shouldUseEssentials: m
                                    })).init()]);
                                case 1:
                                    return B.sent(), [4, (P = new Vi({
                                        translations: A.translations,
                                        viewerScriptFlowAPI: A,
                                        appDefinitionId: null === (V = b.appParams) || void 0 === V ? void 0 : V.appDefinitionId,
                                        translationsConfig: c,
                                        componentId: b.compId,
                                        componentName: f,
                                        widgetId: b.type,
                                        biLogger: s,
                                        fedopsConfig: a,
                                        controllerConfig: b,
                                        persistentAcrossPages: h,
                                        sentryConfig: r,
                                        prepopulatedData: e,
                                        shouldUseEssentials: m,
                                        multilingualDisabled: S,
                                        panoramaClient: O
                                    })).init()];
                                case 2:
                                    B.sent(), E = t({
                                        controllerConfig: b,
                                        flowAPI: P,
                                        appData: I,
                                        dangerousPublicDataOverride: Zi(P),
                                        dangerousStylesOverride: eo(P)
                                    }), D = null, B.label = 3;
                                case 3:
                                    return B.trys.push([3, 5, , 6]), [4, E];
                                case 4:
                                    return R = B.sent(), [3, 6];
                                case 5:
                                    return N = B.sent(), P.reportError(N), D = N, R = {}, [3, 6];
                                case 6:
                                    return [2, Yi({
                                        controller: R,
                                        translations: P.translations,
                                        experiments: P.experiments,
                                        biLogger: P.bi,
                                        controllerConfig: b,
                                        flowAPI: P,
                                        experimentsConfig: o,
                                        translationsConfig: c,
                                        appName: p,
                                        componentName: f,
                                        withErrorBoundary: v,
                                        _controllerError: D,
                                        optionalDeps: n,
                                        panoramaClient: O
                                    })]
                            }
                        }))
                    }))
                }
            }(Qr, oo, {
                initI18n: null,
                createHttpClient: null,
                createExperiments: null
            }),
            so = null,
            lo = { ...oo,
                id: oo.componentId,
                widgetType: "WIDGET_OUT_OF_IFRAME",
                controllerFileName: "/home/builduser/work/61fddcc8ad229dc6/packages/wixstores-client-gallery/src/components/SliderGallery/controller.ts"
            },
            uo = ao,
            co = ao
    })(), r
})()));
//# sourceMappingURL=SliderGalleryController.bundle.min.js.map
//# sourceURL=https://static.parastorage.com/services/wixstores-client-gallery/1.4146.0/SliderGalleryController.bundle.min.js